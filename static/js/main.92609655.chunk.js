(this.webpackJsonpcontractor=this.webpackJsonpcontractor||[]).push([[0],{142:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},236:function(e,t,a){e.exports=a(555)},469:function(e,t,a){},470:function(e,t,a){},555:function(e,t,a){"use strict";a.r(t);a(237),a(164),a(286);var n=a(1),s=a.n(n),r=a(52),l=a.n(r),i=(a(469),a(7)),c=a(19),o=(a(470),a(8)),m=a.n(o),u=a(20),d=a(83),p=a(84),h={name:"Contractor",description:"Contractor admin dashboard",version:"1.0",hostname:"https://contractor-app-test-api.herokuapp.com/v1"},v=a(232),b=a(233),f=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e,n){var s;return Object(d.a)(this,a),(s=t.call(this,e,n)).token=void 0,s.jobType=void 0,s.activeTask=void 0,s.lastPasswordChanged=void 0,s.token=e.token,s.jobType=e.jobType,s.activeTask=e.activeTask,s.lastPasswordChanged=e.lastPasswordChanged,s}return Object(p.a)(a,[{key:"profileImageURL",get:function(){return this.profilePhoto}}]),Object(p.a)(a,null,[{key:"getUser",value:function(){var e=Object(u.a)(m.a.mark((function e(t,n,s){var r,l,i,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.initiateNetworkRequest("/users/".concat(n),{method:"GET",referrerPolicy:"no-referrer",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(s)}});case 3:if((r=e.sent).ok){e.next=22;break}return e.t0=Error,e.next=8,r.json();case 8:if(e.t3=l=e.sent,e.t2=null===e.t3,e.t2){e.next=12;break}e.t2=void 0===l;case 12:if(!e.t2){e.next=16;break}e.t4=void 0,e.next=17;break;case 16:e.t4=l.message;case 17:if(e.t1=e.t4,e.t1){e.next=20;break}e.t1="Failed to fetch user data!";case 20:throw e.t5=e.t1,new e.t0(e.t5);case 22:return e.next=24,r.json();case 24:return i=e.sent,(c=new a(i,!0)).id=n,c.token=s,e.abrupt("return",c);case 31:throw e.prev=31,e.t6=e.catch(0),e.t6;case 34:case"end":return e.stop()}}),e,null,[[0,31]])})));return function(t,a,n){return e.apply(this,arguments)}}()}]),a}((function e(t,a){Object(d.a)(this,e),this.id=void 0,this.role=void 0,this.firstName=void 0,this.lastName=void 0,this.occupation=void 0,this.city=void 0,this.state=void 0,this.starRate=5,this.email=void 0,this.password=void 0,this.phoneNumber=void 0,this.profilePhoto=void 0,this.profileBio=void 0,this.dateCreated=void 0,this.accountStatus="Pending",this.workHistory=[],this.educationalBackground=[],this.skills=[],this.licenses=[],a?(this.role=t.role,this.firstName=t.first_name,this.lastName=t.last_name,this.occupation=t.occupation,this.starRate=t.star_rate,this.dateCreated=t.date_created,this.city=t.city,this.email=t.email,this.accountStatus=t.account_status,this.educationalBackground=t.educational_background,this.phoneNumber=t.phone_number,this.profilePhoto=t.profile_photo,this.state=t.state,this.skills=t.skills):(this.role=t.role,this.firstName=t.firstName,this.lastName=t.lastName,this.occupation=t.occupation,this.starRate=t.starRate,this.dateCreated=t.dateCreated,this.city=t.city,this.email=t.email,this.accountStatus=t.accountStatus,this.educationalBackground=t.educationalBackground,this.phoneNumber=t.phoneNumber,this.profilePhoto=t.profilePhoto,this.state=t.state,this.skills=t.skills),this.id=t.id})),E=new f({});E.firstName="John",E.lastName="Doe",E.id="unique",E.email="a@example.com",E.profileBio="Lorem ipsum dolor sit amet consectetur adipisicing elit. Ullam vero iure, ducimus, explicabo vel nesciunt eveniet, enim quis quos ex autem!",E.jobType="onsite",E.phoneNumber="080838111111",E.starRate=4.2,E.lastPasswordChanged=Date.now(),E.dateCreated=new Date("20/07/2020"),E.skills=["Farming","Poultry"];var N=a(63),g=a.n(N),x="app.user.session",w="app.data";function y(e){return k.apply(this,arguments)}function k(){return(k=Object(u.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g.a.config({driver:[g.a.INDEXEDDB,g.a.LOCALSTORAGE,g.a.WEBSQL],name:"".concat(t.config.name," v").concat(t.config.version),version:1,storeName:"adminstore",description:"Storage for Contractor application administrative interface"}),e.next=3,g.a.ready();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j=g.a,O=a(53),C=a.n(O),T={lastUserName:""},P=new(function(){function e(t){var a=this;Object(d.a)(this,e),this.config=void 0,this.user=void 0,this.ready=void 0,this.settings=T,this.logoutListener=void 0,this.loginListener=void 0,this.config=t,this.ready=new Promise(function(){var e=Object(u.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.init();case 3:t(!0),e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",n(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}())}return Object(p.a)(e,[{key:"init",value:function(){var e=Object(u.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(this);case 2:return e.prev=2,e.next=5,j.getItem(w);case 5:(t=e.sent)&&(this.settings=t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.info(e.t0,"No app data persisted!");case 12:return e.prev=12,e.next=15,this.inflateUser();case 15:this.loginListener&&this.loginListener(),e.next=21;break;case 18:e.prev=18,e.t1=e.catch(12),console.log(e.t1);case 21:return e.abrupt("return",!0);case 22:case"end":return e.stop()}}),e,this,[[2,9],[12,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"signedIn",value:function(){var e;return this.user&&(null===(e=this.user)||void 0===e?void 0:e.token)}},{key:"updateSettings",value:function(){var e=Object(u.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Empty options provided!");case 2:if(JSON.stringify(t)!==JSON.stringify(this.settings)){e.next=4;break}return e.abrupt("return");case 4:return this.settings=Object(i.a)({},this.settings,{},t),e.next=7,j.setItem(w,this.settings);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"initiateNetworkRequest",value:function(){var e=Object(u.a)(m.a.mark((function e(t,a){var n,s,r,l,c,o,u,d=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>2&&void 0!==d[2]&&d[2],l=Object(i.a)({},a,{referrerPolicy:"no-referrer",headers:Object(i.a)({},null===a||void 0===a?void 0:a.headers,{Accept:"application/json",Authorization:r?"Bearer ".concat(null===(n=this.user)||void 0===n?void 0:n.token):null===a||void 0===a||null===(s=a.headers)||void 0===s?void 0:s.Authorization,"Content-Type":"application/json"})}),e.next=4,fetch("".concat(this.config.hostname).concat(t),l);case 4:if(401!==(c=e.sent).status){e.next=25;break}if(this.user){e.next=8;break}throw new Error("Unauthenticated access not allowed!");case 8:return e.prev=8,e.next=11,this.reauthenticate();case 11:return o=e.sent,u=o.token,this.user.token=u,l&&l.headers&&l.headers.Authorization&&(l.headers.Authorization="Bearer ".concat(u)),e.next=17,this.initiateNetworkRequest(t,l);case 17:return e.abrupt("return",e.sent);case 20:return e.prev=20,e.t0=e.catch(8),e.next=24,this.logout();case 24:throw e.t0||new Error("App session expired. Login to continue!");case 25:return e.abrupt("return",c);case 26:case"end":return e.stop()}}),e,this,[[8,20]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"reauthenticate",value:function(){var e=Object(u.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Failed to authenticate user!");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"inflateUser",value:function(){var e=Object(u.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.getItem(x);case 2:if(t=e.sent){e.next=5;break}throw new Error("No session available for user!");case 5:return this.user=new f(t),e.abrupt("return",this.user);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"persistUser",value:function(){var e=Object(u.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.user){e.next=2;break}throw new Error("No user created!");case 2:return e.next=4,j.setItem(x,this.user);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"validateNumber",value:function(){var e=Object(u.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Phone number must be provided!");case 2:if((t=t.trim())&&C.a.isMobilePhone(t)){e.next=5;break}throw new Error("Invalid phone number provided!");case 5:if(t.startsWith("+")){e.next=7;break}throw new Error("Phone number must begin with '+' and contain country code!");case 7:return e.next=9,this.initiateNetworkRequest("/users/phone/".concat(encodeURIComponent(t)),{method:"GET"});case 9:if((a=e.sent).ok){e.next=28;break}return e.t0=Error,e.next=14,a.json();case 14:if(e.t3=n=e.sent,e.t2=null===e.t3,e.t2){e.next=18;break}e.t2=void 0===n;case 18:if(!e.t2){e.next=22;break}e.t4=void 0,e.next=23;break;case 22:e.t4=n.message;case 23:if(e.t1=e.t4,e.t1){e.next=26;break}e.t1="Verification failed!";case 26:throw e.t5=e.t1,new e.t0(e.t5);case 28:return e.next=30,a.json();case 30:if(e.sent.valid){e.next=33;break}throw new Error("Invalid phone number (ensure phone number is associated with a user)!");case 33:return e.abrupt("return",!0);case 34:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"triggerVerification",value:function(){var e=Object(u.a)(m.a.mark((function e(t){var a,n,s,r=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.length>1&&void 0!==r[1]?r[1]:"sms",t){e.next=3;break}throw new Error("Phone number must be provided!");case 3:if((t=t.trim())&&C.a.isMobilePhone(t)){e.next=6;break}throw new Error("Invalid phone number provided!");case 6:if(t.startsWith("+")){e.next=8;break}throw new Error("Phone number must begin with '+' and contain country code!");case 8:return e.next=10,this.initiateNetworkRequest("/users/sms_registration",{method:"POST",body:JSON.stringify({phone_number:t,channel:a})});case 10:if((n=e.sent).ok){e.next=29;break}return e.t0=Error,e.next=15,n.json();case 15:if(e.t3=s=e.sent,e.t2=null===e.t3,e.t2){e.next=19;break}e.t2=void 0===s;case 19:if(!e.t2){e.next=23;break}e.t4=void 0,e.next=24;break;case 23:e.t4=s.message;case 24:if(e.t1=e.t4,e.t1){e.next=27;break}e.t1="Verification failed!";case 27:throw e.t5=e.t1,new e.t0(e.t5);case 29:return e.abrupt("return",!0);case 30:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(u.a)(m.a.mark((function e(t,a,n){var s,r,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.validateLogin(t,a,n);case 3:return e.next=5,this.initiateNetworkRequest("/users/login",{method:"POST",referrerPolicy:"no-referrer",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({phone_number:t,code:a,password:n})});case 5:if((s=e.sent).ok){e.next=24;break}return e.t0=Error,e.next=10,s.json();case 10:if(e.t3=r=e.sent,e.t2=null===e.t3,e.t2){e.next=14;break}e.t2=void 0===r;case 14:if(!e.t2){e.next=18;break}e.t4=void 0,e.next=19;break;case 18:e.t4=r.message;case 19:if(e.t1=e.t4,e.t1){e.next=22;break}e.t1="Login failed!";case 22:throw e.t5=e.t1,new e.t0(e.t5);case 24:return e.next=26,s.json();case 26:if((l=e.sent).success){e.next=29;break}throw new Error("Login failed!");case 29:return e.next=31,f.getUser(this,l.userName,l.token);case 31:if(this.user=e.sent,"admin"===this.user.role){e.next=34;break}throw new Error("Authenticated access only allowed for administrators!");case 34:return e.next=36,this.persistUser();case 36:return this.loginListener&&this.loginListener(),e.abrupt("return",this.user);case 40:throw e.prev=40,e.t6=e.catch(0),e.t6;case 43:case"end":return e.stop()}}),e,this,[[0,40]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"validateLogin",value:function(){var e=Object(u.a)(m.a.mark((function e(t,a,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n&&a){e.next=2;break}throw new Error("Credentials not provided!");case 2:if((t=t.trim())&&C.a.isMobilePhone(t)){e.next=5;break}throw new Error("Invalid phone number provided!");case 5:if(t.startsWith("+")){e.next=7;break}throw new Error("Phone number must begin with '+' and contain country code!");case 7:if(C.a.matches(n,/.{6,}/i)){e.next=9;break}throw new Error("Invalid password provided (Password must be more than 6 characters)!");case 9:if(C.a.matches(a,/[0-9]{4}/)){e.next=11;break}throw new Error("Invalid code provided (provided code must have 4 digits)!");case 11:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"addAdmin",value:function(){var e=Object(u.a)(m.a.mark((function e(t){var a,n,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.validateRegister(t);case 3:return e.next=5,this.initiateNetworkRequest("/users/new",{method:"POST",body:JSON.stringify(Object(i.a)({},t,{role:"admin",account_status:"accepted"}))});case 5:if((a=e.sent).ok){e.next=21;break}return e.t0=Error,e.next=10,a.json();case 10:if(e.t2=n=e.sent,e.t1=null===e.t2,e.t1){e.next=14;break}e.t1=void 0===n;case 14:if(!e.t1){e.next=18;break}e.t3=void 0,e.next=19;break;case 18:e.t3=n.message;case 19:throw e.t4=e.t3,new e.t0(e.t4);case 21:return e.next=23,a.json();case 23:return s=e.sent,e.abrupt("return",s);case 27:throw e.prev=27,e.t5=e.catch(0),e.t5;case 30:case"end":return e.stop()}}),e,this,[[0,27]])})));return function(t){return e.apply(this,arguments)}}()},{key:"validateRegister",value:function(){var e=Object(u.a)(m.a.mark((function e(t){var a,n,s,r,l,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.email,n=t.password,s=t.first_name,r=t.last_name,l=t.password_verify,i=t.phone_number,a&&n){e.next=3;break}throw new Error("Credentials not provided!");case 3:if(n===l){e.next=5;break}throw new Error("Passwords do not match!");case 5:if(a=a.trim(),s=s.trim(),r=r.trim(),s&&r){e.next=10;break}throw new Error("Firstname and lastname must be provided!");case 10:if(a&&C.a.isEmail(a)){e.next=12;break}throw new Error("Invalid username provided!");case 12:if(i&&C.a.isMobilePhone(i)){e.next=14;break}throw new Error("Invalid phone number provided!");case 14:if(i.startsWith("+")){e.next=16;break}throw new Error("Phone number must begin with '+' and contain country code!");case 16:if(C.a.matches(n,/.{6,}/i)){e.next=18;break}throw new Error("Invalid password provided (Password must be more than 6 characters)!");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(u.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.user=void 0,e.next=3,j.removeItem(x);case 3:this.logoutListener&&this.logoutListener();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}())(h);P.user=E;var L,S=Object(n.createContext)(P),D=Object(n.createContext)({setSignedIn:function(e){},signedIn:null,setAppReady:function(e){},showToolbar:function(e){},showFooter:function(e){}}),A={toolbar:{boxShadow:"-2px 2px 3px 0px #8888"},appLogoIcon:{fontSize:"2em",marginRight:".5em",color:"blue"},appLogoText:{fontSize:"1.2em",fontWeight:"bold"},jobProgressBar:{height:".4em"}},z=a(5),I=a(9),R="/register",q="/login",M="/messages",_="/",F="/dashboard",V="/invoices",B="/jobs",U="/jobs/active",J="/jobs/inactive",Q="/privacyPolicy",G="/terms",W="/profile",H="/help",Y="/logout",K="/settings",X="/settings",$="/settings/payment",Z="/settings/features",ee="/settings/legal";function te(){var e,t,a=Object(n.useState)({showMenu:!1}),r=Object(c.a)(a,2),l=r[0],o=r[1],m=Object(n.useContext)(S);Object(n.useContext)(D);return s.a.createElement("nav",{className:"navbar",role:"navigation",style:A.toolbar,"aria-label":"main navigation"},s.a.createElement("div",{className:"navbar-brand"},s.a.createElement(I.b,{className:"navbar-item",to:_},s.a.createElement(z.h,{style:A.appLogoIcon}),s.a.createElement("span",{style:A.appLogoText},m.config.name)),s.a.createElement("a",{role:"button",className:"navbar-burger burger ".concat(l.showMenu?"is-active":""),"aria-label":"menu","aria-expanded":"false","data-target":"navbar",onClick:function(){clearTimeout(L),l.showMenu?o(Object(i.a)({},l,{showMenu:!1})):(o(Object(i.a)({},l,{showMenu:!0})),L=setTimeout((function(){o(Object(i.a)({},l,{showMenu:!1}))}),2e4))}},s.a.createElement("span",{"aria-hidden":"true"}),s.a.createElement("span",{"aria-hidden":"true"}),s.a.createElement("span",{"aria-hidden":"true"}))),s.a.createElement("div",{className:"navbar-menu ".concat(l.showMenu?"is-active":"")},s.a.createElement("div",{className:"navbar-start"},s.a.createElement(I.c,{to:F,exact:!0,activeClassName:"is-active",className:"navbar-item is-tab"},"Dashboard"),s.a.createElement(I.c,{to:M,activeClassName:"is-active",className:"navbar-item is-tab"},"Messages"),s.a.createElement(I.c,{to:V,activeClassName:"is-active",className:"navbar-item is-tab"},"Invoices"),s.a.createElement(I.c,{to:B,activeClassName:"is-active",className:"navbar-item is-tab"},"Jobs")),s.a.createElement("div",{className:"navbar-end"},s.a.createElement("div",{className:"navbar-item"},s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control has-icons-left"},s.a.createElement("input",{className:"input is-rounded",type:"search",placeholder:"Type to search..."}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement(z.s,{className:"is-size-5"}))))),s.a.createElement("div",{className:"navbar-item has-dropdown is-hoverable"},s.a.createElement("span",{className:"navbar-link"},"".concat(null===(e=m.user)||void 0===e?void 0:e.firstName," ").concat(null===(t=m.user)||void 0===t?void 0:t.lastName)),s.a.createElement("div",{className:"navbar-dropdown"},s.a.createElement(I.b,{to:W,className:"navbar-item"},"Profile"),s.a.createElement(I.b,{to:H,className:"navbar-item"},"Help Center"),s.a.createElement(I.b,{to:Y,className:"navbar-item"},"Sign Out"))),s.a.createElement("div",{className:"navbar-item"},s.a.createElement(I.b,{to:K,className:"button is-rounded is-light is-fullwidth"},s.a.createElement(z.f,null))))))}function ae(){return s.a.createElement("section",{className:"hero is-fullheight is-bold is-flex-centered",style:{alignItems:"stretch",padding:"2em"}},s.a.createElement("div",{className:"hero-body has-text-centered"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"section"},s.a.createElement("progress",{className:"progress is-small is-danger",max:"100"},"loading")))))}function ne(e){var t=e.header,a=e.optionsText,n=e.children,r=e.style;return s.a.createElement("div",{className:"card",style:r},s.a.createElement("header",{className:"card-header"},s.a.createElement("p",{className:"card-header-title"},t),s.a.createElement("p",{className:"card-header-icon"},s.a.createElement("span",null,a))),s.a.createElement("div",{className:"card-content"},s.a.createElement("div",{className:"container is-fluid px-0"},n)))}function se(){var e=Object(n.useContext)(S);return s.a.createElement("footer",{className:"footer is-unselectable"},s.a.createElement("div",{className:"content has-text-centered is-size-7-touch"},s.a.createElement("p",null,"\xa9 ",e.config.name," ",(new Date).getFullYear(),". All Rights Reserved | ",s.a.createElement(I.b,{to:Q},"Privacy Policy")," | ",s.a.createElement(I.b,{to:G},"Terms of Service")," ")))}var re=a(26),le=a(31),ie=a.n(le);function ce(e){var t=e.notification,a=ie.a.unix(t.timestamp/1e3);return s.a.createElement("div",{className:"container is-fluid is-paddingless list-item py-2",title:t.title},s.a.createElement("div",{className:"columns is-variable is-1 py-1 px-1 is-vcentered"},s.a.createElement("div",{className:"column is-paddingless is-6 has-text-left list-item-title"},s.a.createElement("p",{style:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}},function(e){switch(e.type){case"discovery":return s.a.createElement("span",{className:"icon has-text-white has-background-info is-small",style:{borderRadius:"50%",fontSize:"0.6em"}}," ",s.a.createElement(z.s,null)," ");case"location":return s.a.createElement("span",{className:"icon has-text-white has-background-info is-small",style:{borderRadius:"50%",fontSize:"0.6em"}}," ",s.a.createElement(z.p,null)," ");case"progress":return s.a.createElement("span",{className:"icon has-text-white has-background-info is-small",style:{borderRadius:"50%",fontSize:"0.6em"}}," ",s.a.createElement(z.c,null)," ")}}(t)," ",t.title)),s.a.createElement("div",{className:"column is-paddingless has-text-right has-text-left-mobile list-item-subtitle"},s.a.createElement("p",{style:{maxLines:2}},a.fromNow()))),s.a.createElement("div",{className:"content"},s.a.createElement("p",null,t.content)))}function oe(e){var t=e.className;return s.a.createElement("nav",{className:t},s.a.createElement("div",{className:"panel"},s.a.createElement("div",{className:"panel-heading has-text-left has-background-white-bis"},s.a.createElement("p",null,"Notifications")),me.map((function(e){return s.a.createElement(I.b,{key:e.id,to:"/f",className:"panel-block"},s.a.createElement(ce,{notification:e}))}))))}var me=[{content:"testing 123",timestamp:Date.now(),type:"discovery",title:"testing notification",id:"23xe"},{content:"testing 12",timestamp:Date.now(),type:"location",title:"testing notification",id:"23xe"},{title:"testing 1",timestamp:Date.now(),type:"progress",content:"Lorem ipsum dolor sit amet consectetur adipisicing elit.?",id:"23se"},{title:"testing 1",timestamp:Date.now(),type:"location",content:"Lorem ipsum dolor sit amet consectetur adipisicing elit.?",id:"23se"},{title:"testing 1",timestamp:Date.now(),type:"discovery",content:"Lorem ipsum dolor sit amet consectetur adipisicing elit.?",id:"23se"}],ue=Intl.NumberFormat("en-US",{currency:"USD",style:"currency",maximumFractionDigits:2});function de(e){var t=e.payment,a=ie.a.unix(t.timestamp/1e3);return s.a.createElement("div",{className:"container is-fluid is-paddingless list-item py-2",title:t.title},s.a.createElement("div",{className:"columns is-variable is-1 py-1 px-1 is-vcentered"},s.a.createElement("div",{className:"column is-paddingless is-6 has-text-left list-item-title"},s.a.createElement("p",{style:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}},t.title)),s.a.createElement("div",{className:"column is-paddingless has-text-right has-text-left-mobile list-item-subtitle"},s.a.createElement("p",null,a.fromNow()))),s.a.createElement("div",{className:"content"},s.a.createElement("p",null,function(e){switch(e.type){case"pending":return"You have a pending charge of ".concat(ue.format(e.cost)," for the completion of this job by ").concat(e.payee);case"paid":return"A payment of ".concat(ue.format(e.cost)," has been submitted to ").concat(e.payee)}}(t))))}function pe(e){var t=e.className;return s.a.createElement("nav",{className:t},s.a.createElement("div",{className:"panel"},s.a.createElement("div",{className:"panel-heading has-text-left has-background-white-bis"},s.a.createElement("p",null,"Payments")),he.map((function(e){return s.a.createElement(I.b,{to:"/f",key:e.id,className:"panel-block"},s.a.createElement(de,{payment:e}))}))))}var he=[{type:"pending",timestamp:Date.now(),cost:20.405,title:"Clear lawn",payee:"Philip Barnabas",id:"2ss354"},{type:"paid",timestamp:Date.now(),cost:200.405,title:"Clear lawn and take out firewood",payee:"Philip Barnabas",id:"23sss54"},{type:"pending",timestamp:Date.now(),cost:3000.405,title:"Clear lawn",payee:"Philip Barnabas",id:"235s4"}],ve=a(228),be=a(229);function fe(e){var t=e.job,a=Object(le.unix)(t.timestamp/1e3);return s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-content"},s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-6 has-text-centered-touch has-text-left"},s.a.createElement("p",{style:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}},t.title)),s.a.createElement("div",{className:"column has-text-centered-touch has-text-right"},s.a.createElement("p",null,t.location))),s.a.createElement("div",{className:"content"},s.a.createElement("p",null,t.description))),s.a.createElement("div",{className:"card-footer"},s.a.createElement("div",{className:"card-footer-item"},s.a.createElement("div",{className:"columns px-4 is-vcentered is-mobile",style:{flexDirection:"column",flex:1}},s.a.createElement("div",{className:"column is-12"},s.a.createElement("div",{className:"columns is-vcentered is-mobile"},s.a.createElement("div",{className:"column is-narrow is-flex",style:{justifyContent:"center"}},s.a.createElement("figure",{className:"image is-flex is-32x32"},s.a.createElement("img",{className:"is-rounded",src:t.user.profileImageURL}))),s.a.createElement("div",{className:"column is-narrow"},s.a.createElement("div",{className:"title is-6"},"".concat(t.user.firstName," ").concat(t.user.lastName))),s.a.createElement("div",{className:"column has-text-right"},a.calendar()))),s.a.createElement("div",{className:"column is-12"},s.a.createElement("progress",{className:"progress is-info",style:A.jobProgressBar,value:t.progress||0,max:"100"},t.progress))))))}function Ee(e){var t,a=e.job,n=e.to,r=Object(le.unix)(a.timestamp/1e3);return a.endTime&&(t=Object(le.unix)(a.endTime/1e3)),s.a.createElement(I.c,{activeClassName:"is-active",to:n,className:"job-item mb-8 is-block card is-shadowless has-background-white-ter"},s.a.createElement("div",{className:"card-content"},s.a.createElement("div",{className:"container is-paddingless"},s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-6 has-text-centered-touch has-text-left"},s.a.createElement("p",{style:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}},a.title)),s.a.createElement("div",{className:"column has-text-centered-touch has-text-right"},s.a.createElement("p",null,a.location))),s.a.createElement("div",{className:"columns is-vcentered is-mobile"},s.a.createElement("div",{className:"column is-narrow is-flex",style:{justifyContent:"center"}},s.a.createElement("figure",{className:"image is-flex is-32x32"},s.a.createElement("img",{className:"is-rounded",src:a.user.profileImageURL}))),s.a.createElement("div",{className:"column is-narrow"},s.a.createElement("div",{className:"title is-6"},"".concat(a.user.firstName," ").concat(a.user.lastName))),s.a.createElement("div",{className:"column has-text-right"},r.calendar())),s.a.createElement("div",{className:"content"},s.a.createElement("p",null,a.description))),s.a.createElement("div",{className:"columns px-4 pt-4 is-vcentered is-mobile",style:{flexDirection:"column",flex:1}},s.a.createElement("div",{className:"column is-12"},a.progress&&a.progress>=100?s.a.createElement("p",null,"Completed ",t.calendar()):s.a.createElement("progress",{className:"progress is-info",style:A.jobProgressBar,value:a.progress||0,max:"100"},a.progress)))))}function Ne(e){var t=e.job,a=e.className;if(!t)return s.a.createElement("div",{className:"".concat(a," card job-detail"),style:{flexDirection:"column"}},s.a.createElement("div",{className:"card-content is-paddingless is-flex-centered has-text-grey my-6"},s.a.createElement("span",{className:"my-4"},s.a.createElement(z.n,{fill:"#811",style:{height:"8rem",width:"8rem"}})),s.a.createElement("p",{className:"is-uppercase is-size-6 has-text-weight-bold"},"View and manage job listings")));var n=Object(le.unix)(t.timestamp/1e3);return s.a.createElement("div",{className:"".concat(a," card job-detail"),style:{flexDirection:"column"}},s.a.createElement("div",{className:"card-content is-paddingless"},s.a.createElement("div",{className:"level py-4 mb-0"},s.a.createElement("div",{className:"level-item is-size-6"},"POSTED ",n.calendar()),s.a.createElement("div",{className:"level-item is-size-4 has-text-weight-bold"},t.title),s.a.createElement("div",{className:"level-item is-size-6"},t.id)),s.a.createElement("div",{className:"container is-fluid px-0"},s.a.createElement("div",{className:"columns is-fullheight mx-0 is-multiline"},s.a.createElement("div",{className:"column is-8-fullhd is-7-desktop is-12 px-0"},s.a.createElement(ge,{job:t})),s.a.createElement("div",{className:"column is-4-fullhd is-5-desktop is-12 is-flex"},s.a.createElement(xe,{job:t}))))))}function ge(e){var t,a,n,r,l=e.job;return l.endTime&&(a=Object(le.unix)(l.endTime/1e3)),l.startTime&&(n=Object(le.unix)(l.startTime/1e3)),l.endTime&&l.startTime&&(r=a.diff(n,"h",!0)),s.a.createElement("div",{className:"is-atleast-fullheight is-flex",style:{flexDirection:"column"}},s.a.createElement("figure",{className:"image is-16by9",style:{position:"relative",paddingTop:"30%"}},s.a.createElement("img",{src:"https://via.placeholder.com/728x90.png"}),s.a.createElement("a",{className:"button is-large",style:{position:"absolute",bottom:4,right:4,background:"transparent",border:0}},s.a.createElement("span",{className:"icon is-size-2"},s.a.createElement(z.j,null)))),s.a.createElement("div",{className:"is-flex py-4",style:{flexDirection:"column",justifyContent:"space-between",flex:1}},s.a.createElement("div",{className:"section"},s.a.createElement("table",{className:"table is-hoverable is-fullwidth"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",{className:" has-text-right"},"LOCATION"),s.a.createElement("td",{className:" has-text-left"},l.location)),s.a.createElement("tr",null,s.a.createElement("td",{className:" has-text-right"},"DESCRIPTION"),s.a.createElement("td",{className:" has-text-left"},l.description)),s.a.createElement("tr",null,s.a.createElement("td",{className:" has-text-right"},"PAY"),s.a.createElement("td",{className:" has-text-left"},l.description)),s.a.createElement("tr",null,s.a.createElement("td",{className:" has-text-right"},"TASKS"),s.a.createElement("td",{className:" has-text-left"},l.tasks&&l.tasks.length>1?null===(t=l.tasks)||void 0===t?void 0:t.map((function(e){return s.a.createElement("p",null,"- ",e)})):"-")),s.a.createElement("tr",null,s.a.createElement("td",{className:" has-text-right"}," START"),s.a.createElement("td",{className:"has-text-left"},n.calendar()||"-")),s.a.createElement("tr",null,s.a.createElement("td",{className:" has-text-right"},"END"),s.a.createElement("td",{className:" has-text-left"},a.calendar()||"-")),s.a.createElement("tr",null,s.a.createElement("td",{className:" has-text-right"},"TOTAL TIME"),s.a.createElement("td",{className:" has-text-left"},r.toFixed(2)||"-"))))),l.progress&&l.progress>=100?s.a.createElement("button",{className:"button is-info is-uppercase mx-4",style:{alignSelf:"flex-end"}},"View Invoice"):s.a.createElement("button",{className:"button is-white is-uppercase is-inverted mx-4",style:{alignSelf:"flex-start"}},"Cancel Job")))}function xe(e){var t,a,n,r=e.job;return r.startTime&&(n=Object(le.unix)(r.startTime/1e3)),s.a.createElement("div",{className:"container pt-4 pb-0 is-flex",style:{flexDirection:"column"}},s.a.createElement("div",{className:"columns is-vcentered"},s.a.createElement("div",{className:"column is-narrow is-flex",style:{justifyContent:"center"}},s.a.createElement("figure",{className:"image is-80x80 is-flex"},s.a.createElement("img",{className:"is-rounded",src:r.user.profileImageURL}))),s.a.createElement("div",{className:"column"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"columns is-marginless is-vcentered is-mobile"},s.a.createElement("div",{className:"column pb-0 pl-0"},s.a.createElement("p",{className:"is-size-5 has-text-left has-text-weight-bold"},"".concat(r.user.firstName," ").concat(r.user.lastName))),s.a.createElement("div",{className:"column has-text-right pr-0 pb-0 is-size-6"},"View Profile")),s.a.createElement("div",{className:"content has-text-left"},s.a.createElement("p",{className:"is-size-6"},s.a.createElement("span",{className:"icon has-text-info"},s.a.createElement(z.v,null)),r.user.starRate," \xa0",function(e){switch(e.jobType){case"onsite":return s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"icon has-text-info"},s.a.createElement(z.p,null))," On Site");case"remote":return s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"icon has-text-info"},s.a.createElement(z.m,null))," Remote")}}(r.user)),s.a.createElement("p",null,r.user.profileBio),s.a.createElement("p",{className:"has-text-right"},s.a.createElement("span",{className:"is-uppercase has-text-grey-light is-size-7"},"member since")," ",null===(t=r.user.dateCreated)||void 0===t?void 0:t.toDateString()))))),s.a.createElement("div",{className:"is-flex py-4",style:{flexDirection:"column",justifyContent:"space-between",flex:1}},s.a.createElement("table",{className:"table is-hoverable is-fullwidth"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",{className:"has-text-right"},"CONTACT"),s.a.createElement("td",{className:"has-text-left"},r.user.phoneNumber)),s.a.createElement("tr",null,s.a.createElement("td",{className:"has-text-right"},"ACTIVE TASK"),s.a.createElement("td",{className:"has-text-left"},r.user.activeTask)),s.a.createElement("tr",null,s.a.createElement("td",{className:"has-text-right"},"START TIME"),s.a.createElement("td",{className:"has-text-left"},n.calendar())),s.a.createElement("tr",null,s.a.createElement("td",{className:"has-text-right"},"HIGHLIGHTE SKILLS AND LICENSES"),s.a.createElement("td",{className:"has-text-left"},r.user.skills&&r.user.skills.length>1?null===(a=r.user.skills)||void 0===a?void 0:a.map((function(e){return s.a.createElement("p",null,"- ",e)})):"-")))),s.a.createElement("button",{className:"button is-info is-uppercase mx-4",style:{alignSelf:"flex-start"}},"Message")))}function we(e){var t=e.className;return s.a.createElement("div",{className:t},ke.map((function(e){return s.a.createElement(I.b,{key:e.id,to:"/f",className:"column is-4-fullhd is-6-desktop is-12-touch list-item"},s.a.createElement(fe,{job:e}))})))}function ye(e){var t=e.className,a=e.onCreateNew;return s.a.createElement("div",{className:"".concat(t," panel job-panel has-background-white-ter is-flex")},s.a.createElement("div",{className:"panel-heading is-flex is-vcentered"},s.a.createElement("p",{className:"has-text-left"},"Job Listings"),s.a.createElement("a",{className:"button is-rounded",onClick:a},s.a.createElement(ve.a,null))),s.a.createElement("div",{className:"panel-block"},s.a.createElement("div",{className:"field has-addons",style:{flex:1}},s.a.createElement("div",{className:"control is-expanded has-icons-left"},s.a.createElement("input",{style:{borderRight:0},className:"input is-rounded",type:"search",placeholder:"Search Jobs..."}),s.a.createElement("span",{className:"icon is-left"},s.a.createElement(z.s,null))),s.a.createElement("div",{className:"control"},s.a.createElement("button",{style:{borderLeft:0},className:"button is-rounded"},s.a.createElement("span",{className:"icon is-right"},s.a.createElement(be.a,{onClick:function(){return window.alert("paparazi")}})))))),s.a.createElement("div",{className:"panel-tabs"},s.a.createElement(I.c,{to:"".concat(U),activeClassName:"is-active"},"Active"),s.a.createElement(I.c,{to:"".concat(J),activeClassName:"is-active"},"Inactive")),s.a.createElement("div",{className:"has-background-white-ter",style:{overflowY:"auto",overflowX:"hidden"}},s.a.createElement(re.b,{path:"".concat(U),render:function(){return ke.map((function(e){return s.a.createElement(Ee,{job:e,to:"".concat(U,"/").concat(e.id)})}))}}),s.a.createElement(re.b,{path:"".concat(J),render:function(){return je.map((function(e){return s.a.createElement(Ee,{job:e,to:"".concat(J,"/").concat(e.id)})}))}})))}var ke=[{description:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quam, nihil ipsam. Accusamus officiis aut velit voluptatum quis eligendi veniam nam.",title:"Lorem ipsum dolor sit.",location:"Vancouver, Canada",timestamp:Date.now(),user:E,startTime:Date.now()-123e5,endTime:Date.now(),tasks:["Clear porch","Clear backyard"],id:"papp"},{description:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quam, nihil ipsam. Accusamus officiis aut velit voluptatum quis eligendi veniam nam.",title:"Lorem ipsum dolor sit.",location:"Vancouver, Canada",timestamp:Date.now(),user:E,startTime:Date.now()-123e5,endTime:Date.now(),progress:80,tasks:[],id:"papdsdp"},{description:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quam, nihil ipsam. Accusamus officiis aut velit voluptatum quis eligendi veniam nam.",title:"Lorem ipsum dolor sit.",location:"Vancouver, Canada",timestamp:Date.now(),user:E,startTime:Date.now()-123e5,endTime:Date.now(),tasks:["Clear porch","Clear backyard"],id:"papdefvzsdp"},{description:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quam, nihil ipsam. Accusamus officiis aut velit voluptatum quis eligendi veniam nam.",title:"Lorem ipsum dolor sit.",location:"Vancouver, Canada",timestamp:Date.now(),user:E,progress:99,startTime:Date.now()-123e5,endTime:Date.now(),tasks:["Clear porch","Clear backyard"],id:"papdw3dsdp"},{description:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quam, nihil ipsam. Accusamus officiis aut velit voluptatum quis eligendi veniam nam.",title:"Lorem ipsum dolor sit.",location:"Vancouver, Canada",timestamp:Date.now(),user:E,progress:20,id:"padpp"},{description:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quam, nihil ipsam. Accusamus officiis aut velit voluptatum quis eligendi veniam nam.",title:"Lorem ipsum dolor sit.",location:"Vancouver, Canada",timestamp:Date.now(),user:E,progress:90,id:"papdvp"},{description:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quam, nihil ipsam. Accusamus officiis aut velit voluptatum quis eligendi veniam nam.",title:"Lorem ipsum dolor sit.",location:"Vancouver, Canada",timestamp:Date.now(),user:E,id:"papdfp"}],je=[{description:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quam, nihil ipsam. Accusamus officiis aut velit voluptatum quis eligendi veniam nam.",title:"Lorem ipsum dolor sit.",location:"Vancouver, Canada",timestamp:Date.now(),user:E,progress:100,startTime:Date.now()-123e5,endTime:Date.now(),tasks:["Clear porch","Clear backyard"],id:"papdw3dsdp"},{description:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quam, nihil ipsam. Accusamus officiis aut velit voluptatum quis eligendi veniam nam.",title:"Lorem ipsum dolor sit.",location:"Vancouver, Canada",timestamp:Date.now(),user:E,progress:100,startTime:Date.now()-123e5,endTime:Date.now(),tasks:["Clear porch","Clear backyard"],id:"papdw3dsdp"},{description:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quam, nihil ipsam. Accusamus officiis aut velit voluptatum quis eligendi veniam nam.",title:"Lorem ipsum dolor sit.",location:"Vancouver, Canada",timestamp:Date.now(),user:E,progress:100,startTime:Date.now()-123e5,endTime:Date.now(),tasks:["Clear porch","Clear backyard"],id:"papdw3dsdp"}];function Oe(e){var t=e.user;return s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-content"},s.a.createElement("div",{className:"columns is-vcentered is-mobile"},s.a.createElement("div",{className:"column is-narrow is-flex",style:{justifyContent:"center"}},s.a.createElement("figure",{className:"image is-flex is-96x96"},s.a.createElement("img",{className:"is-rounded",src:t.profileImageURL}))),s.a.createElement("div",{className:"column has-text-left ml-3"},s.a.createElement("p",{className:"title is-5 my-1"},"".concat(t.firstName," ").concat(t.lastName)),s.a.createElement("p",{className:"is-size-5"},s.a.createElement("span",{className:"icon has-text-info"},s.a.createElement(z.v,null)),t.starRate))),s.a.createElement("div",{className:"content"},s.a.createElement("p",{style:{maxLines:2,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}},t.profileBio))),s.a.createElement("div",{className:"card-footer"},s.a.createElement(I.b,{to:W,className:"card-footer-item"},s.a.createElement("span",null,"View Profile")),s.a.createElement(I.b,{to:M,className:"card-footer-item"},s.a.createElement("span",null,"Message"))))}function Ce(e){var t=e.className;return s.a.createElement("div",{className:t},[E,E,E,E,E,E,E,E,E].map((function(e){return s.a.createElement(I.b,{key:e.id,to:"/f",className:"column is-4-widescreen is-6-desktop is-12-touch list-item"},s.a.createElement(Oe,{user:e}))})))}function Te(){return s.a.createElement("div",{className:"columns is-1 is-variable px-3 py-3 is-atleast-fullheight"},s.a.createElement(oe,{className:"column is-3 is-2-widescreen"}),s.a.createElement("div",{className:"column is-6 is-8-widescreen is-flex",style:{flexDirection:"column",justifyContent:"space-between"}},s.a.createElement(ne,{header:"Active Jobs",optionsText:"View All",style:{marginBottom:"0.8em",flexGrow:2}},s.a.createElement(we,{className:"columns is-multiline is-1 is-variable"})),s.a.createElement(ne,{header:"Recently Hired",optionsText:"View All",style:{flexGrow:1}},s.a.createElement(Ce,{className:"columns is-multiline is-1 is-variable"}))),s.a.createElement(pe,{className:"column is-3 is-2-widescreen"}))}function Pe(e){var t=e.label,a=e.className,n=e.type,r=e.placeholder,l=e.icon,i=e.showBorder,c=void 0===i||i,o=e.containerClassName,m=void 0===o?"":o,u=e.isTextArea,d=void 0!==u&&u,p=e.maxLength,h=void 0===p?Number.MAX_SAFE_INTEGER:p,v=e.helpTextTop,b=void 0===v?"":v,f=e.helpTextLeft,E=void 0===f?"":f,N=e.helpTextRight,g=void 0===N?"":N,x=e.hasAddons,w=void 0!==x&&x,y=e.addon,k=void 0===y?s.a.createElement(s.a.Fragment,null):y;return s.a.createElement("div",{className:"".concat(m," ").concat(c?"job-form-field":""," field has-text-left")},s.a.createElement("label",{className:"label is-flex",style:{justifyContent:"space-between"}},s.a.createElement("span",null,t)," ",s.a.createElement("span",{className:"has-text-right has-text-weight-normal is-size-7"},b)),w?s.a.createElement("div",{className:"".concat(w?"has-addons":""," field")},s.a.createElement("div",{className:"control ".concat(l?"has-icons-left":""," is-expanded")},s.a.createElement("input",{maxLength:h,className:"".concat(a," input"),type:n,placeholder:r,style:{borderRight:0}}),l?s.a.createElement("span",{className:"icon is-small is-left"},l):null),k):s.a.createElement("div",{className:"control ".concat(l?"has-icons-left":""," is-expanded")},d?s.a.createElement("textarea",{className:"".concat(a," textarea"),maxLength:h,placeholder:r}):s.a.createElement("input",{maxLength:h,className:"".concat(a," input"),type:n,placeholder:r}),l?s.a.createElement("span",{className:"icon is-small is-left"},l):null),s.a.createElement("div",{className:"help"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"columns"},E?s.a.createElement("p",{className:"column has-text-left has-text-centered-touch"},E," "):null,g?s.a.createElement("p",{className:"column has-text-right has-text-centered-touch"},g," "):null))))}function Le(e){var t=e.onClose,a=e.show,n=e.onComplete;return s.a.createElement("form",{className:"modal ".concat(a?"is-active":""),onSubmit:function(e){e.stopPropagation(),e.preventDefault(),n()}},s.a.createElement("div",{className:"modal-background"}),s.a.createElement("div",{className:"modal-card"},s.a.createElement("header",{className:"modal-card-head"},s.a.createElement("div",{className:"modal-card-title is-mobile is-vcentered columns"},s.a.createElement("div",{className:"column has-text-left"},s.a.createElement("button",{className:"button",onClick:t},s.a.createElement("span",{className:"icon"},s.a.createElement(z.d,null)),s.a.createElement("span",{className:"is-hidden-mobile"}," View Current Jobs"))),s.a.createElement("div",{className:"column has-text-left-mobile is-10-mobile"},s.a.createElement("span",null,"New Job Listing")),s.a.createElement("a",{className:"column is-hidden-mobile"}))),s.a.createElement("div",{className:"modal-card-body px-0"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"level px-4"},s.a.createElement("p",{className:"level-item has-text-left is-block is-size-4 has-text-centered-touch"},"Job Details"),s.a.createElement("p",{className:"level-item has-text-right is-block has-text-grey-light has-text-centered-touch"},"All fields are required to be filled out")),s.a.createElement("div",{className:"container is-fluid pb-4 px-0"},s.a.createElement("div",{className:"columns mx-0 px-4"},s.a.createElement("div",{className:"column is-6"},s.a.createElement(Pe,{className:"",containerClassName:"mb-4",label:"Job Type",placeholder:"Begin typing a job type",type:"text",icon:s.a.createElement(z.s,null),helpTextLeft:"Search and select a job type to improve search results when finding a contractor"}),s.a.createElement(Pe,{className:"",containerClassName:"my-4",label:"Title",placeholder:"Provide a title for the job",type:"text",icon:null,helpTextLeft:"Will be seen by contractors in search result and as an active status",helpTextRight:"Maximum 30 characters",maxLength:30}),s.a.createElement(Pe,{className:"",containerClassName:"my-4",label:"Description",isTextArea:!0,placeholder:"Provide a description of the job",type:"text",icon:null,helpTextLeft:"Give a short description to improve finding a contractor that fits the job",helpTextRight:"Maximum 80 characters",maxLength:80}),s.a.createElement(Pe,{className:"",containerClassName:"my-4",label:"Location Address",placeholder:"Begin typing a job type",type:"text",icon:s.a.createElement(z.p,null),hasAddons:!0,addon:s.a.createElement("div",{className:"control"},s.a.createElement("button",{className:"button",disabled:!0,style:{color:"black",borderLeft:0}},s.a.createElement("span",{className:"is-size-7"},"or enter the address manually")))})),s.a.createElement("div",{className:"column is-6"},s.a.createElement(Pe,{hasAddons:!0,className:"",containerClassName:"mb-4",label:"How many persons are needed for the job",placeholder:"How many persons are needed for the job",type:"number",helpTextRight:"10 persons maximum per job",icon:null,addon:s.a.createElement("div",{className:"control"},s.a.createElement("button",{className:"button",disabled:!0,style:{color:"black",borderLeft:0}},"Persons"))}),s.a.createElement(Pe,{hasAddons:!0,className:"",containerClassName:"my-4",label:"Pay",placeholder:"Provide an amount",type:"number",helpTextLeft:"Will be seen in search results. Cannot be adjusted once the listing is pending or active",icon:null,addon:s.a.createElement("div",{className:"control"},s.a.createElement("button",{className:"button",disabled:!0,style:{color:"black",borderLeft:0}},"Per Hour"))}),s.a.createElement(Pe,{isTextArea:!0,className:"",containerClassName:"my-4",label:"Tasks",placeholder:"Add a task",type:"text",icon:null,helpTextTop:"Provide each task required to be completed for this listing"})))))),s.a.createElement("footer",{className:"modal-card-foot is-flex-centered"},s.a.createElement("button",{className:"button",onClick:t},"Cancel"),s.a.createElement("button",{className:"button is-info",type:"submit"},"Confirm"))))}function Se(){var e=Object(n.useState)({showModal:!1}),t=Object(c.a)(e,2),a=t[0],r=t[1];return s.a.createElement("div",{className:"columns is-gapless px-4 py-4 is-fullheight is-multiline"},s.a.createElement(ye,{onCreateNew:function(){return r(Object(i.a)({},a,{showModal:!0}))},className:"column is-3 is-12-touch is-clipped is-fullheight"}),s.a.createElement(Ne,{job:null,className:"column is-9 is-12-touch is-flex"}),s.a.createElement(Le,{show:a.showModal,onClose:function(){return r(Object(i.a)({},a,{showModal:!1}))},onComplete:function(){r(Object(i.a)({},a,{showModal:!1}))}}))}function De(e){var t=e.title,a=e.children,n=void 0===a?s.a.createElement(s.a.Fragment,null):a;return s.a.createElement("div",{className:"container is-fluid settings-detail"},s.a.createElement("div",{className:"content mb-0 py-4"},s.a.createElement("p",{className:"has-text-weight-bold is-size-4 has-text-left has-text-centered-mobile"},t)),n)}function Ae(){Object(n.useContext)(S);return s.a.createElement("div",{className:"columns is-gapless px-4 py-4 is-fullheight is-multiline"},s.a.createElement("div",{className:"box px-0 py-0",style:{flexDirection:"column",flex:1}},s.a.createElement("div",{className:"card-content is-paddingless is-atleast-fullheight is-flex",style:{flexDirection:"column"}},s.a.createElement("div",{className:"level py-4 mb-0",style:{boxShadow:"0 0.125em 0.25em rgba(10, 10, 10, .1)"}},s.a.createElement("div",{className:"level-left-item is-size-6"},s.a.createElement("p",{className:"title is-size-6 has-text-weight-bold pl-4"},"Settings"))),s.a.createElement("div",{className:"container is-flex is-fluid px-0"},s.a.createElement("div",{className:"columns mx-0 is-multiline",style:{flexGrow:1}},s.a.createElement("div",{className:"column is-2-fullhd is-3-desktop is-12 px-0"},s.a.createElement("div",{className:"container"},s.a.createElement(I.c,{className:"has-text-black",activeClassName:"is-active",to:X,exact:!0},s.a.createElement("div",{className:"py-4 is-size-5 settings-link"},s.a.createElement("p",{className:"mx-4"},"Login and Security"))),s.a.createElement(I.c,{className:"has-text-black",activeClassName:"is-active",to:$},s.a.createElement("div",{className:"py-4 is-size-5 settings-link"},s.a.createElement("p",{className:"mx-4"},"Payment Methods"))),s.a.createElement(I.c,{className:"has-text-black",activeClassName:"is-active",to:Z},s.a.createElement("div",{className:"py-4 is-size-5 settings-link"},s.a.createElement("p",{className:"mx-4"},"Additional Features"))),s.a.createElement(I.c,{className:"has-text-black",activeClassName:"is-active",to:ee},s.a.createElement("div",{className:"py-4 is-size-5 settings-link"},s.a.createElement("p",{className:"mx-4"},"Legal Documents"))))),s.a.createElement("div",{className:"column is-10-fullhd is-9-desktop is-12 is-flex px-0"},s.a.createElement(re.d,null,s.a.createElement(re.b,{path:X,exact:!0,render:function(){return s.a.createElement(ze,null)}}),s.a.createElement(re.b,{path:$,exact:!0,render:function(){return s.a.createElement(Ie,null)}}),s.a.createElement(re.b,{path:ee,exact:!0,render:function(){return s.a.createElement(Re,null)}}),s.a.createElement(re.b,{render:function(){return s.a.createElement("div",{className:"container is-fluid is-flex-centered settings-detail py-6"},s.a.createElement("div",{className:"content has-text-grey"},s.a.createElement("span",{className:"my-4"},s.a.createElement(z.g,{fill:"#811",style:{height:"8rem",width:"8rem"}})),s.a.createElement("p",{className:"is-uppercase is-size-6 has-text-weight-bold"},"Manage your account")))}}))))))))}function ze(){var e,t,a,r,l=Object(n.useContext)(S),o=Object(n.useState)({email:null===(e=l.user)||void 0===e?void 0:e.email,editEmail:!1,isLoadingEmail:!1,lastPasswordChanged:(null===(t=l.user)||void 0===t?void 0:t.lastPasswordChanged)?Object(le.unix)((null===(a=l.user)||void 0===a?void 0:a.lastPasswordChanged)/1e3):null}),m=Object(c.a)(o,2),u=m[0],d=m[1];return s.a.createElement(De,{title:"Login and Security",children:s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column has-text-left has-text-centered-mobile"},s.a.createElement("p",{className:"title input is-size-5 pb-2 is-shadowless px-0",style:{border:0}},"Email Address"),s.a.createElement("p",{className:"subtitle has-text-grey"},"Email address connected to your account")),s.a.createElement("div",{className:"column has-text-right has-text-centered-mobile"},s.a.createElement("div",{className:"control"},s.a.createElement("input",{className:"input ".concat(u.editEmail?"":"is-static"," has-text-black is-size-5 has-text-right has-text-centered-mobile"),value:u.email,contentEditable:!1,disabled:!u.editEmail,onChange:function(e){return d(Object(i.a)({},u,{email:e.target.value}))}})),s.a.createElement("div",{className:"field is-grouped is-grouped-right"},s.a.createElement("div",{className:"control"},s.a.createElement("button",{className:"button",onClick:function(){return d(Object(i.a)({},u,{editEmail:!u.editEmail}))}},"Change")),u.editEmail?s.a.createElement("div",{className:"control"},s.a.createElement("button",{className:"button is-info ".concat(u.isLoadingEmail?"is-loading":""),onClick:function(){d(Object(i.a)({},u,{isLoadingEmail:!0}))}},"Change")):null))),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column has-text-left has-text-centered-mobile"},s.a.createElement("p",{className:"title input is-size-5 pb-2 is-shadowless px-0",style:{border:0}},"Phone Number"),s.a.createElement("p",{className:"subtitle has-text-grey"},"Your phone number provided upon signing-up")),s.a.createElement("div",{className:"column has-text-right has-text-centered-mobile"},s.a.createElement("div",{className:"control"},s.a.createElement("input",{className:"input is-static has-text-right has-text-black is-size-5 has-text-centered-mobile",disabled:!0,value:null===(r=l.user)||void 0===r?void 0:r.phoneNumber})),s.a.createElement("p",{className:"subtitle has-text-grey"},"Due to restrictions, contact support to modify your phone number"))),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column has-text-left has-text-centered-mobile"},s.a.createElement("p",{className:"title input is-size-5 pb-2 is-shadowless px-0",style:{border:0}},"Password"),s.a.createElement("p",{className:"subtitle has-text-grey"},"Maintain a strong, unique password to protect your account")),s.a.createElement("div",{className:"column has-text-right has-text-centered-mobile"},s.a.createElement("div",{className:"control title"},s.a.createElement("button",{className:"button is-link",onClick:function(){return d(Object(i.a)({},u,{editEmail:!u.editEmail}))}},"Change")),s.a.createElement("p",{className:"subtitle has-text-grey"},u.lastPasswordChanged?"Last modified ".concat(u.lastPasswordChanged.calendar()):"Never Changed"))))})}function Ie(){var e,t,a,r=Object(n.useContext)(S),l=Object(n.useState)({email:null===(e=r.user)||void 0===e?void 0:e.email,editEmail:!1,isLoadingEmail:!1,lastPasswordChanged:(null===(t=r.user)||void 0===t?void 0:t.lastPasswordChanged)?Object(le.unix)((null===(a=r.user)||void 0===a?void 0:a.lastPasswordChanged)/1e3):null}),i=Object(c.a)(l,2);i[0],i[1];return s.a.createElement(De,{title:"Payment Methods",children:s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"columns is-unselectable"},s.a.createElement("div",{className:"column has-text-left has-text-centered-mobile"},s.a.createElement("p",{className:"title is-size-5 pb-2 is-shadowless px-0",style:{border:0}},"Preferred Method"),s.a.createElement("p",{className:"subtitle has-text-grey"},"Selected method of payment for jobs")),s.a.createElement("div",{className:"column has-text-right has-text-centered-mobile"},s.a.createElement("p",{className:"is-size-5 pb-2 is-shadowless px-0",style:{border:0}},"VI 534***1234 12/22"),s.a.createElement(I.b,{to:"".concat($,"/change")},"Change"))),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column has-text-left has-text-centered-mobile"},s.a.createElement("p",{className:"title is-size-5 pb-2 is-shadowless px-0",style:{border:0}},"Other Methods"))),s.a.createElement("div",{className:"columns",style:{borderTop:0}},s.a.createElement("div",{className:"column has-text-right has-text-centered-mobile"},s.a.createElement("div",{className:"button is-white is-large"},s.a.createElement("span",{className:"icon"},s.a.createElement(z.b,{size:80})),s.a.createElement("span",null,"Apple Pay"),s.a.createElement("span",{className:"icon"},s.a.createElement(z.e,{size:20}))))),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column has-text-right has-text-centered-mobile"},s.a.createElement("div",{className:"button is-white is-large"},s.a.createElement("span",{className:"icon"},s.a.createElement(z.q,{size:80})),s.a.createElement("span",null,"PayPal"),s.a.createElement("span",{className:"icon"},s.a.createElement(z.e,{size:20}))))),s.a.createElement("div",{className:"columns",style:{borderBottom:0}},s.a.createElement("div",{className:"column has-text-right has-text-centered-mobile"},s.a.createElement(I.b,{to:"".concat($,"/add")},"+ Add a Payment Method"))))})}function Re(){var e,t,a,r=Object(n.useContext)(S),l=Object(n.useState)({email:null===(e=r.user)||void 0===e?void 0:e.email,editEmail:!1,isLoadingEmail:!1,lastPasswordChanged:(null===(t=r.user)||void 0===t?void 0:t.lastPasswordChanged)?Object(le.unix)((null===(a=r.user)||void 0===a?void 0:a.lastPasswordChanged)/1e3):null}),i=Object(c.a)(l,2);i[0],i[1];return s.a.createElement(De,{title:"Legal Documents",children:s.a.createElement(s.a.Fragment,null,s.a.createElement(I.b,{to:"".concat(ee,"/useragreement"),className:"columns is-vcentered is-unselectable"},s.a.createElement("div",{className:"column has-text-left has-text-centered-mobile"},s.a.createElement("p",{className:"title is-size-5 pb-2 px-0"},"User Agreement")),s.a.createElement("div",{className:"column has-text-right has-text-centered-mobile"},s.a.createElement("p",{className:"is-size-5 pb-2 px-0",style:{border:0}},s.a.createElement("span",{className:"icon"},s.a.createElement(z.e,null))))),s.a.createElement(I.b,{to:"".concat(ee,"/privacy"),className:"columns is-vcentered is-unselectable"},s.a.createElement("div",{className:"column has-text-left has-text-centered-mobile"},s.a.createElement("p",{className:"title is-size-5 pb-2 px-0"},"Privacy Policy")),s.a.createElement("div",{className:"column has-text-right has-text-centered-mobile"},s.a.createElement("p",{className:"is-size-5 pb-2 px-0",style:{border:0}},s.a.createElement("span",{className:"icon"},s.a.createElement(z.e,null))))),s.a.createElement(I.b,{to:"".concat(ee,"/terms"),className:"columns is-vcentered is-unselectable"},s.a.createElement("div",{className:"column has-text-left has-text-centered-mobile"},s.a.createElement("p",{className:"title is-size-5 pb-2 px-0"},"Terms of Service")),s.a.createElement("div",{className:"column has-text-right has-text-centered-mobile"},s.a.createElement("p",{className:"is-size-5 pb-2 px-0",style:{border:0}},s.a.createElement("span",{className:"icon"},s.a.createElement(z.e,null))))),s.a.createElement(I.b,{to:"".concat(ee,"/cookie"),className:"columns is-vcentered is-unselectable"},s.a.createElement("div",{className:"column has-text-left has-text-centered-mobile"},s.a.createElement("p",{className:"title is-size-5 pb-2 px-0"},"Cookie Policy")),s.a.createElement("div",{className:"column has-text-right has-text-centered-mobile"},s.a.createElement("p",{className:"is-size-5 pb-2 px-0",style:{border:0}},s.a.createElement("span",{className:"icon"},s.a.createElement(z.e,null))))))})}var qe=a(234);function Me(e){var t=e.children,a=Object(qe.a)(e,["children"]),r=Object(n.useContext)(S),l=Object(n.useContext)(D),i=Object(re.h)();return s.a.createElement(re.b,a,r.signedIn()&&l.signedIn?t:s.a.createElement(re.a,{to:{pathname:q,state:{from:i}}}))}function _e(e){var t=e.children,a=Object(n.useContext)(S),r=Object(n.useContext)(D),l=Object(re.h)();if(a.signedIn()&&r.signedIn){var i=(l.state||{from:{pathname:"/"}}).from;return s.a.createElement(re.a,{to:i})}return t}var Fe=a(142),Ve=a.n(Fe),Be=a(231),Ue=a(85);function Je(){var e=Object(n.useContext)(S),t=Object(n.useState)({showModal:!1,showCodeRequest:!0,showPassword:!1,showPasswordVerify:!1,loading:!1}),a=Object(c.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)({email:"",first_name:"",last_name:"",password:"",password_verify:"",phone_number:""}),d=Object(c.a)(o,2),p=d[0],h=d[1],v=Object(Ue.useToasts)().addToast,b=Object(re.g)(),f=Object(re.h)(),E=Object(n.useCallback)(function(){var t=Object(u.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),a.stopPropagation(),l(Object(i.a)({},r,{loading:!0})),t.prev=3,t.next=6,e.addAdmin(p);case 6:if((n=t.sent)&&n.success){t.next=9;break}throw new Error("Failed to register user!");case 9:v("User registered successfully!",{appearance:"success"}),l(Object(i.a)({},r,{loading:!1})),b.push(q,f.state),t.next=19;break;case 14:t.prev=14,t.t0=t.catch(3),console.log(t.t0),v(t.t0.message||"Failed to add new user!",{appearance:"error"}),l(Object(i.a)({},r,{loading:!1}));case 19:case"end":return t.stop()}}),t,null,[[3,14]])})));return function(e){return t.apply(this,arguments)}}(),[r,p]);return s.a.createElement("div",{className:"section"},s.a.createElement("figure",{className:"image is-96x96 is-flex",style:{margin:"auto"}},s.a.createElement("img",{src:Ve.a,className:"is-rounded"})),s.a.createElement("p",{className:"help mb-4 has-text-weight-bold"},"Improving the experience of managing temporary services"),s.a.createElement("form",{className:"my-2",onSubmit:E},s.a.createElement("div",{className:"field is-horizontal"},s.a.createElement("div",{className:"field-body"},s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control has-icons-left "},s.a.createElement("input",{autoComplete:"given-name",disabled:r.loading,required:!0,value:p.first_name,onChange:function(e){return h(Object(i.a)({},p,{first_name:e.target.value}))},placeholder:"enter firstname...",className:"input",type:"text"}),s.a.createElement("span",{className:"icon is-left is-small"},s.a.createElement(z.w,null)))),s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control has-icons-left "},s.a.createElement("input",{autoComplete:"family-name",disabled:r.loading,required:!0,value:p.last_name,onChange:function(e){return h(Object(i.a)({},p,{last_name:e.target.value}))},placeholder:"enter lastname...",className:"input",type:"text"}),s.a.createElement("span",{className:"icon is-left is-small"},s.a.createElement(z.w,null)))))),s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control has-icons-left "},s.a.createElement("input",{autoComplete:"off",disabled:r.loading,required:!0,value:p.email,onChange:function(e){return h(Object(i.a)({},p,{email:e.target.value}))},placeholder:"enter your email address...",className:"input",type:"email"}),s.a.createElement("span",{className:"icon is-left is-small"},s.a.createElement(z.i,null)))),s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control has-icons-left "},s.a.createElement("input",{autoComplete:"off",disabled:r.loading,required:!0,value:p.phone_number,onChange:function(e){return h(Object(i.a)({},p,{phone_number:e.target.value}))},placeholder:'enter your phone number include the "+" sign...',className:"input",type:"tel"}),s.a.createElement("span",{className:"icon is-left is-small"},s.a.createElement(z.r,null)))),s.a.createElement("div",{className:"field is-horizontal"},s.a.createElement("div",{className:"field-body"},s.a.createElement("div",{className:"field has-addons"},s.a.createElement("div",{className:"control has-icons-left is-expanded"},s.a.createElement("input",{autoComplete:"off",disabled:r.loading,required:!0,value:p.password,onChange:function(e){return h(Object(i.a)({},p,{password:e.target.value}))},placeholder:"enter your password...",className:"input",type:r.showPassword?"text":"password"}),s.a.createElement("span",{className:"icon is-left is-small"},s.a.createElement(z.o,null))),s.a.createElement("div",{className:"control"},s.a.createElement("button",{className:"button",type:"button",onClick:function(e){return l(Object(i.a)({},r,{showPassword:!r.showPassword}))}},r.showPassword?s.a.createElement(z.l,null):s.a.createElement(z.k,null)))),s.a.createElement("div",{className:"field has-addons"},s.a.createElement("div",{className:"control has-icons-left is-expanded"},s.a.createElement("input",{autoComplete:"off",disabled:r.loading,required:!0,value:p.password_verify,onChange:function(e){return h(Object(i.a)({},p,{password_verify:e.target.value}))},placeholder:"re-enter your password...",className:"input",type:r.showPasswordVerify?"text":"password"}),s.a.createElement("span",{className:"icon is-left is-small"},s.a.createElement(z.o,null))),s.a.createElement("div",{className:"control"},s.a.createElement("button",{className:"button",type:"button",onClick:function(e){return l(Object(i.a)({},r,{showPasswordVerify:!r.showPasswordVerify}))}},r.showPasswordVerify?s.a.createElement(z.l,null):s.a.createElement(z.k,null)))))),s.a.createElement("div",{className:"field mt-6"},s.a.createElement("div",{className:"control"},s.a.createElement("button",{disabled:r.loading,className:"button is-uppercase is-success ".concat(r.loading?"is-loading":""),type:"submit"},s.a.createElement(z.x,null),"\xa0 Register")))),s.a.createElement("div",{className:"section mt-6 is-size-7"},s.a.createElement("p",null,"Already have an account?"),s.a.createElement(I.b,{to:q},"Click here to login")))}function Qe(){var e=Object(n.useContext)(S),t=(Object(n.useContext)(D),Object(n.useState)({showCodeRequest:!0,loading:!1,phone:""})),a=Object(c.a)(t,2),r=a[0],l=a[1],o=Object(Ue.useToasts)().addToast,d=Object(n.useCallback)(function(){var t=Object(u.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(Object(i.a)({},r,{loading:!0})),t.prev=1,t.next=4,e.validateNumber(a.phone);case 4:return t.next=6,e.triggerVerification(a.phone,null===a||void 0===a?void 0:a.channel);case 6:if(t.sent){t.next=9;break}throw new Error("Failed to verify phone number!");case 9:return o("Verification code sent to your phone!",{appearance:"success"}),l(Object(i.a)({},r,{loading:!1,phone:a.phone})),t.abrupt("return",!0);case 14:return t.prev=14,t.t0=t.catch(1),console.log(t.t0),o(t.t0.message||"Verification failed!",{appearance:"error"}),l(Object(i.a)({},r,{loading:!1})),t.abrupt("return",!1);case 20:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}(),[r]),p=Object(n.useCallback)(function(){var t=Object(u.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(Object(i.a)({},r,{loading:!0})),t.prev=1,t.next=4,e.login(a.phone_number,a.code,a.password);case 4:if(t.sent){t.next=7;break}throw new Error("Failed to login!");case 7:return o("Login successful!",{appearance:"success"}),l(Object(i.a)({},r,{loading:!1})),t.abrupt("return",!0);case 12:return t.prev=12,t.t0=t.catch(1),console.log(t.t0),o(t.t0.message||"Login failed!",{appearance:"error"}),l(Object(i.a)({},r,{loading:!1})),t.abrupt("return",!1);case 18:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}(),[r]);return s.a.createElement("div",{className:"section"},s.a.createElement("figure",{className:"image is-96x96 is-flex",style:{margin:"auto"}},s.a.createElement("img",{src:Ve.a,className:"is-rounded"})),s.a.createElement("p",{className:"help mb-4 has-text-weight-bold"},"Improving the experience of managing temporary services"),r.showCodeRequest?s.a.createElement(Ge,{onComplete:function(){return l(Object(i.a)({},r,{showCodeRequest:!1}))},loading:r.loading,onSubmit:d}):s.a.createElement(We,{onCancel:function(){return l(Object(i.a)({},r,{showCodeRequest:!0}))},loading:r.loading,phone:r.phone,onSubmit:p}),s.a.createElement("div",{className:"section mt-6 is-size-7"},s.a.createElement("p",null,"Are you a new user?"),s.a.createElement(I.b,{to:R},"Request access")))}function Ge(e){var t,a=e.onSubmit,r=e.loading,l=e.onComplete,o=Object(n.useState)({phone:"",channel:"sms"}),d=Object(c.a)(o,2),p=d[0],h=d[1],v=Object(n.useState)({showOptions:!1,hold:!1,holdTimer:0}),b=Object(c.a)(v,2),f=b[0],E=b[1],N=Object(n.useCallback)(function(){var e=Object(u.a)(m.a.mark((function e(n){var s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),n.stopPropagation(),e.next=4,a(p);case 4:e.sent&&(s=59,clearInterval(t),t=setInterval((function(){if(0===s)return clearInterval(t),void E(Object(i.a)({},f,{hold:!1,showOptions:!0,holdTimer:s}));E(Object(i.a)({},f,{hold:!0,holdTimer:s,showOptions:!0})),s--}),1e3));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[p,f]);return s.a.createElement("form",{onSubmit:N},s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control has-icons-left "},s.a.createElement("input",{autoComplete:"off",disabled:r||f.hold,required:!0,value:p.phone,onChange:function(e){return h(Object(i.a)({},p,{phone:e.target.value}))},placeholder:"enter your phone number...",className:"input is-rounded",type:"tel"}),s.a.createElement("span",{className:"icon is-left is-small"},s.a.createElement(z.r,null)))),s.a.createElement("div",{className:"field mt-4"},s.a.createElement("div",{className:"control"},f.showOptions?s.a.createElement("button",{onClick:l,disabled:r,className:"button is-rounded is-uppercase is-success ".concat(r?"is-loading":""),type:"button"},s.a.createElement(z.a,null),"\xa0 Proceed"):s.a.createElement("button",{disabled:r||f.hold,className:"button is-rounded is-uppercase is-info ".concat(r?"is-loading":""),type:"submit"},"sms"===p.channel?s.a.createElement(s.a.Fragment,null,s.a.createElement(z.u,null),"\xa0 Send Code"):s.a.createElement(s.a.Fragment,null,s.a.createElement(z.r,null),"\xa0 Call Me")))),s.a.createElement("div",{className:"field is-size-7"},f.showOptions?s.a.createElement(s.a.Fragment,null,s.a.createElement("p",{className:"help mt-4 mb-2"},"Didn't get code? ",f.hold?s.a.createElement("span",{className:"has-text-danger"},"Try again in: ",f.holdTimer,"s"):null),s.a.createElement("div",{className:"control buttons has-addons is-centered"},s.a.createElement("button",{onClick:function(){E(Object(i.a)({},f,{showOptions:!1}))},disabled:r||f.hold,className:"button has-text-weight-bold is-info is-outlined is-small is-rounded is-uppercase",type:"button"},s.a.createElement("span",{className:"is-size-7"},"Try Again")),s.a.createElement("button",{onClick:function(){h(Object(i.a)({},p,{channel:"sms"===p.channel?"call":"sms"})),E(Object(i.a)({},f,{showOptions:!1}))},disabled:r||f.hold,className:"button has-text-weight-bold is-info is-outlined is-small is-rounded is-uppercase",type:"button"},s.a.createElement("span",{className:"is-size-7"}," ","sms"===p.channel?"Use voice":"Use SMS")))):null))}function We(e){var t=e.phone,a=e.loading,r=e.onSubmit,l=e.onCancel,o=Object(n.useState)({code:"",phone_number:t,password:"",showPassword:!1}),d=Object(c.a)(o,2),p=d[0],h=d[1],v=Object(n.useCallback)(function(){var e=Object(u.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.stopPropagation(),e.next=4,r(p);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[p]);return s.a.createElement("form",{onSubmit:v},s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control has-icons-left"},s.a.createElement("input",{autoComplete:"off",disabled:!0,required:!0,value:p.phone_number,placeholder:"enter your phone number...",className:"input",type:"tel"}),s.a.createElement("span",{className:"icon is-left is-small"},s.a.createElement(z.w,null)))),s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control has-icons-left"},s.a.createElement("input",{autoComplete:"off",pattern:"/.{4}/",max:9999,maxLength:4,minLength:4,disabled:p.loading,required:!0,value:p.code,onChange:function(e){return h(Object(i.a)({},p,{code:e.target.value}))},placeholder:"enter 4 digits code...",className:"input",type:"number"}),s.a.createElement("span",{className:"icon is-left is-small"},s.a.createElement(Be.a,null)))),s.a.createElement("div",{className:"field has-addons"},s.a.createElement("div",{className:"control has-icons-left is-expanded"},s.a.createElement("input",{autoComplete:"off",disabled:p.loading,required:!0,value:p.password,onChange:function(e){return h(Object(i.a)({},p,{password:e.target.value}))},placeholder:"enter your password...",className:"input",type:p.showPassword?"text":"password"}),s.a.createElement("span",{className:"icon is-left is-small"},s.a.createElement(z.o,null))),s.a.createElement("div",{className:"control"},s.a.createElement("button",{className:"button",type:"button",onClick:function(e){return h(Object(i.a)({},p,{showPassword:!p.showPassword}))}},p.showPassword?s.a.createElement(z.l,null):s.a.createElement(z.k,null)))),s.a.createElement("div",{className:"field mt-6"},s.a.createElement("div",{className:"control buttons is-centered"},s.a.createElement("button",{onClick:l,disabled:a,className:"button is-rounded is-uppercase is-dark is-outlined",type:"button"},s.a.createElement(z.d,null),"\xa0 Back"),s.a.createElement("button",{disabled:a,className:"button is-rounded is-uppercase is-success ".concat(a?"is-loading":""),type:"submit"},s.a.createElement(z.t,null),"\xa0 Login"))))}function He(){var e=Object(n.useContext)(D),t=Object(n.useState)({showModal:!1}),a=Object(c.a)(t,2);a[0],a[1];return Object(n.useEffect)((function(){return e.showToolbar(!1),e.showFooter(!1),function(){e.showToolbar(!0),e.showFooter(!0)}}),[]),s.a.createElement(_e,null,s.a.createElement("div",{className:"columns is-gapless is-fullheight is-multiline"},s.a.createElement("div",{className:"column is-flex-centered is-atleast-fullheight"},s.a.createElement(Qe,null)),s.a.createElement("div",{className:"column is-6 is-hidden-touch is-flex has-background-info"})))}function Ye(){var e=Object(n.useContext)(D),t=Object(n.useState)({showModal:!1}),a=Object(c.a)(t,2),r=(a[0],a[1],Object(n.useState)({first_name:"",last_name:"",password:"",password_verify:"",email:"",phone_number:"",showPassword:!1,showPasswordVerify:!1})),l=Object(c.a)(r,2);l[0],l[1];return Object(n.useEffect)((function(){return e.showToolbar(!1),e.showFooter(!1),function(){e.showFooter(!0),e.showToolbar(!0)}}),[]),s.a.createElement(_e,null,s.a.createElement("div",{className:"columns is-gapless is-fullheight is-multiline"},s.a.createElement("div",{className:"column is-flex-centered is-atleast-fullheight"},s.a.createElement(Je,null)),s.a.createElement("div",{className:"column is-6 is-hidden-touch is-flex has-background-success"})))}function Ke(){var e=Object(n.useContext)(S),t=Object(n.useContext)(D);return Object(n.useEffect)((function(){return t.setAppReady(!1),t.showToolbar(!1),e.logout(),function(){t.showToolbar(!0),t.setAppReady(!0)}}),[]),t.signedIn&&t.signedIn?s.a.createElement(s.a.Fragment,null):s.a.createElement(re.a,{to:{pathname:"/"}})}var Xe=function(){var e=Object(n.useContext)(S),t=Object(n.useState)({ready:!1}),a=Object(c.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)(!0),m=Object(c.a)(o,2),u=m[0],d=m[1],p=Object(n.useState)(!0),h=Object(c.a)(p,2),v=h[0],b=h[1],f=Object(n.useState)(null),E=Object(c.a)(f,2),N={signedIn:E[0],setSignedIn:E[1],setAppReady:function(e){return l(Object(i.a)({},r,{ready:e}))},showToolbar:b,showFooter:function(e){return d(e)}};return Object(n.useEffect)((function(){e.loginListener=function(){e.signedIn()&&N.setSignedIn(e.user)},e.logoutListener=function(){return N.setSignedIn(null)},e.ready.then((function(e){if(!e)return console.log("Failed to start application due to an internal error.","Please contact application admin");l(Object(i.a)({},r,{ready:!0}))})).catch((function(e){console.log(e)}))}),[]),s.a.createElement(D.Provider,{value:N},r.ready?s.a.createElement(s.a.Fragment,null,v?s.a.createElement(te,null):null,s.a.createElement("div",{className:"App-Body"},s.a.createElement("div",{className:"is-fullheight"},s.a.createElement(re.d,null,s.a.createElement(re.b,{component:He,path:q,exact:!0}),s.a.createElement(re.b,{component:Ye,path:R,exact:!0}),s.a.createElement(re.b,{component:Ke,path:Y,exact:!0}),s.a.createElement(Me,{component:Ae,path:K}),s.a.createElement(Me,{render:function(e){return s.a.createElement(re.a,{to:{pathname:U,state:e.location.state}})},path:B,exact:!0}),s.a.createElement(Me,{component:Se,path:U}),s.a.createElement(Me,{component:Se,path:J}),s.a.createElement(Me,{component:Te,path:F,exact:!0}),s.a.createElement(re.b,{path:_,strict:!1,exact:!0},e.signedIn()&&N.signedIn?s.a.createElement(re.a,{to:F}):s.a.createElement(re.a,{to:q})),s.a.createElement(Me,null)))),u?s.a.createElement(se,null):null):s.a.createElement(ae,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(Ue.ToastProvider,{autoDismiss:5e3,placement:"top-center"},s.a.createElement(I.a,{basename:"/contractoradmin"},s.a.createElement(S.Provider,{value:P},s.a.createElement(Xe,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[236,1,2]]]);
//# sourceMappingURL=main.92609655.chunk.js.map