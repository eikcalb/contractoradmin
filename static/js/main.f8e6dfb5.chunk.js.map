{"version":3,"sources":["logo.svg","lib/config.ts","lib/storage.ts","lib/firebase.ts","lib/user.ts","lib/message.ts","lib/index.tsx","lib/links.ts","components/footer.tsx","components/guard.tsx","lib/theme.ts","components/toolbar.tsx","components/util.tsx","lib/job.ts","components/map.tsx","components/job.tsx","components/JobList.tsx","components/notification.tsx","lib/payment.ts","components/payment.tsx","pages/dashboard.tsx","lib/location.ts","components/jobcreation.tsx","components/JobSideList.tsx","pages/jobs.tsx","components/auth.tsx","pages/login.tsx","pages/logout.tsx","components/messages.tsx","pages/messages.tsx","pages/profile.tsx","pages/register.tsx","pages/settings.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","CONFIG","name","description","version","hostname","Google","mapKey","KEYS","initializeStorage","app","a","lf","config","driver","INDEXEDDB","LOCALSTORAGE","WEBSQL","storeName","ready","localforage","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firestore","geoFirestore","GeoFirestore","enablePersistence","synchronizeTabs","User","data","raw","token","jobType","activeTask","lastPasswordChanged","this","profilePhoto","id","initiateNetworkRequest","method","referrerPolicy","headers","Authorization","response","ok","Error","json","message","jsonResponse","user","getPhotoURL","console","log","collection","doc","get","snap","docs","forEach","text","first_name","last_name","push","ctx","callback","err","noop","limit","query","unsubscribe","orderBy","onSnapshot","notifications","item","location","address","location_address","role","firstName","lastName","occupation","city","state","starRate","email","password","phoneNumber","profileBio","dateCreated","accountStatus","workHistory","educationalBackground","skills","licenses","star_rate","date_created","account_status","educational_background","phone_number","profile_photo","DUMMY_USER","Date","now","db","Message","content","sender","old","moment","createdAt","time1","time2","day","b","_id","avatar","chat","initialized","chatItem","generateID","recipient","newMessage","FieldValue","serverTimestamp","runTransaction","txn","set","users","last_message","read","merge","serialize","where","chats","messages","toDate","unshift","DEFAULT_SETTINGS","lastUserName","DEFAULT_APPLICATION","settings","logoutListener","loginListener","Promise","res","rej","init","getItem","appData","info","inflateUser","options","JSON","stringify","setItem","path","request","authenticated","isJson","Accept","reqObj","mode","fetch","resp","status","reauthenticate","logout","session","phone","trim","validator","isMobilePhone","startsWith","encodeURIComponent","valid","channel","body","username","code","validateLogin","success","getUser","userName","persistUser","matches","validateRegister","password_verify","isEmail","undefined","removeItem","APPLICATION_CONTEXT","createContext","VIEW_CONTEXT","setSignedIn","signedIn","setAppReady","showToolbar","show","showFooter","footer","active","inactive","Footer","useContext","className","getFullYear","to","links","AuthGuard","children","rest","viewCTX","useLocation","pathname","from","AuthHandler","timer","STYLES","toolbar","boxShadow","appLogoIcon","fontSize","marginRight","color","appLogoText","fontWeight","jobProgressBar","height","Toolbar","useState","showMenu","setState","style","aria-label","aria-expanded","data-target","onClick","clearTimeout","setTimeout","aria-hidden","exact","activeClassName","type","placeholder","Empty","icon","onDismiss","props","Loading","alignItems","padding","max","CardFragment","header","optionsElement","optionsText","onOptionsTextClick","useLoadGoogleMaps","loading","setLoading","useEffect","Loader","libraries","load","then","JOB_TYPES","Job","job","photos","posted_by","job_title","salary","wage","tasks","length","job_description","required_count","coordinates","GeoPoint","coords","latitude","longitude","newDoc","photo_files","FormData","map","photo","append","apiResponse","jobID","delete","native","jobs","resolve","added","modified","removed","docChanges","change","MapView","memo","title","vertical","zoom","zoomControl","mapEl","useRef","setMap","marker","setMarker","current","_mapInstance","google","maps","Map","center","lat","lng","gestureHandling","mapTypeControl","fullscreenControl","Marker","position","animation","Animation","DROP","setCenter","setPosition","width","backgroundColor","minHeight","ref","JobListItem","time","whiteSpace","textOverflow","overflow","job_type","flexDirection","flex","justifyContent","src","calendar","sameElse","value","JobItem","PendingJobItem","key","endTime","toMillis","date_completed","overflowX","progress","lineHeight","JobDetail","onCancel","fill","JobDetailTask","onJobCancel","borderLeft","JobDetailUser","startTime","totalTime","loadingCancel","addToast","useToasts","unix","diff","useCallback","window","confirm","cancelJob","appearance","JobReview","task","toFixed","alignSelf","disabled","borderBottom","JobList","Array","listenForActiveJobs","all","v","executed_by","getExternalUser","j","NotificationContext","addNotification","notif","NotificationProvider","setNotifications","notification","listenForNotifications","Provider","NotificationItem","borderRadius","getNotificationIcon","maxLines","fromNow","NotificationList","expanded","setExpanded","notifCtx","size","transition","n","index","TRANSACTION_STATUS","CurrencyFormatter","Intl","NumberFormat","currency","maximumFractionDigits","Payment","page","timestamp","cost","amount","payee","payment","format","PaymentItem","getPaymentDescription","PaymentList","payments","setPayments","fetchPayment","pageToFetch","Math","floor","getTransactions","paymentData","p","Dashboard","marginBottom","getCurrentLocation","navigator","geolocation","getCurrentPosition","enableHighAccuracy","maximumAge","FormField","listener","autocomplete","label","onChange","readOnly","locationAutocomplete","tagifyRef","required","whitelist","tags","showBorder","containerClassName","isTextArea","maxLength","Number","MAX_SAFE_INTEGER","helpTextTop","helpTextLeft","helpTextRight","hasAddons","addon","inputRef","loadingGoogleMaps","places","Autocomplete","fields","addListener","place","getPlace","formatted_address","geometry","place_id","remove","unbindAll","event","clearInstanceListeners","autoComplete","enabled","rightKey","e","persist","target","borderRight","inputMode","FileInput","onRemovePhoto","el","files","i","multiple","accept","file","CreateJob","onClose","onComplete","requiredPersons","price","loadingTypes","fetchingLocation","manualAddress","setPhotos","types","useMemo","jobTypes","createRef","getJobTypes","tagify","dropdown","hide","call","onSubmit","stopPropagation","preventDefault","parse","newJob","parseInt","v4","accuracy","altitude","heading","altitudeAccuracy","speed","isEmpty","find","addNewJob","zIndex","filter","_","JobSideList","activeJobs","isActive","inactiveJobs","onCreateNew","activeSearchData","setActiveSearchData","inactiveSearchData","setInactiveSearchData","searchText","setSearchText","isLoading","setIsLoading","searchAlg","regexp","RegExp","search","triggerSearch","result","useDebouncedCallback","overflowY","render","Jobs","showModal","selected","setActive","setInactive","dismissModal","containers","document","getElementsByClassName","removeEscapeHandler","handler","ev","addEventListener","removeEventListener","useEscapeHandler","listenForActiveAndPendingJobs","getInactiveJobs","catch","useParams","activeMatch","useRouteMatch","strict","inactiveMatch","RegisterView","showCodeRequest","showPassword","showPasswordVerify","formState","setFormState","history","useHistory","addAdmin","margin","logo","LoginView","onSubmitCodeRequest","form","validateNumber","triggerVerification","onSubmitVerified","login","CodeRequestForm","LoginForm","intervalID","showOptions","hold","holdTimer","viewState","setView","onSubmitForm","counter","clearInterval","setInterval","pattern","minLength","Login","Logout","ChatContext","setChats","ChatListProvider","triggerListener","listenForChats","parsed","serverTimestamps","existing","parsedChats","MessageListItem","MessageItem","isCurrentUser","prevMessage","diffDay","isDifferentDay","flexGrow","profileImageURL","border","MessageList","onNewChat","onOptionsClick","searchedChat","setSearchedChat","results","m","MessageDetail","setMessages","setText","sending","setSending","sectionRef","sendMessage","listenForChatMessages","scrollHeight","clientHeight","scrollTop","scroll","paddingBottom","left","right","bottom","borderTop","Messages","setChat","Profile","setUser","comments","setComments","loadingComments","setLoadingComments","getComments","commentsData","top","onError","img","currentTarget","background","comment","skill","license","license_number","expiration_date","Register","SettingsDetail","Settings","LoginAndSecurity","PaymentMethods","LegalDocuments","editEmail","isLoadingEmail","contentEditable","App","setShowFooter","_showToolbar","viewContext","component","Boolean","match","ReactDOM","StrictMode","autoDismiss","placement","basename","getElementById","serviceWorker","registration","unregister","error"],"mappings":"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","file":"static/js/main.f8e6dfb5.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","import { Config } from \".\";\n\nconst CONFIG: Config = {\n    name: 'Gigchasers Admin',\n    description: 'Gigchasers admin dashboard',\n    version: '1.0',\n    hostname: 'https://contractor-app-test-api.herokuapp.com/v1',\n    // hostname: 'http://localhost:3001/v1',\n    Google: {\n        mapKey: 'AIzaSyDJYsVNmPa73T-okzgJTs3UKiUReJ8iHsU'\n    }\n}\n\nexport default CONFIG","import lf from \"localforage\";\nimport { Application } from \".\";\n\nexport const KEYS = {\n    USER_SESSION: 'app.user.session',\n    REFRESH_TOKEN: 'app.user.refreshtoken',\n    APP_DATA: 'app.data'\n}\n\nexport async function initializeStorage(app: Application) {\n    lf.config({\n        driver: [\n            lf.INDEXEDDB,\n            lf.LOCALSTORAGE,\n            lf.WEBSQL\n        ],\n        name: `${app.config.name} v${app.config.version}`,\n        version: 1,\n        storeName: 'adminstore',\n        description: 'Storage for Contractor application administrative interface'\n    })\n\n    await lf.ready()\n}\n\nexport const localforage = lf\n","import firebase from \"firebase/app\";\n// Required for side-effects\nimport \"firebase/firestore\";\nimport { GeoFirestore } from \"geofirestore\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDjXx1AqIQnkyKkCPh8HZKZYyiKGfiLcbc\",\n  authDomain: \"contracting-app.firebaseapp.com\",\n  databaseURL: \"https://contracting-app.firebaseio.com\",\n  projectId: \"contracting-app\",\n  storageBucket: \"contracting-app.appspot.com\",\n  messagingSenderId: \"557426956160\",\n  appId: \"1:557426956160:web:c1393a9710ed0e40151365\"\n};\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\nexport const firestore = firebase.firestore(),\n  geoFirestore = new GeoFirestore(firestore)\n\n  firestore.enablePersistence({\n    synchronizeTabs:true\n  })","import { Application } from \".\";\nimport { INotification } from \"../components/notification\";\nimport { IEducationHistory, ILicense } from \"./education\";\nimport { firestore } from \"./firebase\";\nimport { IJobHistory } from \"./job\";\n\nexport const DUMMY_TOKEN = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1ZjdlMDFmOTBiMjRmNzAwMTcyZmRkOTQiLCJlbWFpbCI6Inp6QGdtYWlsLmNvbSIsInBob25lX251bWJlciI6IisyMzQ4MDgzODIxNzgyIiwiaWF0IjoxNjE1NjYzNDQ4fQ.nHEwobqCa4yT1z27ydwpSHPg_6s4CEp1QarlJGU1HUo\"\nexport const DUMMY_TOKEN_SECRET = \"secret\"\n\nclass AppUser {\n    id\n    role: string\n    firstName: string\n    lastName: string\n    occupation: string\n    city: string\n    state: string\n    starRate: number = 5.0\n    email: string\n    password?: string\n    phoneNumber: string\n    profilePhoto: string\n    profileBio?: string\n    dateCreated?: Date\n    accountStatus: string = \"Pending\"\n    workHistory: IJobHistory[] = []\n    educationalBackground: IEducationHistory[] = []\n    skills: string[] = []\n    licenses: ILicense[] = []\n\n    constructor(data, raw?: boolean) {\n        if (raw) {\n            this.role = data.role\n            this.firstName = data.first_name\n            this.lastName = data.last_name\n            this.occupation = data.occupation\n            this.starRate = data.star_rate\n            this.dateCreated = data.date_created\n            this.city = data.city\n            this.email = data.email\n            this.accountStatus = data.account_status\n            this.educationalBackground = data.educational_background\n            this.phoneNumber = data.phone_number\n            this.profilePhoto = data.profile_photo\n            this.state = data.state\n            this.skills = data.skills\n        } else {\n            this.role = data.role\n            this.firstName = data.firstName\n            this.lastName = data.lastName\n            this.occupation = data.occupation\n            this.starRate = data.starRate\n            this.dateCreated = data.dateCreated\n            this.city = data.city\n            this.email = data.email\n            this.accountStatus = data.accountStatus\n            this.educationalBackground = data.educationalBackground\n            this.phoneNumber = data.phoneNumber\n            this.profilePhoto = data.profilePhoto\n            this.state = data.state\n            this.skills = data.skills\n        }\n\n        this.id = data.id\n    }\n}\n\nexport class User extends AppUser {\n    get profileImageURL() {\n        return this.profilePhoto\n    }\n    token\n    jobType?: \"onsite\" | \"remote\"\n    activeTask\n    lastPasswordChanged?: number\n\n    constructor(data, raw?: boolean) {\n        super(data, raw)\n        this.token = data.token\n        this.jobType = data.jobType\n        this.activeTask = data.activeTask\n        this.lastPasswordChanged = data.lastPasswordChanged\n    }\n\n    /**\n     * \n     * @param app Application object\n     * @param id Identity of user whose detail will be fetched\n     * @param token Secret token obtained from logging into the application.\n     */\n    static async getUser(app: Application, id: string, token: string) {\n        try {\n            const response = await app.initiateNetworkRequest(`/users/${id}`, {\n                method: 'GET',\n                referrerPolicy: \"no-referrer\",\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Accept': 'application/json',\n                    Authorization: `Bearer ${token}`\n                },\n            })\n            if (!response.ok) {\n                throw new Error((await response.json())?.message || \"Failed to fetch user data!\")\n            }\n\n            const jsonResponse = await response.json()\n            const user = new User(jsonResponse, true)\n            user.id = id\n            user.token = token\n            user.profilePhoto = User.getPhotoURL(app, id)\n\n            return user\n\n        } catch (e) {\n            throw e\n        }\n    }\n\n    /**\n       * \n       * @param app Application object\n       * @param id Identity of user whose detail will be fetched\n       */\n    static async getExternalUser(app: Application, id: string): Promise<User> {\n        try {\n            const response = await app.initiateNetworkRequest(`/users/${id}`, {\n                method: 'GET',\n                referrerPolicy: \"no-referrer\",\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n            }, true)\n            if (!response.ok) {\n                throw new Error((await response.json())?.message || \"Failed to fetch user data!\")\n            }\n\n            const jsonResponse = await response.json()\n            const user = new User(jsonResponse, true)\n            user.id = id\n            user.profilePhoto = User.getPhotoURL(app, id)\n\n            return user\n        } catch (e) {\n            console.log('failed to fetch user data', e)\n            return new User({})\n        }\n    }\n\n    static async getComments(id: string): Promise<{ text: string, first_name: string, last_name: string }[]> {\n        if (!id) {\n            return []\n        }\n        const snap = await firestore.collection('comments').doc(id).collection('messages').get()\n        const docs: { text: string, first_name: string, last_name: string }[] = []\n        snap.forEach(({ text, first_name, last_name }: any) => docs.push({ text, first_name, last_name }))\n        return docs\n    }\n\n\n    static listenForNotifications(ctx: Application, callback = (err: Error | null, noop?: INotification[] | null) => { }, limit = 100) {\n        let query = firestore.collection('notifications')\n\n        // TODO: limit notifications displayed to non-admin\n        const unsubscribe = query.orderBy('dateCreated', 'desc').limit(limit).onSnapshot(async snap => {\n            const notifications: INotification[] = [];\n            (snap).forEach(doc => {\n                const item: any = doc.data()\n                item.id = doc.id\n                if (item.location?.address) {\n                    item.location_address = item.location.address\n                }\n                notifications.push(item)\n            })\n            callback(null, notifications)\n        }, err => callback(err, null))\n\n        return unsubscribe\n    }\n\n    static getPhotoURL(app: Application, id) {\n        return `${app.config.hostname}/images/${id}.jpg`\n    }\n\n}\n\nexport const DUMMY_USER: User = new User({})\n\nDUMMY_USER.firstName = \"Johnathan\"\nDUMMY_USER.lastName = \"Doe\"\nDUMMY_USER.id = 'unique'\nDUMMY_USER.email = 'a@example.com'\nDUMMY_USER.profileBio = \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ullam vero iure, ducimus, explicabo vel nesciunt eveniet, enim quis quos ex autem!\"\nDUMMY_USER.jobType = 'onsite'\nDUMMY_USER.phoneNumber = '080838111111'\nDUMMY_USER.starRate = 4.2\nDUMMY_USER.lastPasswordChanged = Date.now()\nDUMMY_USER.dateCreated = new Date(\"20/07/2020\")\nDUMMY_USER.skills = ['Farming', 'Poultry']\n// DUMMY_USER.profileImageURL = \"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTv3f3Zf2onEOPtpRtWPoRX6SWQUSpV_GBB6Q&usqp=CAU\"\n","import firebase from 'firebase';\nimport moment from 'moment';\nimport { Application } from \".\";\nimport { firestore } from \"./firebase\";\nimport { User } from \"./user\";\n\nexport interface IChatItem {\n    last_message?: {\n        text: string\n        createdAt: Date\n        read: false\n        /**\n         * userID of the user who sent the last message to this chat thread\n         */\n        user: string\n    }\n    initialized: boolean\n    users: User[]\n    id: string\n\n    recipient: User\n\n}\n\n\nexport interface IMessage {\n    type: 'text' | 'image' | 'attachment'\n    _id: string | number\n    text: string\n    createdAt: any\n    user: User\n    image?: string\n    video?: string\n    audio?: string\n    system?: boolean\n    sent?: boolean\n    received?: boolean\n    pending?: boolean\n}\n\nconst db = firestore.collection('chats')\n\nexport class Message {\n    content\n    sender\n\n    isSameUser(message: Message) {\n        return message.sender === this.sender\n    }\n\n\n    static isDifferentDay(message: IMessage, old?: IMessage) {\n        if (!old) {\n            return moment(message.createdAt)\n        }\n        const time1 = moment(message.createdAt)\n        const time2 = moment(old.createdAt)\n\n        if (time1.day() === time2.day()) {\n            return false\n        }\n\n        return time1\n    }\n\n    static generateID(a: string, b: string) {\n        return a > b ? a + b : b + a\n    }\n\n    static serialize(data: Partial<IMessage>) {\n        return {\n            ...data, user: {\n                _id: data?.user?.id || null,\n                avatar: data?.user?.profilePhoto || null,\n                name: `${data.user?.firstName} ${data.user?.lastName}`\n            }\n        }\n    }\n\n    static async sendMessage(app: Application, chat: IChatItem, message: Partial<IMessage>) {\n        if (!message) {\n            throw new Error('Cannot send empty message!')\n        }\n        let chatItem: firebase.firestore.DocumentReference<firebase.firestore.DocumentData>\n        if (!chat.initialized) {\n            // initialize chat\n            const id = Message.generateID(app.user?.id, chat.recipient.id)\n            chatItem = db.doc(id)\n        } else {\n            chatItem = db.doc(chat.id)\n        }\n        const newMessage = chatItem.collection('messages').doc()\n        message._id = newMessage.id\n        message.createdAt = firebase.firestore.FieldValue.serverTimestamp()\n        await firestore.runTransaction(async (txn) => {\n            await txn.set(chatItem, { id: chatItem.id, users: [app.user!.id, chat.recipient.id], initialized: true, last_message: { text: message.text, createdAt: message.createdAt, read: false, user: app.user?.id } }, { merge: true })\n            await txn.set(newMessage, Message.serialize(message))\n        })\n    }\n\n    static listenForChats(app: Application, callback: (err?: Error | null, data?: firebase.firestore.QueryDocumentSnapshot<firebase.firestore.DocumentData>[] | null) => any) {\n        let query = db\n        .where(\"users\", 'array-contains', app.user!.id)\n        .where('initialized', '==', true)\n        .orderBy(\"last_message.createdAt\", 'desc')\n        const unsubscribe = query.onSnapshot(async snap => {\n            const chats: any[] = [];\n            snap.forEach(doc => {\n                chats.push(doc)\n            })\n            callback(null, chats)\n        }, err => callback(err, null))\n\n        return unsubscribe\n    }\n\n    static listenForChatMessages(app: Application, chat: IChatItem, callback, limit = 50) {\n        let query = db.doc(chat.id)\n            .collection('messages')\n            .orderBy(\"createdAt\", 'desc')\n        const unsubscribe = query.limit(limit).onSnapshot(async snap => {\n            const messages: IMessage[] = [];\n            snap.forEach(doc => {\n                const item: any = doc.data()\n                item.id = doc.id\n                if (item.user._id === app.user?.id) {\n                    item.user = app.user\n                } else {\n                    item.user = chat.recipient\n                }\n                item.createdAt = item.createdAt.toDate()\n                messages.unshift(item)\n            })\n            callback(null, messages)\n        }, err => callback(err, null))\n\n        return unsubscribe\n    }\n}\n","import { createContext } from \"react\"\nimport validator from \"validator\"\nimport { IRegister } from \"../components/auth\"\nimport CONFIG from \"./config\"\nimport { initializeStorage, KEYS, localforage } from \"./storage\"\nimport { DUMMY_USER, User } from \"./user\"\nimport { Message } from \"./message\";\n\ninterface ISettings {\n    lastUserName: string\n}\n\nconst DEFAULT_SETTINGS = {\n    lastUserName: ''\n}\n\nexport class Application {\n    config: Config\n    user?: User\n    ready: Promise<boolean>\n\n    protected settings: ISettings = DEFAULT_SETTINGS\n\n    logoutListener?: () => any\n    loginListener?: () => any\n\n    constructor(config: Config) {\n        this.config = config\n        this.ready = new Promise(async (res, rej) => {\n            try {\n                await this.init()\n                res(true)\n            } catch (e) {\n                // if an error occurred during initialization, throw the error and handle within the application\n                console.log(e)\n                return rej(e)\n            }\n        })\n    }\n\n    /**\n     * Initialize application dependencies.\n     * \n     * Dependencies that fail to load should fail silently at this stage, unless required for application to function.\n     */\n    async init() {\n        await initializeStorage(this)\n\n        try {\n            const appData: ISettings | null = await localforage.getItem(KEYS.APP_DATA)\n            if (appData) {\n                this.settings = appData\n            }\n        } catch (e) {\n            console.info(e, 'No app data persisted!')\n        }\n\n        // check for existing user session\n        try {\n            await this.inflateUser()\n            // If user session exists, trigger login listener\n            if (this.loginListener) {\n                this.loginListener()\n            }\n        } catch (e) {\n            console.log(e)\n        }\n\n        return true\n    }\n\n\n    signedIn(): boolean {\n        return this.user && this.user?.token\n    }\n\n\n    async updateSettings(options: Partial<ISettings>) {\n        if (!options) {\n            throw new Error('Empty options provided!')\n        }\n        if (JSON.stringify(options) === JSON.stringify(this.settings)) {\n            return\n        }\n\n        this.settings = {\n            ...this.settings,\n            ...options\n        }\n\n        return await localforage.setItem(KEYS.APP_DATA, this.settings)\n    }\n\n    async initiateNetworkRequest(path: string, request?: RequestInit, authenticated = false, isJson = true): Promise<Response> {\n        const headers = {\n            ...request?.headers,\n            Accept: 'application/json',\n            Authorization: authenticated ? `Bearer ${this.user?.token}` : request?.headers?.['Authorization'],\n        }\n\n        if (isJson) {\n            headers['Content-Type'] = 'application/json'\n        }\n        \n        const reqObj: RequestInit = {\n            ...request,\n            referrerPolicy: 'no-referrer',\n            mode: 'cors',\n            headers\n        }\n\n        const resp = await fetch(`${this.config.hostname}${path}`, reqObj)\n        if (resp.status === 401) {\n            if (!this.user) {\n                throw new Error(\"Unauthenticated access not allowed!\")\n            }\n            // Authorization failed. This usually means the token has expired and refresh token could not be used to regenerate token\n            //\n            // Try to reauthenticate the user\n            try {\n                const { token } = await this.reauthenticate()\n                this.user.token = token\n                // since token is generated already, retry the request\n                if (reqObj && reqObj.headers && reqObj.headers['Authorization']) {\n                    reqObj.headers['Authorization'] = `Bearer ${token}`\n                }\n                return await this.initiateNetworkRequest(path, reqObj)\n            } catch (e) {\n                await this.logout()\n                throw e || new Error(\"App session expired. Login to continue!\")\n            }\n        }\n        return resp\n    }\n\n    protected async reauthenticate(): Promise<{ token: string }> {\n        // No logic to reauthenticate. Throw error, forcing user to logout.\n        throw new Error(\"Failed to authenticate user!\")\n    }\n\n    protected async inflateUser() {\n        // inflate user session\n        let session: User | null = await localforage.getItem(KEYS.USER_SESSION)\n        if (!session) throw new Error(\"No session available for user!\")\n\n        this.user = new User(session)\n        return this.user\n    }\n\n    protected async persistUser() {\n        if (!this.user) {\n            throw new Error('No user created!')\n        }\n\n        await localforage.setItem(KEYS.USER_SESSION, this.user)\n    }\n\n    async validateNumber(phone: string) {\n        if (!phone) {\n            throw new Error(\"Phone number must be provided!\")\n        }\n        phone = phone.trim()\n        if (!phone || !validator.isMobilePhone(phone)) {\n            throw new Error(\"Invalid phone number provided!\")\n        }\n        if (!phone.startsWith('+')) {\n            throw new Error(\"Phone number must begin with '+' and contain country code!\")\n        }\n\n        const response = await this.initiateNetworkRequest(`/users/phone/${encodeURIComponent(phone)}`, {\n            method: 'GET',\n        })\n\n        if (!response.ok) {\n            throw new Error((await response.json())?.message || \"Verification failed!\")\n        }\n\n        const jsonResponse = await response.json()\n        if (!jsonResponse.valid) {\n            throw new Error('Invalid phone number (ensure phone number is associated with a user)!')\n        }\n\n        return true\n    }\n\n    async triggerVerification(phone: string, channel: string = 'sms') {\n        if (!phone) {\n            throw new Error(\"Phone number must be provided!\")\n        }\n        phone = phone.trim()\n\n        if (!phone || !validator.isMobilePhone(phone)) {\n            throw new Error(\"Invalid phone number provided!\")\n        }\n        if (!phone.startsWith('+')) {\n            throw new Error(\"Phone number must begin with '+' and contain country code!\")\n        }\n\n        const response = await this.initiateNetworkRequest('/users/sms_registration', {\n            method: 'POST',\n            body: JSON.stringify({ phone_number: phone, channel })\n        })\n        if (!response.ok) {\n            throw new Error((await response.json())?.message || \"Verification failed!\")\n        }\n\n        return true\n    }\n\n    async login(username, code, password) {\n        try {\n            await this.validateLogin(username, code, password)\n\n            const response = await this.initiateNetworkRequest('/users/login', {\n                method: 'POST',\n                referrerPolicy: \"no-referrer\",\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Accept': 'application/json'\n                },\n                body: JSON.stringify({ phone_number: username, code, password })\n            })\n            if (!response.ok) {\n                throw new Error((await response.json())?.message || \"Login failed!\")\n            }\n\n            const jsonResponse = await response.json()\n            if (!jsonResponse.success) {\n                throw new Error(\"Login failed!\")\n            }\n            this.user = await User.getUser(this, jsonResponse.userName, jsonResponse.token)\n            if (this.user.role !== 'admin') {\n                // TODO: Decide the kind of users that can access this webapp\n                // throw new Error(\"Authenticated access only allowed for administrators!\")\n            }\n\n            await this.persistUser()\n            if (this.loginListener) {\n                this.loginListener()\n            }\n\n            return this.user\n\n        } catch (e) {\n            throw e\n        }\n    }\n\n    protected async validateLogin(phone: string, code: string, password: string) {\n        if (!phone || !password || !code) {\n            throw new Error(\"Credentials not provided!\")\n        }\n        phone = phone.trim()\n\n        if (!phone || !validator.isMobilePhone(phone)) {\n            throw new Error(\"Invalid phone number provided!\")\n        }\n        if (!phone.startsWith('+')) {\n            throw new Error(\"Phone number must begin with '+' and contain country code!\")\n        }\n        if (!validator.matches(password, /.{6,}/i)) {\n            throw new Error(\"Invalid password provided (Password must be more than 6 characters)!\")\n        }\n        if (!validator.matches(code, /[0-9]{4}/)) {\n            throw new Error(\"Invalid code provided (provided code must have 4 digits)!\")\n        }\n    }\n\n    async addAdmin(data: IRegister) {\n        try {\n            await this.validateRegister(data)\n\n            const response = await this.initiateNetworkRequest('/users/new', {\n                method: 'POST',\n                body: JSON.stringify({\n                    ...data,\n                    role: 'admin',\n                    account_status: 'pending'\n                })\n            })\n            if (!response.ok) {\n                throw new Error((await response.json())?.message)\n            }\n\n            const jsonResponse = await response.json()\n\n            return jsonResponse\n        } catch (e) {\n            throw e\n        }\n    }\n\n    protected async validateRegister(data: IRegister) {\n        let { email, password, first_name, last_name, password_verify, phone_number } = data\n        if (!email || !password) {\n            throw new Error(\"Credentials not provided!\")\n        }\n        if (password !== password_verify) {\n            throw new Error('Passwords do not match!')\n        }\n        email = email.trim()\n        first_name = first_name.trim()\n        last_name = last_name.trim()\n        if (!first_name || !last_name) {\n            throw new Error('Firstname and lastname must be provided!')\n        }\n        if (!email || !validator.isEmail(email)) {\n            throw new Error(\"Invalid username provided!\")\n        }\n        if (!phone_number || !validator.isMobilePhone(phone_number)) {\n            throw new Error(\"Invalid phone number provided!\")\n        }\n        if (!phone_number.startsWith('+')) {\n            throw new Error(\"Phone number must begin with '+' and contain country code!\")\n        }\n        if (!validator.matches(password, /.{6,}/i)) {\n            throw new Error(\"Invalid password provided (Password must be more than 6 characters)!\")\n        }\n    }\n\n\n    async logout() {\n        new Message()\n        this.user = undefined\n        await localforage.removeItem(KEYS.USER_SESSION)\n        //await localforage.removeItem(KEYS.REFRESH_TOKEN)\n        if (this.logoutListener) {\n            this.logoutListener()\n        }\n    }\n}\n\nexport const DEFAULT_APPLICATION = new Application(CONFIG)\n/**\n * This is the application context used within the web application.\n * \n * This context provided the application engine and is not tied to any view rendering.\n * \n * The underlying aplication object exposes the required functions and do not modify the view.\n * This underlying object is made available to all React components via the application context.\n * \n * All view rendering is managed in React.\n * \n * **VIEW RENDERING SHOULD NOT DEPEND ON ANY PROPERTY OF THIS CONTEXT**\n */\nexport const APPLICATION_CONTEXT = createContext<Application>(DEFAULT_APPLICATION)\n\n/**\n * This context is used for managing the views within the web app.\n * Activities such as loading and splashscreen are implemented using this context.\n */\nexport const VIEW_CONTEXT = createContext<{\n    setSignedIn: any,\n    signedIn: null | User,\n    setAppReady: any,\n    showToolbar: any,\n    showFooter: any\n}>({\n    setSignedIn: (signedIn) => { },\n    signedIn: null,\n    setAppReady: (ready: boolean) => { },\n    showToolbar: (show: boolean) => { },\n    showFooter: (footer) => { }\n})\n\nexport interface Config {\n    name: string\n    version: string\n    description: string\n    hostname: string\n    Google: {\n        mapKey: string\n    }\n}\n","export default {\n    register: '/register',\n    login: '/login',\n    messages: '/messages',\n    _messages: '/messages/:id?',\n    home: '/',\n    dashboard: '/dashboard',\n    invoices: '/invoices',\n    jobs: '/jobs',\n    activeJobs: '/jobs/active',\n    inactiveJobs: '/jobs/inactive',\n    _jobItem: {\n        active: '/jobs/active/:id?',\n        inactive: '/jobs/inactive/:id?'\n    },\n    privacyPolicy: '/privacyPolicy',\n    termsOfService: '/terms',\n    profile: '/profile',\n    _profile: '/profile/:id',\n    helpCenter: '/help',\n    logout: '/logout',\n    settings: '/settings',\n    loginAndSecurity: '/settings',\n    paymentMethods: '/settings/payment',\n    additionalFeatures: '/settings/features',\n    legalDocuments: '/settings/legal'\n}","import React, { useContext } from \"react\";\nimport { APPLICATION_CONTEXT } from \"../lib\";\nimport links from '../lib/links'\nimport { Link } from \"react-router-dom\";\n\nexport function Footer() {\n    const ctx = useContext(APPLICATION_CONTEXT)\n\n    return (\n        <footer className='footer is-unselectable' >\n            <div className=\"content has-text-centered is-size-7-touch\">\n                <p>&copy; {ctx.config.name} {new Date().getFullYear()}. All Rights Reserved | <Link to={links.privacyPolicy}>Privacy Policy</Link> | <Link to={links.termsOfService}>Terms of Service</Link> </p>\n            </div>\n        </footer>\n    )\n}","import React, { useContext } from \"react\"\nimport { APPLICATION_CONTEXT, VIEW_CONTEXT } from \"../lib\"\nimport { Redirect, Route, useLocation, useHistory, RouteProps } from \"react-router-dom\"\nimport links from \"../lib/links\"\n\n/**\n * HOC (high order component) for rendering private views only if the user is authenticated.\n * \n * @param children View to render if authenticated\n */\nexport function AuthGuard({ children, ...rest }: RouteProps) {\n    const ctx = useContext(APPLICATION_CONTEXT)\n    const viewCTX = useContext(VIEW_CONTEXT)\n    const location = useLocation()\n\n    return (\n        <Route {...rest}>\n            {ctx.signedIn() && viewCTX.signedIn ? (\n                children\n            ) : (\n                    <Redirect to={{\n                        pathname: links.login,\n                        state: {\n                            from: location\n                        }\n                    }} />\n                )\n            }\n        </Route>\n    )\n}\n\n/**\n * HOC for rendering components based on the authenticated state of the application.\n * This HOC is used for conditionally rendering authentication views (like login pages) or redirect if the user is already authenticated.\n * \n * @param children View to render\n */\nexport function AuthHandler({ children }) {\n    const ctx = useContext(APPLICATION_CONTEXT)\n    const viewCTX = useContext(VIEW_CONTEXT)\n    const location = useLocation()\n\n    if (ctx.signedIn() && viewCTX.signedIn) {\n        const { from } = (location.state as any) || { from: { pathname: '/' } }\n        return <Redirect to={from} />\n    } else {\n        return children\n    }\n}","import React from 'react'\n\nexport const STYLES: { [key: string]: React.CSSProperties } = {\n    toolbar: {\n        boxShadow: \"-2px 2px 3px 0px #8888\",\n        // background: \"#282c34\",\n    },\n    appLogoIcon: {\n        fontSize: '2em',\n        marginRight: '.5em',\n        color: 'blue'\n    },\n    appLogoText: {\n        fontSize: '1.2em',\n        fontWeight: 'bold'\n    },\n    jobProgressBar:{\n        height:'.4em'\n    }\n}","import React, { useState, useContext, useCallback } from 'react'\nimport { STYLES } from '../lib/theme'\nimport { FaJoint, FaUser, FaContao, FaCog, FaSearch } from \"react-icons/fa\";\nimport { APPLICATION_CONTEXT, VIEW_CONTEXT } from '../lib';\nimport { Link, NavLink } from 'react-router-dom';\nimport links from '../lib/links';\n\n\nconst AUTOHIDE_TIMEOUT = 20000\nlet timer: any\n// TODO: build your own toolbar styling.\n\nexport default function Toolbar() {\n    const [state, setState] = useState({ showMenu: false })\n    const ctx = useContext(APPLICATION_CONTEXT)\n    const vctx = useContext(VIEW_CONTEXT)\n    const toggleMenu = () => {\n        // Clear the existing timer for closing menu and then hide/show the menu\n        clearTimeout(timer)\n        if (state.showMenu) {\n            setState({ ...state, showMenu: false })\n        } else {\n            setState({ ...state, showMenu: true })\n            timer = setTimeout(() => {\n                setState({ ...state, showMenu: false })\n            }, AUTOHIDE_TIMEOUT)\n        }\n    }\n\n    return (\n        <nav className='navbar' role='navigation' style={STYLES.toolbar} aria-label='main navigation'>\n            <div className='navbar-brand'>\n                <Link className='navbar-item' to={links.home}>\n                    <FaContao style={STYLES.appLogoIcon} />\n                    <span style={STYLES.appLogoText}>{ctx.config.name}</span>\n                </Link>\n                <a role=\"button\" className={`navbar-burger burger ${state.showMenu ? 'is-active' : ''}`} aria-label=\"menu\" aria-expanded=\"false\" data-target=\"navbar\" onClick={toggleMenu}>\n                    <span aria-hidden=\"true\"></span>\n                    <span aria-hidden=\"true\"></span>\n                    <span aria-hidden=\"true\"></span>\n                </a>\n            </div>\n            <div className={`navbar-menu ${state.showMenu ? 'is-active' : ''}`} >\n                <div className='navbar-start'>\n                    <NavLink to={links.dashboard} exact activeClassName='is-active' className='navbar-item is-tab'>Dashboard</NavLink>\n                    <NavLink to={links.messages} activeClassName='is-active' className='navbar-item is-tab'>Messages</NavLink>\n                    <NavLink to={links.invoices} activeClassName='is-active' className='navbar-item is-tab'>Invoices</NavLink>\n                    <NavLink to={links.jobs} activeClassName='is-active' className='navbar-item is-tab'>Jobs</NavLink>\n                </div>\n                <div className='navbar-end'>\n                    <div className='navbar-item'>\n                        <div className='field'>\n                            <p className='control has-icons-left'>\n                                <input className='input is-rounded' type='search' placeholder='Type to search...' />\n                                <span className='icon is-small is-left'><FaSearch className='is-size-5' /></span>\n                            </p>\n                        </div>\n                    </div>\n                    <div className='navbar-item has-dropdown is-hoverable'>\n                        <span className='navbar-link'>\n                            {`${ctx.user?.firstName} ${ctx.user?.lastName}`}\n                        </span>\n                        <div className='navbar-dropdown'>\n                            <Link to={{pathname:`${links.profile}/${ctx.user?.id}`}} className='navbar-item'>Profile</Link>\n                            <Link to={links.helpCenter} className='navbar-item'>Help Center</Link>\n                            <Link to={links.logout} className='navbar-item'>Sign Out</Link>\n                        </div>\n                    </div>\n                    <div className='navbar-item'>\n                        <Link to={links.settings} className='button is-rounded is-light is-fullwidth'><FaCog /></Link>\n                    </div>\n                </div>\n            </div>\n        </nav >\n    )\n}","import React, { ReactChild, useEffect, useState, useContext, HTMLAttributes } from 'react'\nimport { FaExclamationCircle } from 'react-icons/fa';\nimport { Loader } from '@googlemaps/js-api-loader';\nimport { APPLICATION_CONTEXT } from '../lib';\n\nexport function Empty({ content, icon, onDismiss, children, text, ...props }: { text?: string, content?: ReactChild, icon?: ReactChild, onDismiss?: any, children?: ReactChild } & HTMLAttributes<HTMLDivElement>) {\n    return (\n        <div {...props} className={`notification px-4 is-light is-uppercase is-warning has-text-centered ${props.className}`}>\n            {!!onDismiss && <button onClick={onDismiss} className='delete'></button>}\n            {icon ? icon :\n                <FaExclamationCircle className='has-text-warning-dark is-size-4 mb-2' />\n            }\n            {children ?\n                children :\n                content ? content :\n                    <p className='block has-text-grey is-size-7'>{text || 'No data'}</p>\n            }\n        </div>\n    )\n}\n\nexport function Loading() {\n    return (\n        <section className='hero is-fullheight is-bold is-flex-centered' style={{ alignItems: 'stretch', padding: '2em' }}>\n            <div className='hero-body is-flex-centered has-text-centered'>\n                <div className='column is-4 is-12-mobile'>\n                    <div className='section px-6'>\n                        <progress className=\"progress is-small is-danger\" max=\"100\">loading</progress>\n                    </div>\n                </div>\n            </div>\n        </section>\n    )\n}\n\nexport function CardFragment({ header, optionsElement, optionsText, onOptionsTextClick, children, style }: { header: string, optionsElement?: React.ReactChild, optionsText?: any, onOptionsTextClick?: any, children?: any, style?: React.CSSProperties }) {\n    return (\n        <div className=\"card\" style={style}>\n            <header className='card-header'>\n                <p className='card-header-title'>{header}</p>\n                <p className='card-header-icon'>\n                    {optionsElement ?\n                        optionsElement :\n                        <span className='has-text-link' onClick={onOptionsTextClick}>\n                            {optionsText}\n                        </span>\n                    }\n                </p>\n            </header>\n            <div className='card-content'>\n                <div className='container is-fluid px-0'>\n                    {children}\n                </div>\n            </div>\n        </div>\n    )\n}\n\nlet mapsLoaded = false\nexport function useLoadGoogleMaps() {\n    const ctx = useContext(APPLICATION_CONTEXT)\n    const [loading, setLoading] = useState(!mapsLoaded)\n\n    useEffect(() => {\n        if (loading) {\n            new Loader({\n                apiKey: ctx.config.Google.mapKey,\n                version: \"weekly\",\n                libraries: ['places']\n            }).load()\n                .then(() => setLoading(false))\n        }\n    }, [])\n\n    return loading\n}\n\n/**\n * \n * @param func Function to debounce\n * @param wait Miliseconds delay for debounce\n * @param immediate Set to true to trigger immediately and kill other attempts\n */\nexport function debounce(func, wait: number, immediate: boolean = false) {\n    var timeout;\n    return async (...args) => {\n        var later = async () => {\n            timeout = null;\n            if (!immediate) return func(...args)\n        };\n        var callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) return func(...args)\n    };\n};\n\nexport async function wait(duration = 5000) {\n    await new Promise((res) => {\n        setTimeout(res, duration)\n    })\n}\n\nexport const useEscapeHandler = (callback: any) => {\n    const handler = (ev: KeyboardEvent) => {\n        if (ev.key === 'Escape') {\n            callback()\n        }\n    }\n    window.document.addEventListener('keydown', handler)\n    return () => window.document.removeEventListener('keydown', handler)\n}","import { geoFirestore } from \"./firebase\";\nimport firebase from 'firebase'\nimport { useCallback } from \"react\";\nimport { User } from \"./user\";\nimport { Application } from \".\";\n\n\nexport const JOB_MILE_RADIUS = 10\n\nconst JOB_TYPES = [\"Alarm Systems/Cameras\", \"Animal Grooming\", \"Auto Mechanic\", \"Baby Sitters/Nanny\", \"Beautician\", \"Cable/Satellite Installation\", \"Car Detailing\", \"Carpenter\", \"Carpet Cleaning\", \"Caterers\", \"Computer Repair\", \"Debris Removal\", \"Demolition\", \"Dump Truck Services\", \"Electrician\", \"Engineering\", \"Event Planner\", \"Flooring\", \"Garage Door Installation/Repair\", \"HVAC (Heating & Air Conditioning)\", \"Healthcare professionals\", \"Hot Shot Delivery & Courier Services\", \"IT Tech Support\", \"Janitorial/Maid/Cleaning Services\", \"Lawn care\", \"Masonry (Brick, Concrete)\", \"Modeling/Acting\", \"Networking Installation\", \"Painter/Finish\", \"Plumber\", \"Roof Repair\", \"Seamstress/Tailor\", \"Shipping Pallets, Containers and Custom Crate Builders\", \"Snow and Ice Removal\", \"Tow Truck and Roadside Assistance\", \"Tree Services\", \"Veterinarian Services\", \"Web Designer\", \"Window Blinds, Shades, Drapes, Curtains and Shutters\"]\n\nexport interface IJob {\n    id\n    coordinates: firebase.firestore.GeoPoint\n    date_completed: firebase.firestore.Timestamp | null\n    date_created: firebase.firestore.Timestamp\n    g: any\n    executed_by: string\n    job_title: string\n    job_description: string\n    job_type: string\n    location: {\n        coords: {\n            accuracy: number\n            altitude: number\n            altitudeAccuracy: number\n            heading: number\n            latitude: number\n            longitude: number\n            speed: number\n        }\n        timestamp\n        address\n        place_id\n        id\n    }\n    location_address: any\n    posted_by: string\n    salary: number\n    star_rate: number | null\n    status: \"available\" | \"in review\" | \"accepted\" | \"in progress\" | \"complete\"\n    tasks: { id: string, text: string }[]\n    wage: \"hr\"\n    required_count: number\n    progress?: number\n    user?: User\n}\n\nexport interface IJobHistory {\n    employer_name: string\n    employer_phone_number: string\n    employer_address: string\n    supervisor_name?: string\n    supervisor_title?: string\n    user_position_title?: string\n    date_started: Date\n    date_ended: Date\n    actual_job?: boolean\n    salary?: string\n    wage?: string\n    description?: string\n}\n\nexport class Job {\n    private static db = geoFirestore.collection('jobs')\n\n    static async getJobTypes(app: Application) {\n        return JOB_TYPES\n    }\n\n    static async addNewJob(app: Application, job, photos: File[] = []) {\n        if (!job.posted_by || !job.job_title || !job.salary || !job.wage || (!job.location && !job.location_address)) {\n            throw new Error('Complete all required fields to continue!')\n        }\n        if (job.tasks.length < 1) {\n            throw new Error('You must add at least 1 task for this job!')\n        }\n        if (job.job_title.length < 8 || job.job_description.length < 20) {\n            throw new Error(\"Kindly enter a more meaningful title and description!\")\n        }\n        if (job.required_count < 1) {\n            throw new Error(\"Provide the number of people you require for this job!\")\n        }\n        if (job.salary < 0) {\n            throw new Error(\"Salary must be more than $0!\")\n        }\n\n        job.coordinates = new firebase.firestore.GeoPoint(job.location.coords.latitude, job.location.coords.longitude)\n\n        const newDoc = Job.db.doc()\n        let photo_files = null\n\n        if (photos && photos.length > 0) {\n            // If photo is selected, add the photo\n            const body = new FormData()\n            photos.map((photo) => {\n                body.append(\"photo\", photo);\n            })\n            const apiResponse = await app.initiateNetworkRequest(`/job/upload`, {\n                method: \"POST\",\n                headers: {\n                    \"x-job-id\": newDoc.id,\n                },\n                body,\n            }, true, false)\n\n            if (!apiResponse.ok) {\n                throw new Error((await apiResponse.json()).message || \"Failed to upload job\");\n            }\n\n            photo_files = (await apiResponse.json()).data;\n        }\n\n        job.id = newDoc.id\n        return newDoc.set({ ...job, photo_files })\n    }\n\n    static async cancelJob(app: Application, job: IJob) {\n        if (job.status === 'complete') {\n            throw new Error('You cannot cancel a completed job!')\n        }\n\n        if (job.status === 'accepted') {\n            await app.initiateNetworkRequest(`users/cancelJob`, {\n                method: 'DELETE',\n                body: JSON.stringify({ jobID: job.id, role: app.user?.role })\n            }, true)\n        } else {\n            await Job.db.doc(job.id).delete()\n        }\n        return true\n    }\n\n    static async getInactiveJobs(app: Application, limit = 20) {\n        let query = Job.db.where('status', '==', 'complete')\n        // if (app.user?.role !== 'admin') {\n        //    query =  query.where('posted_by', '==', app.user?.id)\n        // }\n        return query.native.orderBy('date_created', 'desc').limit(limit).get().then(async snap => {\n            const jobs: IJob[] = []\n            snap.forEach(doc => {\n                const item: any = doc.data()\n                item.id = doc.id\n                if (item.location?.address) {\n                    item.location_address = item.location.address\n                }\n                jobs.push(item)\n            })\n            return Promise.resolve(jobs)\n        })\n    }\n\n    static async getActiveJobs(app: Application, limit = 20) {\n        let query = Job.db.where('status', 'in', [\"available\", \"in review\", \"accepted\", \"in progress\"])\n        // if (app.user?.role !== 'admin') {\n        //    query =  query.where('posted_by', '==', app.user?.id)\n        // }\n        return query.native.orderBy('date_created', 'desc').limit(limit).get().then(async snap => {\n            const jobs: IJob[] = []\n            snap.forEach(async doc => {\n                const item: any = doc.data()\n                item.id = doc.id\n                if (item.location?.address) {\n                    item.location_address = item.location.address\n                }\n                jobs.push(item)\n            })\n            return Promise.resolve(jobs)\n        })\n    }\n\n    static listenForActiveAndPendingJobs(app: Application, callback, limit = 100) {\n        let query = Job.db.where('status', 'in', [\"available\", \"in review\", \"accepted\", \"in progress\"])\n        // if (app.user?.role !== 'admin') {\n        //     query.where('posted_by', '==', app.user?.id)\n        // }\n        const unsubscribe = query.native.orderBy('date_created', 'desc').limit(limit).onSnapshot(async snap => {\n            const jobs: IJob[] = [];\n            (snap as firebase.firestore.QuerySnapshot).forEach(doc => {\n                const item: any = doc.data()\n                item.id = doc.id\n                if (item.location?.address) {\n                    item.location_address = item.location.address\n                }\n                jobs.push(item)\n            })\n            callback(null, jobs)\n        }, err => callback(err, null))\n\n        return unsubscribe\n    }\n\n    static listenForActiveJobs(app: Application, callback, limit = 9) {\n        let query = Job.db.where('status', 'in', [\"in review\", \"accepted\", \"in progress\"])\n        // if (app.user?.role !== 'admin') {\n        //     query = query.where('posted_by', '==', app.user?.id)\n        // }\n        const unsubscribe = query.native.orderBy('date_created', 'desc').limit(limit).onSnapshot(async snap => {\n            const jobs: IJob[] = [];\n            (snap as firebase.firestore.QuerySnapshot).forEach(doc => {\n                const item: any = doc.data()\n                item.id = doc.id\n                if (item.location?.address) {\n                    item.location_address = item.location.address\n                }\n                jobs.push(item)\n            })\n            callback(null, jobs)\n        }, err => callback(err, null))\n\n        return unsubscribe\n    }\n\n    static listenForActiveJobsWithChangeHandler(app: Application, { added, modified, removed }: {\n        added: (data: firebase.firestore.QueryDocumentSnapshot<firebase.firestore.DocumentData>) => any,\n        modified: (data: firebase.firestore.QueryDocumentSnapshot<firebase.firestore.DocumentData>) => any,\n        removed: (data: firebase.firestore.QueryDocumentSnapshot<firebase.firestore.DocumentData>) => any\n    }) {\n        let query = Job.db.where('status', 'in', [\"available\", \"in review\", \"accepted\", \"in progress\"])\n        // if (app.user?.role !== 'admin') {\n        //     query = query.where('posted_by', '==', app.user?.id)\n        // }\n        const unsubscribe = query.limit(6).onSnapshot(async snap => {\n            (snap.native as firebase.firestore.QuerySnapshot).docChanges().forEach(change => {\n                switch (change.type) {\n                    case 'added':\n                        added(change.doc)\n                        break\n                    case 'modified':\n                        modified(change.doc)\n                        break\n                    case 'removed':\n                        removed(change.doc)\n                        break\n                }\n            })\n        })\n\n        return unsubscribe\n    }\n\n    static getPhotoURL(app: Application, id) {\n        return `${app.config.hostname}/images/${id}.jpg`\n    }\n}","import React, { DetailedHTMLProps, useRef, useEffect, useContext, useState, memo, ReactNode, ReactElement, CSSProperties, useMemo } from 'react'\nimport { Loader } from \"@googlemaps/js-api-loader\";\nimport L from \"leaflet\";\nimport { APPLICATION_CONTEXT } from '../lib';\nimport { ImSpinner } from 'react-icons/im';\nimport { useLoadGoogleMaps } from './util';\nimport { IJob } from '../lib/job';\nimport { FaMapPin } from 'react-icons/fa';\n\nexport const MapView = memo<{ job: IJob, vertical: boolean } & any>((props) => {\n    const { job: { coordinates, job_title: title }, vertical = true, zoom = 18, zoomControl = true } = props\n    const loading = useLoadGoogleMaps()\n    const mapEl = useRef<HTMLDivElement>()\n\n    const [map, setMap] = useState<google.maps.Map | null>(null)\n    const [marker, setMarker] = useState<google.maps.Marker>()\n\n    useEffect(() => {\n        if (mapEl.current && !loading) {\n            const _mapInstance = new google.maps.Map(mapEl.current, {\n                center: { lat: coordinates.latitude, lng: coordinates.longitude },\n                gestureHandling: 'none',\n                zoomControl: zoomControl,\n                zoom,\n                mapTypeControl: false,\n                fullscreenControl: true,\n            })\n            setMap(_mapInstance)\n            setMarker(new google.maps.Marker({\n                map: _mapInstance,\n                position: { lat: coordinates.latitude, lng: coordinates.longitude },\n                animation: google.maps.Animation.DROP,\n                title,\n            }))\n        }\n    }, [loading, mapEl])\n\n\n    useEffect(() => {\n        if (coordinates) {\n            map?.setCenter({ lat: coordinates.latitude, lng: coordinates.longitude })\n            marker?.setPosition({ lat: coordinates.latitude, lng: coordinates.longitude })\n        }\n    }, [coordinates])\n\n    return (\n        loading ?\n            <div {...props} className={`${props.className} is-flex is-flex-centered px-6`} style={{ width: '100%', height: '100%', backgroundColor: '#dadada', ...props?.style, }}>\n                <progress style={{ height: '0.2rem' }} className=\"progress is-small my-6 mx-6\" max=\"100\">loading</progress>\n            </div>\n            :\n            <div id='mapview' {...props} style={{ ...props?.style, width: '100%', height: '100%', backgroundColor: '#dadada', minHeight: vertical ? '50vh' : '12em', ...props?.style, }} ref={mapEl} />\n    )\n})","import moment, { unix } from 'moment'\nimport React, { useCallback, useState, useContext } from 'react'\nimport { FaExpandAlt, FaStar, FaMapMarkerAlt, FaGlobeAfrica, FaClipboardList, FaHardHat, FaCaretRight, FaArrowRight, FaChevronRight } from 'react-icons/fa'\nimport { ImSpinner } from \"react-icons/im\";\nimport { NavLink, Link } from 'react-router-dom'\nimport { STYLES } from '../lib/theme'\nimport { DUMMY_USER, User } from '../lib/user'\nimport { IJob, Job, JOB_MILE_RADIUS } from '../lib/job'\nimport firebase from \"firebase\";\nimport { useToasts } from 'react-toast-notifications';\nimport { wait } from './util';\nimport { APPLICATION_CONTEXT } from '../lib';\nimport { MapView } from './map';\nimport links from '../lib/links';\nimport { Message, IChatItem } from '../lib/message';\n\nexport function JobListItem({ job }: { job: IJob }) {\n    const ctx = useContext(APPLICATION_CONTEXT)\n\n    const time = moment(job.date_created.toDate())\n    return (\n        <div className='card'>\n            <div className='card-content'>\n                <div className='columns mb-0'>\n                    <div className='column is-6 has-text-centered-touch has-text-left'>\n                        <p style={{ whiteSpace: 'nowrap', textOverflow: 'ellipsis', overflow: \"hidden\" }}>{job.job_title}</p>\n                    </div>\n                    <div className='column has-text-centered-touch has-text-right'>\n                        <p>{job.location_address}</p>\n                    </div>\n\n                </div>\n                <div className='columns'>\n                    <div className='column has-text-left'>\n                        <p>{job.job_type}</p>\n                    </div>\n                </div>\n            </div>\n            <div className='card-footer'>\n                <div className='card-footer-item'>\n                    <div className='columns px-4 is-vcentered is-mobile' style={{ flexDirection: 'column', flex: 1 }}>\n                        <div className='column is-12'>\n                            <div className='columns is-vcentered is-mobile'>\n                                <div className='column is-narrow is-flex' style={{ justifyContent: 'center' }}>\n                                    <figure className='image is-flex is-32x32'>\n                                        <img className='is-rounded' src={Job.getPhotoURL(ctx, job.user?.id)} />\n                                    </figure>\n                                </div>\n                                <div className='column is-narrow'>\n                                    <div className='title is-6'>{`${job.user?.firstName} ${job.user?.lastName}`}</div>\n                                </div>\n                                <div className='column has-text-right'>\n                                    {time.calendar({ sameElse: 'DD/MMM/YYYY' })}\n                                </div>\n                            </div>\n                        </div>\n                        <div className='column is-12'>\n                            <progress className=\"progress is-info\" style={STYLES.jobProgressBar} value={0} max=\"100\">{0}</progress>\n                        </div>\n                    </div>\n                </div>\n\n            </div>\n        </div>\n    )\n}\n\nexport function JobItem({ job, to }: { job: IJob, to: any }) {\n    const ctx = useContext(APPLICATION_CONTEXT)\n\n    if (job.status === 'available') {\n        return <PendingJobItem job={job} to={to} key={`pending-${job.id}`} />\n    }\n\n    const time = moment(job.date_created.toMillis())\n    let endTime\n    if (job.date_completed) endTime = moment(job.date_completed.toMillis())\n\n    return (\n        <NavLink activeClassName=\"is-active\" to={to} style={{ overflowX: 'auto' }} className={`job-item is-size-7 px-1 py-1 is-block card is-shadowless is-radiusless has-background-white`}>\n            <div className='card-content py-2 px-2'>\n                <div className='container is-paddingless'>\n                    <div className='columns'>\n                        <div className='column is-6 has-text-centered-touch has-text-left'>\n                            <p style={{ whiteSpace: 'nowrap', textOverflow: 'ellipsis', overflow: \"hidden\" }}>{job.job_type}</p>\n                        </div>\n                        <div className='column has-text-centered-touch has-text-right has-text-grey'>\n                            <p>{job.location_address}</p>\n                        </div>\n                    </div>\n                    <div className='columns is-vcentered is-mobile'>\n                        <div className='column is-narrow is-flex' style={{ justifyContent: 'center' }}>\n                            <figure className='image is-flex is-48x48'>\n                                <img className='is-rounded' src={Job.getPhotoURL(ctx, job.user?.id)} />\n                            </figure>\n                        </div>\n                        <div className='column px-0 has-text-left'>\n                            <div className='title is-7 mb-1'>{`${job.user?.firstName || 'John'} ${job.user?.lastName || \"Doe\"}`}</div>\n                            <p className='is-size-6'><span className='icon has-text-info'><FaStar /></span>{job.user?.starRate}</p>\n                        </div>\n                        <div className='column has-text-grey has-text-right'>\n                            {time.calendar({ sameElse: 'DD/MMM/YYYY' })}\n                        </div>\n                    </div>\n\n                </div>\n                <div className='columns mb-0 is-vcentered has-text-grey is-mobile' style={{ flexDirection: 'column', flex: 1 }}>\n                    <div className='column is-12'>\n                        {job.progress && job.progress >= 100 ? (\n                            <p>Completed {endTime.calendar({ sameElse: 'DD/MMM/YYYY' })}</p>\n                        ) :\n                            <progress className=\"progress is-info\" style={STYLES.jobProgressBar} value={job.progress || 0} max=\"100\">{job.progress}</progress>\n                        }\n                    </div>\n                </div>\n                <div className='content has-text-left has-text-grey is-flex is-flex-align-items-center'>\n                    <span className='icon has-text-info is-size-6'><FaChevronRight /></span>\n                    <span style={{ lineHeight: '2em' }}>{job.job_title}</span>\n                </div>\n            </div>\n        </NavLink>\n    )\n}\n\nexport function PendingJobItem({ job, to }: { job: IJob, to: any }) {\n    const ctx = useContext(APPLICATION_CONTEXT)\n\n    return (\n        <NavLink activeClassName=\"is-active\" to={to} style={{ overflowX: 'auto' }} className={`job-item is-size-7 px-1 py-1 is-block card is-shadowless is-radiusless has-background-white`}>\n            <div className='card-content py-2 px-2'>\n                <div className='container is-paddingless'>\n                    <div className='columns'>\n                        <div className='column is-6 has-text-centered-touch has-text-left'>\n                            <p style={{ whiteSpace: 'nowrap', textOverflow: 'ellipsis', overflow: \"hidden\" }}>{job.job_type}</p>\n                        </div>\n                        <div className='column has-text-centered-touch has-text-right has-text-grey'>\n                            <p>{job.location_address}</p>\n                        </div>\n                    </div>\n                    <div className='columns is-vcentered is-mobile'>\n                        <div className='column has-text-left'>\n                            <p className='is-size-7 is-flex is-vcentered'>\n                                <span className='icon is-size-6 has-text-info spinner'><ImSpinner /></span>\n                                <span style={{ lineHeight: '2em' }}>Pending</span>\n                            </p>\n                        </div>\n                        <div className='column has-text-right'>\n                            <p>Searching for deployee</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </NavLink>\n    )\n}\n\nexport function JobDetail({ job, className, onCancel }: { onCancel: (job: IJob) => any, job: IJob | null, className?: string }) {\n    if (!job) {\n        return (\n            <div className={`${className} card job-detail`} style={{ flexDirection: 'column' }}>\n                <div className='card-content is-paddingless is-flex-centered has-text-grey my-6'>\n                    <span className='my-4' ><FaHardHat fill='#811' style={{ height: \"8rem\", width: \"8rem\" }} /></span>\n                    <p className='is-uppercase is-size-6 has-text-weight-bold'>View and manage job listings</p>\n                </div>\n            </div>\n        )\n    }\n    const time = moment(job.date_created.toMillis())\n\n    return (\n        <div className={`${className} card job-detail is-size-6`} style={{ flexDirection: 'column' }}>\n            <div className='card-content is-paddingless'>\n                <div className='level py-4 mb-0'>\n                    <div className='level-item is-size-7'>POSTED {time.calendar({ sameElse: 'DD/MMM/YYYY' })}</div>\n                    <div className='level-item is-size-6 has-text-weight-bold'>{job.job_title}</div>\n                    <div className='level-item is-size-7 has-text-grey'>{job.id}</div>\n                </div>\n                <div className='container is-fluid px-0'>\n                    <div className='columns is-fullheight mx-0 my-0 is-multiline animate__animated animate__fadeIn'>\n                        <div className='column is-8-fullhd is-7-desktop is-12 px-0 pt-0'>\n                            <JobDetailTask onJobCancel={onCancel} job={job} />\n                        </div>\n\n                        {job.status === \"available\" || job.status === 'in review' ?\n                            <div style={{ borderLeft: 'solid 1px #8881' }} className='column is-4-fullhd is-5-desktop is-12 is-flex is-paddingless'>\n                                <MapView job={job} className='container pt-4 pb-0 is-flex' />\n                            </div>\n                            :\n                            <div style={{ borderLeft: 'solid 1px #8881' }} className='column is-4-fullhd is-5-desktop is-12 is-flex'>\n                                <JobDetailUser job={job} />\n                            </div>\n                        }\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport function JobDetailTask({ job, onJobCancel }: { job: IJob, onJobCancel }) {\n    const ctx = useContext(APPLICATION_CONTEXT)\n    const [state, setState] = useState({ loadingCancel: false })\n    const { addToast } = useToasts()\n\n    let endTime, startTime, totalTime\n    if (job.date_completed) endTime = unix(job.date_completed.toMillis() / 1000)\n    if (job.date_created) startTime = unix(job.date_created.toMillis() / 1000)\n    if (endTime && startTime) totalTime = endTime.diff(startTime, 'h', true)\n\n    const onCancel = useCallback(async () => {\n        try {\n            const confirmed = window.confirm(\"Are you sure you want to cancel this job? If Job is accepted, it will return to the job pool. Otherwise, the job will be deleted\")\n            if (!confirmed) {\n                return\n            }\n            setState({ ...state, loadingCancel: true })\n            await Job.cancelJob(ctx, job)\n            addToast('Cancelled job successfully!', { appearance: 'success' })\n            onJobCancel(job)\n        } catch (e) {\n            addToast(e.message || 'Failed to cancel job!', { appearance: 'error' })\n        } finally {\n            setState({ ...state, loadingCancel: false })\n        }\n    }, [job, state])\n\n    return (\n        <div className='is-atleast-fullheight is-flex' style={{ flexDirection: 'column' }}>\n            {job.status === 'available' ?\n                <div className='section has-text-centered is-size-6'>\n                    <span className='px-4 py-4 is-flex is-flex-centered'>Searching for deployees within {JOB_MILE_RADIUS} mile radius from you</span>\n                </div>\n                :\n                job.status === 'in review' ?\n                    <JobReview job={job} />\n                    :\n                    <MapView zoom={15} zoomControl={false} vertical={false} job={job} className='container pb-0 is-flex' />\n            }\n            <div className='is-flex py-4' style={{ flexDirection: 'column', justifyContent: 'space-between', flex: 1 }}>\n                <div className='section py-2 pb-3'>\n                    <table className='table is-hoverable is-fullwidth'>\n                        <tbody className='is-flex is-flex-direction-column is-size-7'>\n                            <tr className='is-flex has-text-left'>\n                                <td style={{ flex: 1 }} className='has-text-grey'>TYPE</td>\n                                <td style={{ flex: 2 }} className=' has-text-left'>{job.job_type}</td>\n                            </tr>\n                            <tr className='is-flex has-text-left'>\n                                <td style={{ flex: 1 }} className='has-text-grey'>LOCATION</td>\n                                <td style={{ flex: 2 }} className=' has-text-left'>{job.location_address}</td>\n                            </tr>\n                            <tr className='is-flex has-text-left'>\n                                <td style={{ flex: 1 }} className='has-text-grey'>DESCRIPTION</td>\n                                <td style={{ flex: 2 }} className=' has-text-left'>{job.job_description}</td>\n                            </tr>\n                            <tr className='is-flex has-text-left'>\n                                <td style={{ flex: 1 }} className='has-text-grey'>PAY</td>\n                                <td style={{ flex: 2 }} className='is-flex-align-items-center is-flex has-text-left'><span>${job.salary}</span>&nbsp;<span className='has-text-grey-light'>/{job.wage}</span></td>\n                            </tr>\n                            {job.tasks && job.tasks.length > 0 ?\n                                <tr className='is-flex has-text-left'>\n                                    <td style={{ flex: 1 }} className='has-text-grey'>TASKS</td>\n                                    <td style={{ flex: 2 }} className=' has-text-left'>\n                                        {job.tasks?.map(task => <p key={task.text}>- {task.text}</p>)}\n                                    </td>\n                                </tr>\n                                : null}\n                            <tr className='is-flex has-text-left'>\n                                <td style={{ flex: 1 }} className='has-text-grey'> START</td>\n                                <td style={{ flex: 2 }} className='has-text-left'>{startTime.calendar({ sameElse: 'DD/MMM/YYYY' }) || `-`}</td>\n                            </tr>\n                            <tr className='is-flex has-text-left'>\n                                <td style={{ flex: 1 }} className='has-text-grey'>END</td>\n                                <td style={{ flex: 2 }} className=' has-text-left'>{endTime?.calendar({ sameElse: 'DD/MMM/YYYY' }) || `-`}</td>\n                            </tr>\n                            <tr className='is-flex has-text-left'>\n                                <td style={{ flex: 1 }} className='has-text-grey'>TOTAL TIME</td>\n                                <td style={{ flex: 2 }} className=' has-text-left'>{totalTime?.toFixed(2) || `-`}</td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </div>\n                {job.progress && job.progress >= 100 ? (\n                    <button className='button is-info is-uppercase mx-4' style={{ alignSelf: 'flex-end' }}>View Invoice</button>\n                ) :\n                    <button disabled={state.loadingCancel} onClick={onCancel} className={`button is-white is-uppercase is-inverted mx-4 ${state.loadingCancel ? 'is-loading' : ''}`} style={{ alignSelf: 'flex-start', color: 'white' }}>Cancel Job</button>\n                }\n            </div>\n        </div >\n    )\n}\n\nexport function JobDetailUser({ job }: { job: IJob }) {\n    const ctx = useContext(APPLICATION_CONTEXT)\n    let startTime\n    if (job.date_created) startTime = moment(job.date_created.toMillis())\n\n    return (\n        <div className='container pt-4 pb-0 is-flex' style={{ flexDirection: 'column' }} >\n            <div style={{ borderBottom: 'solid #aaa4 0.2px' }} className='columns is-vcentered'>\n                <div className='column is-narrow is-flex' style={{ justifyContent: 'center' }}>\n                    <figure className='image is-80x80 is-flex'>\n                        <img className='is-rounded' src={Job.getPhotoURL(ctx, job.user?.id)} />\n                    </figure>\n                </div>\n                <div className='column'>\n                    <div className='container'>\n                        <div className='columns is-marginless is-vcentered is-mobile'>\n                            <div className='column pb-0 pl-0'>\n                                <p className='is-size-6 has-text-left has-text-weight-bold'>{`${job.user?.firstName} ${job.user?.lastName}`}</p>\n                            </div>\n                            <Link to={{ pathname: `${links.profile}/${job.user!.id}`, state: { user: job.user } }} className=\"column is-narrow has-text-right has-text-link pr-0 pb-0 is-size-7\">View Profile</Link>\n                        </div>\n                        <div className='content has-text-left'>\n                            <p className='is-size-6'><span className='icon has-text-info'><FaStar /></span>{job.user?.starRate}\n                                {/* TODO: should option of remote or onsite be present?\n                             &nbsp;{generateUserJobType(DUMMY_USER)} \n                             */}\n                            </p>\n                            <p className='is-size-7'>{job.user?.profileBio}</p>\n                            <p className='has-text-left has-text-grey-light is-size-8'><span className='is-uppercase'>member since</span>&nbsp; {moment(job.user?.dateCreated).calendar({ sameElse: 'DD/MMM/YYYY' })}</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div className='is-flex py-4' style={{ flexDirection: 'column', justifyContent: 'space-between', flex: 1 }}>\n                <table className='table is-hoverable is-fullwidth'>\n                    <tbody className='is-size-7'>\n                        <tr className='is-flex has-text-left'>\n                            <td style={{ flex: 1 }} className='has-text-grey'>CONTACT</td>\n                            <td style={{ flex: 2 }} className='has-text-left'>{job.user?.phoneNumber}</td>\n                        </tr>\n                        {/* <tr>\n                            <td className='has-text-right'>ACTIVE TASK</td>\n                            <td className='has-text-left'>{job.user?.activeTask}</td>\n                        </tr> */}\n                        <tr className='is-flex has-text-left'>\n                            <td style={{ flex: 1 }} className='has-text-grey'>START TIME</td>\n                            <td style={{ flex: 2 }} className='has-text-left'>{startTime.calendar({ sameElse: 'DD/MMM/YYYY' })}</td>\n                        </tr>\n                        <tr className='is-flex has-text-left'>\n                            <td style={{ flex: 1 }} className='has-text-grey'>HIGHLIGHTED SKILLS AND LICENSES</td>\n                            <td style={{ flex: 2 }} className='has-text-left'>\n                                {job.user?.skills && job.user.skills.length > 0 ? job.user.skills?.map(task => <p>- {task}</p>) : `-`}\n                            </td>\n\n                        </tr>\n                    </tbody>\n                </table>\n                <Link to={{\n                    pathname: `${links.messages}/${Message.generateID(ctx.user?.id, job.user?.id)}`,\n                    state: {\n                        chat: {\n                            id: Message.generateID(ctx.user?.id, job.user?.id),\n                            initialized: false,\n                            recipient: job.user,\n                            users: [ctx.user, job.user],\n                        } as IChatItem\n                    }\n                }} className='button is-info is-uppercase mx-4' style={{ alignSelf: 'flex-start' }}>Message</Link>\n            </div>\n        </div>\n    )\n}\n\n\nexport function JobReview({ job }: { job: IJob }) {\n    const ctx = useContext(APPLICATION_CONTEXT)\n    let startTime\n    if (job.date_created) startTime = moment(job.date_created.toMillis())\n\n    return (\n        <div className='section pt-5 is-flex is-clipped' style={{ flexDirection: 'column' }} >\n            <div className='columns is-paddingless'>\n                <div className='content column is-narrow is-size-6 has-text-centered px-4'>\n                    <span className='is-flex is-flex-centered'>Deployee Found</span>\n                </div>\n                <div className='columns column is-vcentered'>\n                    <div className='column is-narrow is-flex' style={{ justifyContent: 'center' }}>\n                        <figure className='image is-80x80 is-flex'>\n                            <img className='is-rounded' src={Job.getPhotoURL(ctx, job.user?.id)} />\n                        </figure>\n                    </div>\n                    <div className='column'>\n                        <div className='container'>\n                            <div className='columns is-marginless is-vcentered is-mobile'>\n                                <div className='column pb-0 pl-0'>\n                                    <p className='is-size-6 has-text-left has-text-weight-bold'>{`${job.user?.firstName || \"John\"} ${job.user?.lastName || 'Doe'}`}</p>\n                                </div>\n                                <div className=\"column is-narrow has-text-right has-text-info pr-0 pb-0 is-size-7\">View Profile</div>\n                            </div>\n                            <div className='content has-text-left'>\n                                <p className='is-size-6'><span className='icon has-text-info'><FaStar /></span>{job.user?.starRate}\n                                    {/* TODO: should option of remote or onsite be present?\n                             &nbsp;{generateUserJobType(DUMMY_USER)} \n                             */}\n                                </p>\n                                <p className='is-size-7'>{job.user?.profileBio}</p>\n                                <p className='has-text-left has-text-grey-light is-size-7'><span className='is-uppercase'>member since</span>&nbsp; {moment(job.user?.dateCreated).calendar({ sameElse: 'DD/MMM/YYYY' })}</p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport function generateUserJobType(user: User) {\n    switch (user.jobType) {\n        case 'onsite':\n            return <><span className='icon has-text-info'><FaMapMarkerAlt /></span> On Site</>\n        case 'remote':\n            return <><span className='icon has-text-info'><FaGlobeAfrica /></span> Remote</>\n    }\n}\n\nexport interface IJobSample {\n    user: User\n    timestamp: number\n    title: string\n    description: string\n    location: string\n    progress?: number\n    startTime?: number\n    endTime?: number\n    tasks?: string[]\n    fullLocation?: string\n    id\n}\n\nexport const DUMMY_JOBS: IJobSample[] = [\n    {\n        description: \"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quam, nihil ipsam. Accusamus officiis aut velit voluptatum quis eligendi veniam nam.\",\n        title: \"Lorem ipsum dolor sit.\",\n        location: \"Vancouver, Canada\",\n        timestamp: Date.now(),\n        user: DUMMY_USER,\n        startTime: Date.now() - 12300000,\n        endTime: Date.now(),\n        tasks: [\"Clear porch\", \"Clear backyard\"],\n        id: 'papp'\n    },\n    {\n        description: \"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quam, nihil ipsam. Accusamus officiis aut velit voluptatum quis eligendi veniam nam.\",\n        title: \"Lorem ipsum dolor sit.\",\n        location: \"Vancouver, Canada\",\n        timestamp: Date.now(),\n        user: DUMMY_USER,\n        startTime: Date.now() - 12300000,\n        endTime: Date.now(),\n        progress: 80,\n        tasks: [],\n        id: 'papdsdp'\n    },\n    {\n        description: \"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quam, nihil ipsam. Accusamus officiis aut velit voluptatum quis eligendi veniam nam.\",\n        title: \"Lorem ipsum dolor sit.\",\n        location: \"Vancouver, Canada\",\n        timestamp: Date.now(),\n        user: DUMMY_USER,\n        startTime: Date.now() - 12300000,\n        endTime: Date.now(),\n        tasks: [\"Clear porch\", \"Clear backyard\"],\n        id: 'papdefvzsdp'\n    },\n    {\n        description: \"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quam, nihil ipsam. Accusamus officiis aut velit voluptatum quis eligendi veniam nam.\",\n        title: \"Lorem ipsum dolor sit.\",\n        location: \"Vancouver, Canada\",\n        timestamp: Date.now(),\n        user: DUMMY_USER,\n        progress: 99,\n        startTime: Date.now() - 12300000,\n        endTime: Date.now(),\n        tasks: [\"Clear porch\", \"Clear backyard\"],\n        id: 'papdw3dsdp'\n    },\n    {\n        description: \"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quam, nihil ipsam. Accusamus officiis aut velit voluptatum quis eligendi veniam nam.\",\n        title: \"Lorem ipsum dolor sit.\",\n        location: \"Vancouver, Canada\",\n        timestamp: Date.now(),\n        user: DUMMY_USER,\n        progress: 20,\n        id: 'padpp'\n    },\n    {\n        description: \"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quam, nihil ipsam. Accusamus officiis aut velit voluptatum quis eligendi veniam nam.\",\n        title: \"Lorem ipsum dolor sit.\",\n        location: \"Vancouver, Canada\",\n        timestamp: Date.now(),\n        user: DUMMY_USER,\n        progress: 90,\n        id: 'papdvp'\n    },\n    {\n        description: \"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quam, nihil ipsam. Accusamus officiis aut velit voluptatum quis eligendi veniam nam.\",\n        title: \"Lorem ipsum dolor sit.\",\n        location: \"Vancouver, Canada\",\n        timestamp: Date.now(),\n        user: DUMMY_USER,\n        id: 'papdfp'\n    }\n]\n\nexport const DUMMY_COMPLETED: IJobSample[] = [\n    {\n        description: \"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quam, nihil ipsam. Accusamus officiis aut velit voluptatum quis eligendi veniam nam.\",\n        title: \"Lorem ipsum dolor sit.\",\n        location: \"Vancouver, Canada\",\n        timestamp: Date.now(),\n        user: DUMMY_USER,\n        progress: 100,\n        startTime: Date.now() - 12300000,\n        endTime: Date.now(),\n        tasks: [\"Clear porch\", \"Clear backyard\"],\n        id: 'papdw3dsdp'\n    },\n    {\n        description: \"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quam, nihil ipsam. Accusamus officiis aut velit voluptatum quis eligendi veniam nam.\",\n        title: \"Lorem ipsum dolor sit.\",\n        location: \"Vancouver, Canada\",\n        timestamp: Date.now(),\n        user: DUMMY_USER,\n        progress: 100,\n        startTime: Date.now() - 12300000,\n        endTime: Date.now(),\n        tasks: [\"Clear porch\", \"Clear backyard\"],\n        id: 'papdw3dsdp'\n    },\n    {\n        description: \"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quam, nihil ipsam. Accusamus officiis aut velit voluptatum quis eligendi veniam nam.\",\n        title: \"Lorem ipsum dolor sit.\",\n        location: \"Vancouver, Canada\",\n        timestamp: Date.now(),\n        user: DUMMY_USER,\n        progress: 100,\n        startTime: Date.now() - 12300000,\n        endTime: Date.now(),\n        tasks: [\"Clear porch\", \"Clear backyard\"],\n        id: 'papdw3dsdp'\n    },\n]","import React, { useContext, useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { DUMMY_USER, User } from '../lib/user';\nimport { APPLICATION_CONTEXT } from '../lib';\nimport { Job, IJob } from '../lib/job';\nimport { useToasts } from 'react-toast-notifications';\nimport { JobListItem } from './job';\nimport links from '../lib/links';\n\nexport function JobList({ className }: { className?: string; }) {\n    const ctx = useContext(APPLICATION_CONTEXT);\n    const [state, setState] = useState({ jobs: new Array<IJob>(), loading: false });\n\n    const { addToast } = useToasts();\n\n    useEffect(() => {\n        setState({ ...state, loading: true });\n        const unsubscribe = Job.listenForActiveJobs(ctx, async (err, docs: IJob[]) => {\n            if (err) {\n                setState({ ...state, loading: false });\n                return addToast(err.message || 'Failed to get jobs!');\n            }\n            docs = await Promise.all(\n                docs.map(async (v) => {\n                    if (v.status !== 'available' && v.executed_by) {\n                        v.user = await User.getExternalUser(ctx, v.executed_by);\n                    }\n                    return v;\n                })\n            );\n            setState({ ...state, jobs: docs, loading: false });\n        });\n\n        return unsubscribe;\n    }, []);\n\n    return (\n        <div className={className}>\n            {state.loading ?\n                <progress className=\"progress is-small is-info my-6\" max=\"100\">loading</progress>\n                : state.jobs.map(j => (\n                    <Link key={j.id} to={`${links.activeJobs}/${j.id}`} className={`column ${state.jobs.length == 1 ? 'is-12' : 'is-4-fullhd is-6-desktop is-12-touch'} list-item`}>\n                        <JobListItem job={j} />\n                    </Link>\n                ))}\n        </div>\n    );\n}\n","import moment from \"moment\";\nimport React, { createContext, useCallback, useContext, useEffect, useState } from 'react';\nimport { FaCaretDown, FaCaretUp, FaCheck, FaMapMarkerAlt, FaSearch } from 'react-icons/fa';\nimport { Link } from 'react-router-dom';\nimport { APPLICATION_CONTEXT } from \"../lib\";\nimport { User } from \"../lib/user\";\nimport { Empty } from './util';\n\nconst NotificationContext = createContext<{ notifications: INotification[], addNotification: (notif: INotification) => any }>({ notifications: [], addNotification: (notif) => { } })\n\nexport function NotificationProvider(props) {\n    const ctx = useContext(APPLICATION_CONTEXT)\n    const [notifications, setNotifications] = useState<INotification[]>([])\n    const addNotification = useCallback((notification: INotification) => {\n        setNotifications([notification, ...notifications])\n    }, [notifications])\n\n    useEffect(() => {\n        const unsubscribe = User.listenForNotifications(ctx, (err, notifications) => {\n            if (err) {\n                console.log(err)\n            } else {\n                setNotifications(notifications || [])\n            }\n        })\n\n        return () => { unsubscribe() }\n    }, [])\n\n    return (\n        <NotificationContext.Provider value={{ notifications, addNotification }}>\n            {props.children}\n        </NotificationContext.Provider>\n    )\n}\n\nexport function NotificationItem({ notification }: { notification: INotification }) {\n    const time = moment.unix(notification.dateCreated.toMillis() / 1000)\n    return (\n        <div className='container is-fluid is-paddingless list-item py-2' title={notification.title}>\n            <div className='columns is-variable is-1 py-1 px-1 is-vcentered'>\n                <div className='column is-paddingless is-6 has-text-left has-text-centered-mobile  list-item-title'>\n                    <p style={{ whiteSpace: 'nowrap', textOverflow: 'ellipsis', overflow: \"hidden\" }}>{getNotificationIcon(notification)} {notification.title}</p>\n                </div>\n                <div className='column is-paddingless has-text-right has-text-centered-mobile list-item-subtitle'>\n                    <p style={{ maxLines: 2 }}>{time.fromNow()}</p>\n                </div>\n            </div>\n            <div className='content'>\n                <p>\n                    {notification.content}\n                </p>\n            </div>\n        </div>\n    )\n}\n\nexport function getNotificationIcon(notif: INotification) {\n    switch (notif.type) {\n        case 'discovery':\n            return <span className='icon has-text-white has-background-info is-small' style={{ borderRadius: '50%', fontSize: '0.6em' }}> <FaSearch /> </span>\n        case 'location':\n            return <span className='icon has-text-white has-background-info is-small' style={{ borderRadius: '50%', fontSize: '0.6em' }}> <FaMapMarkerAlt /> </span>\n        case 'progress':\n            return <span className='icon has-text-white has-background-info is-small' style={{ borderRadius: '50%', fontSize: '0.6em' }}> <FaCheck /> </span>\n    }\n}\n\nexport function NotificationList({ className }) {\n    const [expanded, setExpanded] = useState(true)\n    const notifCtx = useContext(NotificationContext)\n    console.log()\n    return (\n        <nav className={className}>\n            <div className='panel is-clipped' >\n                <div onClick={() => setExpanded(!expanded)} className='panel-heading is-size-6 has-text-left has-background-white-bis is-align-items-center is-flex is-flex-direction-row is-justify-content-space-between'>\n                    <p>Notifications</p>\n                    <button className='button is-static has-background-white is-rounded is-size-8 is-small'>\n                        {!expanded ?\n                            <FaCaretUp size={16} className={`icon has-text-black is-small`} />\n                            :\n                            <FaCaretDown size={16} className={`icon has-text-black is-small`} />}\n                    </button>\n                </div>\n                <div style={{ transition: \"all 0.500s linear\" }} className={`${!expanded ? 'is-height-0' : ''}`}>\n                    {notifCtx.notifications.length > 0 ?\n                        notifCtx.notifications.map((n, index) => (\n                            <Link key={`${n.id}-${index}`} to={`/f`} className='panel-block'>\n                                <NotificationItem notification={n} />\n                            </Link>\n                        ))\n                        :\n                        <Empty text='No Notification available' />\n                    }\n                </div>\n            </div>\n        </nav>\n    )\n}\n\nexport interface INotification {\n    content: string\n    dateCreated\n    type: 'discovery' | 'location' | 'progress'\n    title: string\n    id: string\n}\n\nconst DUMMY_NOTIFICATIONS: INotification[] = [\n    {\n        content: 'testing 123',\n        dateCreated: Date.now(),\n        type: 'discovery',\n        title: 'testing notification',\n        id: '23xe'\n    },\n    {\n        content: 'testing 12',\n        dateCreated: Date.now(),\n        type: 'location',\n        title: 'testing notification',\n        id: '23xe'\n    },\n    {\n        title: 'testing 1',\n        dateCreated: Date.now(),\n        type: 'progress',\n        content: \"Lorem ipsum dolor sit amet consectetur adipisicing elit.?\",\n        id: '23se'\n    },\n    {\n        title: 'testing 1',\n        dateCreated: Date.now(),\n        type: 'location',\n        content: \"Lorem ipsum dolor sit amet consectetur adipisicing elit.?\",\n        id: '23se'\n    },\n    {\n        title: 'testing 1',\n        dateCreated: Date.now(),\n        type: 'discovery',\n        content: \"Lorem ipsum dolor sit amet consectetur adipisicing elit.?\",\n        id: '23se'\n    }\n]","import { Application } from \".\";\n\nexport const TRANSACTION_STATUS = {\n    PENDING: 0,\n    SUCCESS: 1,\n    FAILED: 2,\n    DECLINED: 3,\n    UNCAPTURED: 4\n}\n\nexport interface ICard {\n    mask: string\n    year: number\n    month: number\n    brand: string\n    name: string\n}\n\nexport interface IPayment {\n    status: 'pending' | 'paid'\n    timestamp\n    cost: number\n    title\n    payee\n    id: string\n}\n\nexport interface ITransaction extends ICard {\n    id: string\n    amount: number\n    description: string\n}\n\nconst CurrencyFormatter = Intl.NumberFormat('en-US', { currency: 'USD', style: 'currency', maximumFractionDigits: 2 })\nexport const PAYMENT_PAGE_LIMIT = 30\n\nexport class Payment {\n    static async getTransactions(app: Application, page = 1, limit = PAYMENT_PAGE_LIMIT): Promise<IPayment[]> {\n        const resp = await app.initiateNetworkRequest(`/payments/transactions?page=${page}&limit=${limit}`, undefined, true)\n        if (!resp.ok) {\n            if (resp.status === 418) {\n                throw new Error((await resp.json()).message || 'Failed to fetch transactions')\n            } else {\n                throw new Error('Failed to fetch transactions')\n            }\n        }\n\n        return (await resp.json()).map(({ id, dateCreated: timestamp, amount: cost, user: payee, title, status }): IPayment => ({\n            id,\n            timestamp,\n            cost,\n            title,\n            payee,\n            status: status === TRANSACTION_STATUS.SUCCESS ? 'paid' : 'pending'\n        }))\n    }\n\n    static getPaymentDescription(payment: IPayment): string {\n        switch (payment.status) {\n            case 'pending':\n                return `Pending charge of ${CurrencyFormatter.format(payment.cost)} for the completion of this job by ${payment.payee}`\n            case 'paid':\n                return `A payment of ${CurrencyFormatter.format(payment.cost)} has been submitted to ${payment.payee}`\n        }\n    }\n}","import moment from 'moment';\nimport React, { useContext, useEffect, useState, useCallback } from 'react';\nimport { FaCaretDown, FaCaretUp } from \"react-icons/fa\";\nimport { Link } from 'react-router-dom';\nimport { APPLICATION_CONTEXT } from '../lib';\nimport { IPayment, Payment, PAYMENT_PAGE_LIMIT } from \"../lib/payment\";\nimport { Empty } from './util';\n\nexport function PaymentItem({ payment }: { payment: IPayment }) {\n    const time = moment.unix(payment.timestamp / 1000)\n\n    return (\n        <div className='container is-fluid is-paddingless list-item py-2' title={payment.title}>\n            <div className='columns is-variable is-1 py-1 px-1 is-vcentered'>\n                <div className='column is-paddingless is-6 has-text-left has-text-centered-mobile list-item-title'>\n                    <p style={{ whiteSpace: 'nowrap', textOverflow: 'ellipsis', overflow: \"hidden\" }}>{payment.title}</p>\n                </div>\n                <div className='column is-paddingless has-text-right has-text-centered-mobile list-item-subtitle'>\n                    <p>{time.fromNow()}</p>\n                </div>\n            </div>\n            <div className='content'>\n                <p>\n                    {Payment.getPaymentDescription(payment)}\n                </p>\n            </div>\n        </div>\n    )\n}\n\nexport function PaymentList({ className }) {\n    const ctx = useContext(APPLICATION_CONTEXT)\n    const [expanded, setExpanded] = useState(true)\n    const [payments, setPayments] = useState<IPayment[]>([])\n    const fetchPayment = useCallback(async () => {\n        try {\n            const pageToFetch = Math.max(0, Math.floor(payments.length / PAYMENT_PAGE_LIMIT)) + 1\n            // This loads the specified page limit and includes count of imcomplete previous page\n            const limit = PAYMENT_PAGE_LIMIT + (PAYMENT_PAGE_LIMIT - (payments.length % PAYMENT_PAGE_LIMIT))\n            const paymentData = await Payment.getTransactions(ctx, pageToFetch, limit)\n            setPayments([...payments, ...paymentData])\n        } catch (e) {\n            console.log(e, 'failed to fetch payment data')\n        }\n    }, [payments])\n\n    useEffect(() => {\n        fetchPayment()\n    }, [ctx.user, ctx.user?.id])\n\n    return (\n        <nav className={className} >\n            <div className='panel is-clipped'>\n                <div onClick={() => setExpanded(!expanded)} className='panel-heading is-size-6 has-text-left has-background-white-bis is-align-items-center is-flex is-flex-direction-row is-justify-content-space-between'>\n                    <p>Payments</p>\n                    <button className='button is-static has-background-white is-rounded is-size-8 is-small'>\n                        {!expanded ?\n                            <FaCaretUp size={16} className={`icon has-text-black is-small`} />\n                            :\n                            <FaCaretDown size={16} className={`icon has-text-black is-small`} />}\n                    </button>\n                </div>\n                <div style={{ transition: \"all 0.500s linear\" }} className={`${!expanded ? 'is-height-0' : ''}`}>\n                    {payments.length > 0 ?\n                        payments.map(p => (\n                            <Link to={`/ f`} key={p.id} className='panel-block'>\n                                <PaymentItem payment={p} />\n                            </Link>\n                        ))\n                        :\n                        <Empty text='No Payment data available' />\n                    }\n                </div>\n            </div>\n        </nav>\n    )\n}\n\nexport const DUMMY_PAYMENTS: IPayment[] = [\n    {\n        status: 'pending',\n        timestamp: Date.now(),\n        cost: 20.405,\n        title: 'Clear lawn',\n        payee: 'Philip Barnabas',\n        id: '2ss354'\n    },\n    {\n        status: 'paid',\n        timestamp: Date.now(),\n        cost: 200.405,\n        title: 'Clear lawn and take out firewood',\n        payee: 'Philip Barnabas',\n        id: '23sss54'\n    },\n    {\n        status: 'pending',\n        timestamp: Date.now(),\n        cost: 3000.405,\n        title: 'Clear lawn',\n        payee: 'Philip Barnabas',\n        id: '235s4'\n    }\n]","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { JobList } from \"../components/JobList\";\nimport { NotificationList } from '../components/notification';\nimport { PaymentList } from '../components/payment';\nimport { CardFragment } from \"../components/util\";\nimport links from '../lib/links';\n\nexport function Dashboard() {\n    return (\n        <div className='columns is-1 is-variable px-3 py-3 is-atleast-fullheight'>\n            <NotificationList className='column is-3 is-2-widescreen' />\n            <div className='column is-6 is-8-widescreen is-flex' style={{ flexDirection: 'column', justifyContent: 'space-between' }}>\n                <CardFragment header='Active Jobs' optionsElement={<Link to={links.activeJobs}>View All</Link>} style={{ marginBottom: '0.8em' }}>\n                    <JobList className={'columns is-centered is-vcentered is-multiline is-1 is-variable'} />\n                </CardFragment>\n            </div>\n            <PaymentList className='column is-3 is-2-widescreen' />\n        </div>\n    )\n}","// Check geolocation exists\nexport function isGeoLocationSupported() {\n    return 'geolocation' in navigator\n}\n\nexport function getCurrentLocation(): Promise<Position> {\n    return new Promise((res, rej) => {\n        if (!isGeoLocationSupported()) {\n            throw new Error('Geolocation is not supported! Cannot find current location!')\n        }\n\n        navigator.geolocation.getCurrentPosition(res, rej, {\n            enableHighAccuracy: true,\n            maximumAge: 1000\n        })\n    })\n}","import Tags from \"@yaireo/tagify/dist/react.tagify\";\nimport React, { useState, useCallback, useMemo, useContext, useEffect, useLayoutEffect, createRef, Ref, useRef } from 'react';\nimport { FaChevronLeft, FaMapMarkerAlt, FaSearch, FaUpload, FaDollarSign } from 'react-icons/fa';\nimport { useToasts } from 'react-toast-notifications';\nimport { debounce, useLoadGoogleMaps } from \"./util\";\nimport { Job, IJob } from \"../lib/job\";\nimport firebase from 'firebase'\nimport { APPLICATION_CONTEXT } from \"../lib\";\nimport validator from \"validator\";\nimport { getCurrentLocation } from \"../lib/location\";\nimport { v4 } from \"uuid\";\n\n/**\n * Component for creating a form field.\n * \n * @param param Object containing parameters to build the input field\n */\nexport function FormField({ label, value, onChange, className, type, placeholder, icon, readOnly = false, locationAutocomplete = false, tagifyRef = null as any, required = false, whitelist = [] as any[], mode = 'select', disabled = false, loading = false, tags = false, showBorder = true, containerClassName = '', isTextArea = false, maxLength = Number.MAX_SAFE_INTEGER, helpTextTop = \"\", helpTextLeft = \"\", helpTextRight = \"\", hasAddons = false, addon = <></> }) {\n    const inputRef = useRef<HTMLInputElement>(null)\n    const loadingGoogleMaps = useLoadGoogleMaps()\n    let listener: google.maps.MapsEventListener\n    let autocomplete: google.maps.places.Autocomplete\n\n    useEffect(() => {\n\n        if (inputRef.current && locationAutocomplete && !loadingGoogleMaps) {\n            autocomplete = new google.maps.places.Autocomplete(inputRef.current, {\n                fields: ['formatted_address', 'geometry', 'place_id']\n            })\n\n            listener = autocomplete.addListener('place_changed', () => {\n                const place = autocomplete.getPlace()\n                const data = {\n                    address: place.formatted_address,\n                    coords: {\n                        longitude: place.geometry?.location?.lng(),\n                        latitude: place.geometry?.location?.lat(),\n                    },\n                    id: place.place_id,\n                    place_id: place.place_id\n                }\n                onChange(data)\n            })\n        }\n\n        return () => {\n            listener?.remove()\n            autocomplete?.unbindAll()\n        }\n    }, [loadingGoogleMaps, locationAutocomplete])\n\n    useEffect(() => {\n        if (!locationAutocomplete && inputRef.current && google) {\n            listener?.remove()\n            google.maps?.event?.clearInstanceListeners(inputRef.current)\n        }\n    }, [locationAutocomplete])\n\n    return (\n        <div className={`${containerClassName} ${showBorder ? 'job-form-field' : ''} field has-text-left`}>\n            <label className='label is-flex' style={{ justifyContent: 'space-between', alignItems: 'center' }}><span>{label}</span> <span className='has-text-right has-text-weight-normal is-size-7'>{helpTextTop}</span></label>\n            {!hasAddons ?\n                <div className={`control ${icon ? 'has-icons-left' : ''} is-expanded`}>\n                    {isTextArea ?\n                        tags ?\n                            <Tags\n                                tagifyRef={tagifyRef}\n                                value={value}\n                                settings={{\n                                    placeholder,\n                                    whitelist,\n                                    mode: null,\n                                    trim: true,\n                                    autoComplete: {\n                                        enabled: true,\n                                        rightKey: true\n                                    }\n                                }}\n                                inputMode='textarea'\n                                className={`${className}`}\n                                loading={loading}\n                                maxLength={maxLength}\n                                required={required}\n                                disabled={disabled}\n                                onChange={e => (onChange(e.target.value))}\n                            />\n                            :\n                            <textarea required={required} disabled={disabled} value={value} onChange={(e) => onChange(e.target.value)} className={`${className} textarea`} maxLength={maxLength} placeholder={placeholder} />\n                        :\n                        tags ?\n                            <Tags\n                                tagifyRef={tagifyRef}\n                                value={value}\n                                settings={{\n                                    placeholder,\n                                    whitelist,\n                                    mode,\n                                    trim: true,\n                                    autoComplete: {\n                                        enabled: true,\n                                        rightKey: true\n                                    },\n                                    maxLength\n                                }}\n                                readOnly={readOnly}\n                                required={required}\n                                className={`${className} input`}\n                                loading={loading}\n                                maxLength={maxLength}\n                                disabled={disabled}\n                                onChange={e => (e.persist(), onChange(e.target.value))}\n                            />\n                            :\n                            locationAutocomplete ?\n                                <input ref={inputRef} key={'autocomplete'} required={required} disabled={disabled} value={undefined} onChange={(e) => onChange(e.target.value)} maxLength={maxLength} className={`${className} input`} type={type} placeholder={placeholder} />\n                                :\n                                <input ref={inputRef} key={'nonutocomplete'} required={required} disabled={disabled} value={value} onChange={(e) => onChange(e.target.value)} maxLength={maxLength} className={`${className} input`} type={type} placeholder={placeholder} />\n                    }\n                    {icon ? <span className='icon is-small is-left'>{icon}</span> : null}\n                </div>\n                :\n                <div className={`${hasAddons ? 'has-addons' : ''} field`}>\n                    <div className={`control ${icon ? 'has-icons-left' : ''} is-expanded`}>\n                        {tags ?\n                            <Tags\n                                tagifyRef={tagifyRef}\n                                value={value}\n                                settings={{\n                                    placeholder,\n                                    whitelist,\n                                    mode,\n                                    trim: true,\n                                    autoComplete: {\n                                        enabled: true,\n                                        rightKey: true\n                                    }\n                                }}\n                                readOnly={readOnly}\n                                required={required}\n                                className={`${className} input`}\n                                disabled={disabled}\n                                loading={loading}\n                                maxLength={maxLength}\n                                onChange={e => (e.persist(), onChange(e.target.value))}\n                            />\n                            :\n                            locationAutocomplete ?\n                                <input ref={inputRef} key='autocomplete-2' required={required} disabled={disabled} value={undefined} onChange={(e) => onChange(e.target.value)} maxLength={maxLength} className={`${className} input`} type={type} placeholder={placeholder} style={{ borderRight: 0 }} />\n                                :\n                                <input ref={inputRef} key='non-autocomplete-2' required={required} disabled={disabled} value={value} onChange={(e) => onChange(e.target.value)} maxLength={maxLength} className={`${className} input`} type={type} placeholder={placeholder} style={{ borderRight: 0 }} />\n                        }\n                        {icon ? <span className='icon is-small is-left'>{icon}</span> : null}\n                    </div>\n                    {addon}\n                </div>\n            }\n            <div className='help'>\n                <div className='container'>\n                    <div className='columns'>\n                        {helpTextLeft ? <p className='column has-text-left has-text-centered-touch'>{helpTextLeft} </p> : null}\n                        {helpTextRight ? <p className='column has-text-right has-text-centered-touch'>{helpTextRight} </p> : null}\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport function FileInput({ disabled, value, onChange, onRemovePhoto }) {\n    const ref = useRef<HTMLInputElement>(null)\n\n    return (\n        <div className='field job-form-field has-text-left my-4'>\n            <label className='label is-flex' style={{ justifyContent: 'space-between', alignItems: 'center' }}><span>Job Photos</span> <span className='has-text-right has-text-weight-normal is-size-7'>Add photos to help describe this job</span></label>\n            <div className='control is-expanded'>\n                <div className='file is-flex is-centered is-normal'>\n                    <label className='file-label is-flex-grow-1'>\n                        <input onChange={(el) => {\n                            if (el.target.files) {\n                                const files: File[] = []\n                                for (let i = 0; i < el.target.files?.length; i++) {\n                                    files.push(el.target.files[i])\n                                }\n                                if (files.length > 0) {\n                                    onChange(files)\n                                }\n                            }\n                        }} className='file-input' multiple ref={ref} disabled={disabled} type='file' accept='image/*' />\n                        <span className='file-cta is-flex is-flex-centered' style={{ width: '100%' }}>\n                            <span className='file-icon'>\n                                <FaUpload />\n                            </span>\n                            <span className='file-label'>\n                                SELECT PHOTOS\n                            </span>\n                        </span>\n                    </label>\n                </div>\n                {value && value.length > 0 ?\n                    <div className='field is-grouped is-grouped-multiline'>\n                        {value.map((file: File, index) =>\n                            <div key={`${index}-${file.name}`} className='control mr-2 my-2 '>\n                                <div className='tags has-addons'>\n                                    <span key={`${file.name}-${file.size}-${index}`} className='tag is-dark'>{file.name}</span>\n                                    <button onClick={() => { onRemovePhoto(index) }} className='tag is-delete'></button>\n                                </div>\n                            </div>\n                        )}\n                    </div>\n                    : null}\n            </div>\n        </div>\n    )\n}\n\nexport function CreateJob({ onClose, show, onComplete }) {\n    const ctx = useContext(APPLICATION_CONTEXT)\n    const [state, setState] = useState({\n        loading: false,\n        tasks: '',\n        type: '',\n        title: '',\n        description: '',\n        address: '',\n        requiredPersons: '',\n        price: '',\n        loadingTypes: true,\n        fetchingLocation: false,\n        manualAddress: false,\n        location: null as any,\n    })\n    const [photos, setPhotos] = useState([] as File[])\n    const { addToast } = useToasts()\n    const types = useMemo(() => {\n        return {\n            jobTypes: new Array<string>(),\n            location: [],\n        }\n    }, [])\n    const tagifyRef = createRef(), tagifyRef2 = createRef()\n\n\n    // const _search = debounce(async (ctx, cb) => {\n    //     try {\n    //         const jobTypes = types.allJobTypes.filter(type=>type)\n    //         return cb(null, jobTypes)\n    //     } catch (e) {\n    //         cb(e, null)\n    //     }\n    // }, 500)\n\n    useEffect(() => {\n        new Promise(async () => {\n            try {\n                types.jobTypes = await Job.getJobTypes(ctx)\n                const tagify: any = tagifyRef.current\n                console.log(tagifyRef)\n                if (tagify) {\n                    tagify.settings.whitelist.length = 0; // reset current whitelist\n                    tagify.loading(true).dropdown.hide.call(tagify)\n                    tagify.settings.whitelist.push(...types.jobTypes, ...tagify.value)\n                    tagify.loading(false).dropdown.hide.call(tagify, tagify.value);\n\n                    (tagifyRef.current as any).settings.whitelist = types.jobTypes\n                }\n            } catch (e) {\n                console.log(e)\n                addToast('Failed to load job types!', { appearance: 'error' })\n            }\n        })\n    }, [])\n\n    return (\n        <form className={`modal ${show ? 'is-active' : ''}`} onSubmit={async (e) => {\n            e.stopPropagation()\n            e.preventDefault()\n            setState({ ...state, loading: true })\n            try {\n                const job_type = JSON.parse(state.type)[0]?.value\n                console.log(job_type, state.type)\n                const newJob: any = {\n                    date_created: firebase.firestore.FieldValue.serverTimestamp(),\n                    job_title: state.title,\n                    job_type,\n                    posted_by: ctx.user?.id,\n                    salary: parseInt(state.price, 10),\n                    required_count: parseInt(state.requiredPersons, 10),\n                    wage: 'deployment',\n                    status: 'available',\n                    tasks: JSON.parse(state.tasks).map(v => ({ id: v4(), text: v.value })),\n                    location: state.location ? {\n                        id: state.location.place_id,\n                        place_id: state.location.place_id,\n                        address: state.location.address,\n                        coords: {\n                            latitude: state.location.coords.latitude || null,\n                            longitude: state.location.coords.longitude || null,\n                            accuracy: state.location.coords.accuracy || null,\n                            altitude: state.location.coords.altitude || null,\n                            heading: state.location.coords.heading || null,\n                            altitudeAccuracy: state.location.coords.altitudeAccuracy || null,\n                            speed: state.location.coords.speed || null,\n                        }, timestamp: state.location.timestamp || Date.now()\n                    } : undefined,\n                    job_description: state.description\n                }\n                if (state.manualAddress && !state.address) {\n                    throw new Error('You must provide your address manually!')\n                } else if (state.manualAddress) {\n                    newJob.location.address = state.address\n                }\n\n                console.log(newJob)\n\n                if (newJob.job_type && !validator.isEmpty(newJob.job_type) && !types.jobTypes.find(type => type === newJob.job_type)) {\n                    // Job type is new. \n                    throw new Error('Invalid job type!')\n                }\n\n                await Job.addNewJob(ctx, newJob, photos)\n                setState({ ...state, loading: false })\n                addToast(\"Successfully added job!\", { appearance: 'success' })\n                onComplete()\n            } catch (e) {\n                console.log(e);\n                setState({ ...state, loading: false })\n                addToast(e.message || \"Failed to add job!\", { appearance: 'error' })\n            }\n        }}>\n            <div className='modal-background'></div>\n            <div className='modal-card'>\n                <header className='modal-card-head'>\n                    <div className='modal-card-title is-mobile is-vcentered columns'>\n                        <div className='column has-text-left'>\n                            <button className='button' onClick={onClose}><span className='icon'><FaChevronLeft /></span><span className='is-hidden-mobile'> View Current Jobs</span></button>\n                        </div>\n                        <div className='column has-text-left-mobile is-10-mobile'>\n                            <span>New Job Listing</span>\n                        </div>\n                        <a className='column is-hidden-mobile'></a>\n                    </div>\n                </header>\n                <div className='modal-card-body px-0'>\n                    <div className='container'>\n                        <div className='level px-4 pb-4' style={{ borderBottom: 'solid 1px #1112' }}>\n                            <p className='level-item has-text-left is-block is-size-4 has-text-centered-touch'>Job Details</p>\n                            <p className='level-item has-text-right is-block has-text-grey-light has-text-centered-touch'>All fields are required to be filled out</p>\n                        </div>\n                        <div className='container is-fluid pb-4 px-0'>\n                            <div className='columns mx-0 px-4'>\n                                <div className='column is-6'>\n                                    <FormField required disabled={state.loading} maxLength={types.jobTypes.length} value={state.type} tagifyRef={tagifyRef} tags whitelist={types.jobTypes} onChange={(type) => { setState((state) => ({ ...state, type })) }} className='' containerClassName='mb-4' label=\"Job Type\" placeholder='Begin typing a job type' type='text' icon={<FaSearch />} helpTextLeft='Search and select a job type to improve search results when finding a contractor' />\n                                    <FormField required disabled={state.loading} value={state.title} onChange={(title) => setState({ ...state, title })} className='' containerClassName='my-4' label=\"Title\" placeholder='Provide a title for the job' type='text' icon={null} helpTextLeft='Will be seen by contractors in search result and as an active status' helpTextRight='Maximum 30 characters' maxLength={30} />\n                                    <FormField required disabled={state.loading} value={state.description} onChange={(description) => setState({ ...state, description })} className='' containerClassName='my-4' label=\"Description\" isTextArea placeholder='Provide a description of the job' type='text' icon={null} helpTextLeft='Give a short description to improve finding a contractor that fits the job' helpTextRight='Maximum 80 characters' maxLength={80} />\n                                    <FormField locationAutocomplete={!state.manualAddress} required={!state.manualAddress} disabled={state.loading || state.fetchingLocation} value={state.address} onChange={(e) => {\n                                        if (state.manualAddress) {\n                                            return setState({ ...state, address: e })\n                                        }\n                                        const { address, coords, place_id } = e\n                                        setState((state) => ({\n                                            ...state,\n                                            location: {\n                                                address,\n                                                place_id,\n                                                id: place_id,\n                                                coords\n                                            },\n                                        }))\n                                    }} className='' containerClassName='my-4' label=\"Location Address\" placeholder='Begin typing the first line of the address' type='text' icon={<FaMapMarkerAlt />}\n                                        hasAddons addon={(\n                                            <div className='control'>\n                                                <button disabled={state.loading || state.fetchingLocation} className={`button ${state.fetchingLocation ? 'is-loading' : ''} ${state.manualAddress ? 'is-info has-text-white' : ''}`} onClick={async () => {\n                                                    const manualAddress = !state.manualAddress\n                                                    if (manualAddress) {\n                                                        // If manual address is true, fetch the current location\n                                                        setState({ ...state, fetchingLocation: true })\n                                                        try {\n                                                            setState({ ...state, location: await getCurrentLocation() })\n                                                            addToast(\"Using your current location!\", { appearance: 'success' })\n                                                            setState((state) => ({ ...state, address: '', manualAddress, fetchingLocation: false }))\n                                                        } catch (e) {\n                                                            console.log(e);\n                                                            setState((state) => ({ ...state, fetchingLocation: false }))\n                                                            addToast(e.message || \"Failed to set location manually!\", { appearance: 'error' })\n                                                        }\n                                                    } else {\n                                                        setState((state) => ({ ...state, location: null, manualAddress }))\n                                                    }\n                                                }} type='button' style={{ color: state.manualAddress ? 'unset' : 'black', borderLeft: 0, zIndex: 4 }}><span className='is-size-7'>{state.manualAddress ? 'using current location' : 'or use current location'}</span></button>\n                                            </div>\n                                        )}\n                                    />\n                                </div>\n                                <div className='column is-6'>\n                                    <FormField required disabled={state.loading} value={state.requiredPersons} onChange={(requiredPersons) => setState({ ...state, requiredPersons })} hasAddons className='' containerClassName='mb-4' label=\"How many persons are needed for the job\"\n                                        placeholder='How many persons are needed for the job'\n                                        type='number' helpTextRight='e.g. 10 persons maximum per job'\n                                        icon={null}\n                                        addon={(\n                                            <div className='control'>\n                                                <button className='button' disabled style={{ color: 'black', borderLeft: 0 }}>Persons</button>\n                                            </div>\n                                        )}\n                                    />\n                                    <FormField required disabled={state.loading} value={state.price} onChange={(price) => setState({ ...state, price })} hasAddons className='' containerClassName='my-4' label=\"Pay\"\n                                        placeholder='Provide an amount'\n                                        type='number' helpTextLeft='Will be seen in search results. Cannot be adjusted once the listing is pending or active'\n                                        icon={<FaDollarSign />}\n                                        addon={(\n                                            <div className='control'>\n                                                <button className='button' disabled style={{ color: 'black', borderLeft: 0 }}>Per Deployment</button>\n                                            </div>\n                                        )}\n                                    />\n                                    <FormField required disabled={state.loading} value={state.tasks} tags onChange={(tasks) => setState((state) => ({ ...state, tasks }))} isTextArea className='' containerClassName='my-4' label=\"Tasks\" placeholder='Add a task' type='text' icon={null} helpTextTop='Provide each task required to be completed for this listing' helpTextRight='Separate each task with a comma (,)' />\n\n                                    <FileInput disabled={state.loading} value={photos} onRemovePhoto={(i) => { setPhotos(photos.filter((_, index) => index !== i)) }} onChange={(photos) => setPhotos(photos)} />\n                                </div>\n                            </div>\n                        </div>\n\n                    </div>\n                </div>\n                <footer className='modal-card-foot is-flex-centered'>\n                    <button disabled={state.loading} className='button' onClick={onClose}>Cancel</button>\n                    <button disabled={state.loading} className={`button is-info ${state.loading ? 'is-loading' : ''}`} type='submit'>Confirm</button>\n                </footer>\n            </div>\n        </form>\n    )\n}","import React, { useCallback, useState, useEffect, memo } from 'react';\nimport { BsPencilSquare } from \"react-icons/bs\";\nimport { FaSearch } from 'react-icons/fa';\nimport { NavLink, Route } from 'react-router-dom';\nimport { useToasts } from 'react-toast-notifications';\nimport { IJob } from '../lib/job';\nimport links from '../lib/links';\nimport { JobItem } from './job';\nimport { Empty, Loading } from './util';\nimport { useDebouncedCallback } from \"use-debounce\";\n\nexport interface IJobListProps {\n    className\n    activeJobs: IJob[]\n    inactiveJobs: IJob[]\n    onCreateNew: any\n    isActive: boolean\n}\n\nexport const JobSideList = ({ className, activeJobs, isActive, inactiveJobs, onCreateNew }) => {\n    const [activeSearchData, setActiveSearchData] = useState<IJob[] | null>(null)\n    const [inactiveSearchData, setInactiveSearchData] = useState<IJob[] | null>(null)\n    const [searchText, setSearchText] = useState('')\n    const [isLoading, setIsLoading] = useState(false)\n\n    const searchAlg = useCallback((query: string, jobs: IJob[], callback: (err?: Error, job?: IJob[]) => void) => {\n        if (!query || jobs?.length <= 0) {\n            return jobs\n        }\n        const regexp = new RegExp(query, 'i')\n\n        const result = jobs.filter(job => {\n            return job.job_description?.search(regexp) >= 0 || job.job_title?.search(regexp) >= 0\n                || job.location_address?.search(regexp) >= 0 || job.job_type?.search(regexp) >= 0\n                || (job.user ? job.user.firstName.search(regexp) >= 0 : false) || (job.user ? job.user.lastName.search(regexp) >= 0 : false)\n        })\n        callback(undefined, result)\n    }, [activeJobs, inactiveJobs, searchText])\n\n    const triggerSearch = useCallback(async (search) => {\n        setIsLoading(true)\n        try {\n            if (isActive) {\n                if (activeJobs.length < 1) {\n                    throw new Error('There is no active job to search')\n                }\n                setActiveSearchData(await new Promise<IJob[]>((res, rej) => {\n                    searchAlg(search, activeJobs, ((err, result) => {\n                        if (err) {\n                            rej(err)\n                        } else {\n                            if (!result || result.length < 1) {\n                                rej(new Error('No data'))\n                            } else {\n                                setIsLoading(false)\n                                res(result)\n                            }\n                        }\n                    }))\n                }))\n            } else {\n                if (inactiveJobs.length < 1) {\n                    throw new Error('There is no inactive job to search')\n                }\n                setInactiveSearchData(await (new Promise<IJob[]>((res, rej) => {\n                    searchAlg(search, inactiveJobs, ((err, result) => {\n                        if (err) {\n                            rej(err)\n                        } else {\n                            if (!result || result.length < 1) {\n                                rej(new Error('No data'))\n                            } else {\n                                setIsLoading(false)\n                                res(result)\n                            }\n                        }\n\n                    }))\n                })))\n            }\n        } catch (e) {\n            console.log(e)\n            setActiveSearchData([])\n            setInactiveSearchData([])\n            setIsLoading(false)\n        }\n    }, [activeJobs, inactiveJobs])\n\n    const search = useDebouncedCallback((() => {\n        const search = searchText.trim()\n        if (!search) {\n            setActiveSearchData(null)\n            setInactiveSearchData(null)\n        }\n        if (search) {\n            triggerSearch(search)\n        }\n    }), 800)\n\n    useEffect(() => {\n        search()\n    }, [searchText])\n\n    return (\n        <div className={`${className} panel job-panel has-background-white-ter is-flex is-size-7`}>\n            <div className='panel-heading is-flex is-vcentered pb-4'>\n                <p className='has-text-left is-size-6'>Job Listings</p>\n                <a className='button is-small is-rounded is-size-7' onClick={onCreateNew}><BsPencilSquare /></a>\n            </div>\n            <div className='panel-block'>\n                <form onSubmit={(e) => {\n                    e.stopPropagation()\n                    e.preventDefault()\n                    search()\n                }} className='field has-addons' style={{ flex: 1 }}>\n                    <div className={`control is-expanded has-icons-left`}>\n                        <input style={{ borderRight: 0 }} className='input is-rounded' value={searchText} onChange={(e => setSearchText(e.target.value))} type='search' placeholder='Search Jobs...' />\n                        <span className='icon is-left'><FaSearch /></span>\n                    </div>\n                    {/* <div className='control'>\n                        <button style={{ borderLeft: 0 }} className='button is-rounded' onClick={() => window.alert(\"not ready yet!\")} >\n                            <span className='icon is-right'><GoSettings /></span>\n                        </button>\n                    </div> */}\n                </form>\n            </div>\n            <div className='panel-tabs'>\n                <NavLink to={`${links.activeJobs}`} activeClassName='is-active'>Active</NavLink>\n                <NavLink to={`${links.inactiveJobs}`} activeClassName='is-active'>Inactive</NavLink>\n            </div>\n            <div className='has-background-white-ter' style={{ overflowY: 'auto', overflowX: 'hidden' }}>\n\n                <Route path={`${links.activeJobs}`} render={() => {\n                    if (isLoading) {\n                        return <div key='active-loader' className='px-6 my-6 is-flex'><progress style={{ height: '0.4rem' }} className=\"progress is-small my-6\" max=\"100\">loading</progress></div>\n                    } else if (searchText && activeSearchData && activeSearchData.length < 1) {\n                        return <Empty key='active-empty' className='my-6' style={{ backgroundColor: 'transparent' }} text={'Search did not return any job'} />\n                    } else {\n                        return (searchText && activeSearchData ? activeSearchData : activeJobs).map(j => <JobItem key={j.id} job={j} to={`${links.activeJobs}/${j.id}`} />)\n                    }\n                }} />\n                <Route path={`${links.inactiveJobs}`}\n                    render={() => {\n                        if (isLoading) {\n                            return <div className='px-6 my-6 is-flex'><progress style={{ height: '0.4rem' }} className=\"progress is-small my-6\" max=\"100\">loading</progress></div>\n                        } else if (searchText && inactiveSearchData && inactiveSearchData.length < 1) {\n                            return <Empty className='my-6' style={{ backgroundColor: 'transparent' }} text={'Search did not match any job'} />\n                        } else {\n                            return (searchText && inactiveSearchData ? inactiveSearchData : inactiveJobs).map(j => <JobItem key={j.id} job={j} to={`${links.inactiveJobs}/${j.id}`} />)\n                        }\n                    }} />\n            </div>\n        </div>\n    );\n}","import React, { useEffect, useState, useContext } from 'react';\nimport { useLocation, useParams, useRouteMatch } from 'react-router-dom';\nimport { useToasts } from 'react-toast-notifications';\nimport { JobDetail } from '../components/job';\nimport { CreateJob } from '../components/jobcreation';\nimport { JobSideList } from \"../components/JobSideList\";\nimport { useEscapeHandler } from \"../components/util\";\nimport { IJob, Job } from '../lib/job';\nimport links from '../lib/links';\nimport { DUMMY_USER, User } from '../lib/user';\nimport { APPLICATION_CONTEXT } from '../lib';\n\nexport function Jobs() {\n    const ctx = useContext(APPLICATION_CONTEXT);\n    const [state, setState] = useState({ loading: false, showModal: false, selected: null as null | IJob })\n    const [active, setActive] = useState([] as IJob[])\n    const [inactive, setInactive] = useState([] as IJob[])\n    const { addToast } = useToasts()\n    const location = useLocation()\n\n    const dismissModal = () => {\n        setState({ ...state, showModal: false })\n        const containers = window.document.getElementsByClassName('pac-container')\n        for (let i; i < containers.length; i++) {\n            containers.item(i)?.remove()\n        }\n    }\n\n    const removeEscapeHandler = useEscapeHandler(dismissModal)\n\n    useEffect(() => {\n        return removeEscapeHandler()\n    }, [])\n\n    useEffect(() => {\n        setState({ ...state, loading: true });\n        const unsubscribe = Job.listenForActiveAndPendingJobs(ctx, async (err, docs: IJob[]) => {\n            if (err) {\n                setState({ ...state, loading: false });\n                return addToast(err.message || 'Failed to get jobs!');\n            }\n            docs = await Promise.all(\n                docs.map(async (v) => {\n                    if (v.status !== 'available' && v.executed_by) {\n                        v.user = await User.getExternalUser(ctx, v.executed_by);\n                    }\n                    return v;\n                })\n            );\n            setState({ ...state, loading: false });\n            setActive(docs)\n        })\n\n        Job.getInactiveJobs(ctx).then(async (jobs) => await jobs.map(async (v: IJob) => {\n            v.user = await User.getExternalUser(ctx, v.executed_by);\n            return v;\n        })).then(jobs => {\n            setInactive(jobs)\n        }).catch(e => {\n            console.log(e)\n            addToast(e.message || \"Failed to get inactive jobs\", {\n                appearance: 'error'\n            })\n        })\n\n        return unsubscribe;\n    }, []);\n\n    const { id } = useParams()\n    const activeMatch = useRouteMatch({\n        path: links._jobItem.active,\n        strict: true,\n        exact: true\n    })\n    const inactiveMatch = useRouteMatch({\n        path: links._jobItem.inactive\n    })\n\n    useEffect(() => {\n        if (id) {\n            if (activeMatch) {\n                const selected = active.find(v => v.id === id)\n                setState({ ...state, selected: selected || null })\n            } else if (inactiveMatch) {\n                const selected = inactive.find(v => v.id === id)\n                setState({ ...state, selected: selected || null })\n            }\n        }\n    }, [location, active, inactive])\n\n    return (\n        <div className='columns is-gapless px-4 py-4 is-fullheight is-multiline'>\n            <JobSideList isActive={!!activeMatch} activeJobs={active} inactiveJobs={inactive} onCreateNew={() => setState({ ...state, showModal: true })} className='column is-3 is-12-mobile is-12-touch is-clipped is-fullheight' />\n            <JobDetail onCancel={(job: IJob) => {\n                if (job.status === 'complete') {\n                    setInactive(inactive.filter(v => v.id !== job.id))\n                } else {\n                    setActive(active.filter(v => v.id !== job.id))\n                }\n                setState({ ...state, selected: null })\n            }}\n                job={id ? state.selected : null} className='column is-9 is-12-touch is-12-mobile is-flex' />\n            {state.showModal ?\n                <CreateJob show={state.showModal} onClose={dismissModal} onComplete={() => {\n                    dismissModal()\n                }} />\n                : null}\n        </div>\n    )\n}","import React, { useCallback, useContext, useState } from 'react';\nimport { FaAngleDoubleRight, FaChevronLeft, FaEnvelope, FaEye, FaEyeSlash, FaKey, FaPhoneAlt, FaSignInAlt, FaSms, FaUser, FaUserPlus } from 'react-icons/fa';\nimport { RiLockPasswordLine } from 'react-icons/ri';\nimport { Link, useHistory, useLocation } from 'react-router-dom';\nimport { useToasts } from 'react-toast-notifications';\nimport { APPLICATION_CONTEXT, VIEW_CONTEXT } from '../lib';\nimport links from '../lib/links';\nimport logo from \"../logo.svg\";\n\nexport interface IRegister {\n    first_name: string,\n    last_name: string,\n    password: string,\n    password_verify: string,\n    email: string,\n    phone_number: string,\n}\n\nexport interface ILogin {\n    code: string,\n    phone_number: string,\n    password: string,\n    showPassword: boolean,\n    loading?: boolean\n}\n\nexport function RegisterView() {\n    const ctx = useContext(APPLICATION_CONTEXT)\n    const [state, setState] = useState({\n        showModal: false,\n        showCodeRequest: true,\n        showPassword: false,\n        showPasswordVerify: false,\n        loading: false,\n    })\n    const [formState, setFormState] = useState<IRegister>({\n        email: '',\n        first_name: '',\n        last_name: '',\n        password: '',\n        password_verify: '',\n        phone_number: ''\n    })\n\n    const { addToast } = useToasts()\n    const history = useHistory()\n    const location = useLocation()\n\n    const onSubmit = useCallback(async (e) => {\n        e.preventDefault()\n        e.stopPropagation()\n\n        setState({ ...state, loading: true })\n\n        try {\n            const response = await ctx.addAdmin(formState)\n\n            if (!response || !response.success) {\n                throw new Error('Failed to register user!')\n            }\n            addToast('User registered successfully!', {\n                appearance: 'success'\n            })\n            setState({ ...state, loading: false })\n            history.push(links.login, location.state)\n        } catch (e) {\n            console.log(e)\n            addToast(e.message || 'Failed to add new user!', {\n                appearance: 'error'\n            })\n            setState({ ...state, loading: false })\n        }\n    }, [state, formState])\n\n\n    return (\n        <div className='section'>\n            <figure className='image is-96x96 is-flex' style={{ margin: 'auto' }}>\n                <img src={logo} className='is-rounded' />\n            </figure>\n\n            <p className='help mb-4 has-text-weight-bold'>Improving the experience of managing temporary services</p>\n\n            <form className='my-2' onSubmit={onSubmit}>\n                <div className='field is-horizontal'>\n                    <div className='field-body'>\n                        <div className='field'>\n                            <div className='control has-icons-left '>\n                                <input autoComplete=\"given-name\" disabled={state.loading} required value={formState.first_name} onChange={(e) => setFormState({ ...formState, first_name: e.target.value })} placeholder='enter firstname' className='input' type='text' />\n                                <span className='icon is-left is-small'><FaUser /></span>\n                            </div>\n                        </div>\n                        <div className='field'>\n                            <div className='control has-icons-left '>\n                                <input autoComplete=\"family-name\" disabled={state.loading} required value={formState.last_name} onChange={(e) => setFormState({ ...formState, last_name: e.target.value })} placeholder='enter lastname' className='input' type='text' />\n                                <span className='icon is-left is-small'><FaUser /></span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div className='field'>\n                    <div className='control has-icons-left '>\n                        <input autoComplete=\"off\" disabled={state.loading} required value={formState.email} onChange={(e) => setFormState({ ...formState, email: e.target.value })} placeholder='enter your email address' className='input' type='email' />\n                        <span className='icon is-left is-small'><FaEnvelope /></span>\n                    </div>\n                </div>\n\n                <div className='field'>\n                    <div className='control has-icons-left '>\n                        <input autoComplete=\"off\" disabled={state.loading} required value={formState.phone_number} onChange={(e) => setFormState({ ...formState, phone_number: e.target.value })} placeholder='enter your phone number include the \"+\" sign' className='input' type='tel' />\n                        <span className='icon is-left is-small'><FaPhoneAlt /></span>\n                    </div>\n                </div>\n\n                <div className='field is-horizontal'>\n                    <div className='field-body'>\n                        <div className='field has-addons'>\n                            <div className='control has-icons-left is-expanded'>\n                                <input autoComplete=\"off\" disabled={state.loading} required value={formState.password} onChange={(e) => setFormState({ ...formState, password: e.target.value })} placeholder='enter your password' className='input' type={state.showPassword ? 'text' : 'password'} />\n                                <span className='icon is-left is-small'><FaKey /></span>\n                            </div>\n                            <div className='control'>\n                                <button className='button' type='button' onClick={(e) => setState({ ...state, showPassword: !state.showPassword })}>{state.showPassword ? <FaEyeSlash /> : <FaEye />}\n                                </button>\n                            </div>\n                        </div>\n\n                        <div className='field has-addons'>\n                            <div className='control has-icons-left is-expanded'>\n                                <input autoComplete=\"off\" disabled={state.loading} required value={formState.password_verify} onChange={(e) => setFormState({ ...formState, password_verify: e.target.value })} placeholder='re-enter your password' className='input' type={state.showPasswordVerify ? 'text' : 'password'} />\n                                <span className='icon is-left is-small'><FaKey /></span>\n                            </div>\n                            <div className='control'>\n                                <button className='button' type='button' onClick={(e) => setState({ ...state, showPasswordVerify: !state.showPasswordVerify })}>{state.showPasswordVerify ? <FaEyeSlash /> : <FaEye />}\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n\n                <div className='field mt-6'>\n                    <div className='control'>\n                        <button disabled={state.loading} className={`button is-rounded is-fullwidth is-uppercase is-success ${state.loading ? 'is-loading' : ''}`} type='submit'>\n                            <FaUserPlus />&nbsp; Register\n                    </button>\n                    </div>\n                </div>\n            </form>\n\n            <div className='section mt-6 is-size-7'>\n                <p>Already have an account?</p>\n                <Link to={links.login}>Click here to login</Link>\n            </div>\n        </div>\n    )\n\n}\n\n\nexport function LoginView() {\n    const ctx = useContext(APPLICATION_CONTEXT)\n    const viewCTX = useContext(VIEW_CONTEXT)\n    const [state, setState] = useState({\n        showCodeRequest: true,\n        loading: false,\n        phone: ''\n    })\n\n    const { addToast } = useToasts()\n\n\n    /**\n     * Called to verify the user's number and send OTP through specified channel.\n     */\n    const onSubmitCodeRequest = useCallback(async (form: { phone: string, channel: 'sms' | 'call' }) => {\n        setState({ ...state, loading: true })\n\n        try {\n            // Check if number exists in database\n            await ctx.validateNumber(form.phone)\n            // Generate OTP code for provided number\n            const done = await ctx.triggerVerification(form.phone, form?.channel)\n\n            if (!done) {\n                throw new Error('Failed to verify phone number!')\n            }\n\n            addToast('Verification code sent to your phone!', {\n                appearance: 'success'\n            })\n            setState({ ...state, loading: false, phone: form.phone })\n            return true\n        } catch (e) {\n            console.log(e)\n            addToast(e.message || 'Verification failed!', {\n                appearance: 'error'\n            })\n            setState({ ...state, loading: false })\n            return false\n        }\n    }, [state])\n\n    /**\n     * Called to login to application after the OTP has been received and inputted in the form.\n     */\n    const onSubmitVerified = useCallback(async (form: ILogin) => {\n        setState({ ...state, loading: true })\n\n        try {\n            const user = await ctx.login(form.phone_number, form.code, form.password)\n\n            if (!user) {\n                throw new Error('Failed to login!')\n            }\n\n            addToast('Login successful!', {\n                appearance: 'success'\n            })\n            setState({ ...state, loading: false, })\n            return true\n        } catch (e) {\n            console.log(e)\n            addToast(e.message || 'Login failed!', {\n                appearance: 'error'\n            })\n            setState({ ...state, loading: false })\n            return false\n        }\n    }, [state])\n\n\n    return (\n        <div className='section'>\n            <figure className='image is-96x96 is-flex' style={{ margin: 'auto' }}>\n                <img src={logo} className='is-rounded' />\n            </figure>\n\n            <p className='help mb-4 has-text-weight-bold'>Improving the experience of managing temporary services</p>\n\n            {state.showCodeRequest ? (\n                <CodeRequestForm onComplete={() => setState({ ...state, showCodeRequest: false })} loading={state.loading} onSubmit={onSubmitCodeRequest} />\n            ) : (\n                    <LoginForm onCancel={() => setState({ ...state, showCodeRequest: true })} loading={state.loading} phone={state.phone} onSubmit={onSubmitVerified} />\n                )}\n\n            <div className='section mt-6 is-size-7'>\n                <p>Are you a new user?</p>\n                <Link to={links.register}>Request access</Link>\n            </div>\n        </div>\n    )\n}\n\n\nfunction CodeRequestForm({ onSubmit, loading, onComplete }) {\n    const [state, setState] = useState({\n        phone: '',\n        channel: 'sms'\n    })\n    const [viewState, setView] = useState({\n        showOptions: false,\n        hold: false,\n        holdTimer: 0,\n    })\n\n    let intervalID\n\n    const onSubmitForm = useCallback(async (e) => {\n        e.preventDefault()\n        e.stopPropagation()\n\n        // Trigger code to be sent. `success` decides if the code was successfully triggered.\n        const success = await onSubmit(state)\n        if (success) {\n            let counter = 59\n\n            clearInterval(intervalID)\n            intervalID = setInterval(() => {\n                if (counter === 0) {\n                    clearInterval(intervalID)\n                    setView({ ...viewState, hold: false, showOptions: true, holdTimer: counter })\n                    return\n                }\n                setView({ ...viewState, hold: true, holdTimer: counter, showOptions: true, })\n                counter--\n            }, 1000)\n        }\n    }, [state, viewState])\n\n    return (\n        <form onSubmit={onSubmitForm}>\n            <div className='field'>\n                <div className='control has-icons-left '>\n                    <input autoComplete=\"off\" disabled={loading || viewState.hold} required value={state.phone} onChange={(e) => setState({ ...state, phone: e.target.value })} placeholder='enter your phone number' className='input is-rounded' type='tel' />\n                    <span className='icon is-left is-small'><FaPhoneAlt /></span>\n                </div>\n\n            </div>\n            <div className='field mt-4'>\n                <div className='control'>\n                    {viewState.showOptions ?\n                        (\n                            <button onClick={onComplete} disabled={loading} className={`button is-rounded is-uppercase is-success ${loading ? 'is-loading' : ''}`} type='button'>\n                                <FaAngleDoubleRight />&nbsp; Proceed\n                            </button>\n                        ) : (\n                            <button disabled={loading || viewState.hold} className={`button is-rounded is-uppercase is-info ${loading ? 'is-loading' : ''}`} type='submit'>\n                                {state.channel === 'sms' ? <><FaSms />&nbsp; Send Code</> : <><FaPhoneAlt />&nbsp; Call Me</>}\n                            </button>\n                        )\n                    }\n                </div>\n            </div>\n\n            <div className='field is-size-7'>\n\n                {viewState.showOptions ? (\n                    <>\n                        <p className='help mt-4 mb-2'>Didn't get code? {viewState.hold ? <span className='has-text-danger'>Try again in: {viewState.holdTimer}s</span> : null}</p>\n                        <div className='control buttons has-addons is-centered'>\n                            <button onClick={() => {\n                                setView({ ...viewState, showOptions: false })\n                            }} disabled={loading || viewState.hold} className={`button has-text-weight-bold is-info is-outlined is-small is-rounded is-uppercase`} type='button'>\n                                <span className='is-size-7'>Try Again</span>\n                            </button>\n                            <button onClick={() => {\n                                setState({ ...state, channel: state.channel === 'sms' ? 'call' : 'sms' })\n                                setView({ ...viewState, showOptions: false })\n                            }} disabled={loading || viewState.hold} className={`button has-text-weight-bold is-info is-outlined is-small is-rounded is-uppercase`} type='button'>\n                                <span className='is-size-7'> {state.channel === 'sms' ? \"Use voice\" : \"Use SMS\"}</span>\n                            </button>\n                        </div>\n                    </>\n                ) : null}\n            </div>\n\n        </form>\n    )\n}\n\n\nfunction LoginForm({ phone, loading, onSubmit, onCancel }) {\n    const [state, setState] = useState<ILogin>({\n        code: '',\n        phone_number: phone,\n        password: '',\n        showPassword: false,\n    })\n\n    const onSubmitForm = useCallback(async (e) => {\n        e.preventDefault()\n        e.stopPropagation()\n\n        await onSubmit(state)\n    }, [state])\n\n    return (\n        <form onSubmit={onSubmitForm} >\n            <div className='field'>\n                <div className='control has-icons-left'>\n                    <input autoComplete=\"off\" disabled required value={state.phone_number} placeholder='enter your phone number' className='input' type='tel' />\n                    <span className='icon is-left is-small'><FaUser /></span>\n                </div>\n            </div>\n            <div className='field'>\n                <div className='control has-icons-left'>\n                    <input autoComplete=\"off\" pattern={'/.{4}/'} max={9999} maxLength={4} minLength={4} disabled={state.loading} required value={state.code} onChange={(e) => setState({ ...state, code: e.target.value })} placeholder='enter 4 digits code' className='input' type='number' />\n                    <span className='icon is-left is-small'><RiLockPasswordLine /></span>\n                </div>\n            </div>\n            <div className='field has-addons'>\n                <div className='control has-icons-left is-expanded'>\n                    <input autoComplete=\"off\" disabled={state.loading} required value={state.password} onChange={(e) => setState({ ...state, password: e.target.value })} placeholder='enter your password' className='input' type={state.showPassword ? 'text' : 'password'} />\n                    <span className='icon is-left is-small'><FaKey /></span>\n                </div>\n                <div className='control'>\n                    <button className='button' type='button' onClick={(e) => setState({ ...state, showPassword: !state.showPassword })}>{state.showPassword ? <FaEyeSlash /> : <FaEye />}\n                    </button>\n                </div>\n            </div>\n            <div className='field mt-6'>\n                <div className='control buttons is-centered'>\n                    <button onClick={onCancel} disabled={loading} className={`button is-rounded is-uppercase is-dark is-outlined`} type='button'>\n                        <FaChevronLeft />&nbsp; Back\n                    </button>\n                    <button disabled={loading} className={`button is-rounded is-uppercase is-success ${loading ? 'is-loading' : ''}`} type='submit'>\n                        <FaSignInAlt />&nbsp; Login\n                    </button>\n                </div>\n            </div>\n        </form>\n    )\n}","import React, { useContext, useEffect, useState } from 'react';\nimport { LoginView } from '../components/auth';\nimport { AuthHandler } from '../components/guard';\nimport { VIEW_CONTEXT } from '../lib';\n\nexport function Login() {\n    const viewCTX = useContext(VIEW_CONTEXT)\n\n    useEffect(() => {\n        viewCTX.showToolbar(false)\n        viewCTX.showFooter(false)\n\n        return () => {\n            viewCTX.showToolbar(true)\n            viewCTX.showFooter(true)\n        }\n    })\n\n    return (\n        <AuthHandler>\n            <div className='columns is-gapless is-fullheight is-multiline'>\n                <div className='column is-flex-centered is-atleast-fullheight'>\n                    <LoginView />\n                </div>\n                <div className='column is-6 is-hidden-touch is-flex has-background-info' />\n            </div>\n        </AuthHandler>\n    )\n}","import React, { useContext, useEffect } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { APPLICATION_CONTEXT, VIEW_CONTEXT } from '../lib';\n\nexport function Logout() {\n    const ctx = useContext(APPLICATION_CONTEXT)\n    const viewCTX = useContext(VIEW_CONTEXT)\n\n    useEffect(() => {\n        viewCTX.setAppReady(false)\n        viewCTX.showToolbar(false)\n        ctx.logout()\n\n        return () => {\n            viewCTX.showToolbar(true)\n            viewCTX.setAppReady(true)\n        }\n    }, [])\n\n    if (!viewCTX.signedIn) {\n        return <Redirect to={{ pathname: '/' }} />\n    }\n\n\n\n    return (\n        viewCTX.signedIn ? <></> : <Redirect to={{ pathname: '/' }} />\n    )\n}","import moment from \"moment\";\nimport React, { createContext, HTMLAttributes, useCallback, useContext, useEffect, useRef, useState } from 'react';\nimport { BsPencilSquare } from 'react-icons/bs';\nimport { CgMoreAlt } from 'react-icons/cg';\nimport { FaComments, FaSearch } from 'react-icons/fa';\nimport { NavLink, Route } from \"react-router-dom\";\nimport { useToasts } from \"react-toast-notifications\";\nimport { APPLICATION_CONTEXT } from \"../lib\";\nimport links from \"../lib/links\";\nimport { IChatItem, IMessage, Message } from \"../lib/message\";\nimport { User } from '../lib/user';\nimport { Empty } from \"./util\";\nimport { useDebouncedCallback } from \"use-debounce\";\n\nexport const ChatContext = createContext<{ chats: IChatItem[], setChats: (messages: IChatItem[]) => any }>({ chats: [], setChats: (chats) => { } })\n\nexport const ChatListProvider = (props) => {\n    const ctx = useContext(APPLICATION_CONTEXT)\n    const [chats, setChats] = useState<IChatItem[]>([])\n\n    const triggerListener = useCallback(() => {\n        const unsubscribe = Message.listenForChats(ctx, async (err, docs) => {\n            if (err) {\n                console.log(err)\n                return\n            }\n            if (!docs) {\n                return\n            }\n            const parsedChats: IChatItem[] = await Promise.all(await docs.map(async (doc) => {\n                const parsed: any = doc.data({ serverTimestamps: 'estimate' })\n                const old = chats.find(chat => chat?.id === doc.id)\n                parsed.id = doc.id\n                try {\n                    parsed.users = await Promise.all(await parsed.users.map(async (user: string) => {\n                        if (user === ctx.user!.id) {\n                            return ctx.user\n                        } else if (old) {\n                            const existing = old.users.find((existing: User) => existing.id === user)\n                            if (existing) {\n                                parsed.recipient = existing\n                                return existing\n                            } else {\n                                const recipient = await User.getExternalUser(ctx, user)\n                                parsed.recipient = recipient\n                                return recipient\n                            }\n                        }\n                        const recipient = await User.getExternalUser(ctx, user)\n                        parsed.recipient = recipient\n                        return recipient\n                    }))\n                    parsed.last_message = { ...parsed.last_message, createdAt: parsed.last_message?.createdAt.toDate() }\n                    return parsed\n                } catch (e) {\n                    console.log('Failed to get user data', e)\n                }\n            }))\n\n            setChats(parsedChats)\n        })\n\n        return () => unsubscribe()\n    }, [chats, ctx])\n\n    useEffect(triggerListener, [])\n\n\n    return (\n        <ChatContext.Provider value={{ chats, setChats }}>\n            {props.children}\n        </ChatContext.Provider>\n    )\n}\n\nexport function MessageListItem({ chat, to }: { chat: IChatItem, to: any }) {\n    const time = moment(chat.last_message!.createdAt)\n\n    return (\n        <NavLink activeClassName=\"is-active\" to={to} className={`job-item message-iitem mb-8 py-2 is-block card is-shadowless has-background-white-ter`}>\n            <div className='card-content'>\n                <div className='container is-paddingless'>\n                    <div className='columns '>\n                        <div className='column is-narrow is-flex' style={{ justifyContent: 'center' }}>\n                            <figure className='image is-flex is-48x48'>\n                                <img className='is-rounded' src={chat.recipient.profilePhoto} />\n                            </figure>\n                        </div>\n                        <div className='column'>\n                            <div className='columns mb-0 is-mobile name-bar'>\n                                <div className='has-text-left column has-text-weight-bold'>\n                                    <p>{`${chat.recipient.firstName} ${chat.recipient.lastName}`}</p>\n                                </div>\n                                <div className='has-text-right is-3-mobile column'>\n                                    <p>{time.calendar({ sameElse: 'DD/MMM/YYYY' })}</p>\n                                </div>\n                            </div>\n                            <div className='content has-text-left'>\n                                <p>{chat.last_message!.text}</p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </NavLink>\n    )\n}\n\nexport function MessageItem({ message, isCurrentUser, prevMessage, ...props }: { isCurrentUser: boolean, message: IMessage, prevMessage?: IMessage } & HTMLAttributes<HTMLDivElement>) {\n    const diffDay = Message.isDifferentDay(message, prevMessage)\n    return (\n        <>\n            {!!diffDay && <p className='is-size-8 my-4 has-text-grey-light'>{diffDay.calendar({ sameElse: 'DD/MMM/YYYY' })}</p>}\n            <div {...props} style={{ flexGrow: 0, ...props.style }} className={`container my-1 ${props.className} ${isCurrentUser ? 'mr-0' : 'ml-0'}`}>\n                <div className={`columns my-0 mx-0 is-vcentered ${isCurrentUser ? 'is-flex-direction-row-reverse' : ''}`}>\n                    <div className='column is-paddingless is-narrow is-flex' style={{ justifyContent: 'center' }}>\n                        <div className='column is-narrow is-flex' style={{ justifyContent: 'center' }}>\n                            <figure className='image is-32x32 is-flex'>\n                                <img className='is-rounded' src={message.user.profileImageURL} />\n                            </figure>\n                        </div>\n                        <div className='column is-size-7'>\n                            <span>{message.user.firstName} {message.user.lastName}</span>\n                        </div>\n                    </div>\n                </div>\n                <article style={{ borderRadius: '2em', border: isCurrentUser ? 'solid #dadada88 1px' : 0 }} className={`content px-4 py-2 ${isCurrentUser ? 'has-background-white has-text-black' : 'has-background-link has-text-white'}`}>\n                    <p>{message.text}</p>\n                </article>\n            </div>\n        </>\n    )\n}\n\nexport function MessageList({ onNewChat = () => { }, onOptionsClick = () => { }, className = '' }) {\n    const { chats } = useContext(ChatContext)\n    const [searchedChat, setSearchedChat] = useState<IChatItem[] | null>(null)\n    const [searchText, setSearchText] = useState('')\n    const [isLoading, setIsLoading] = useState(false)\n\n    const triggerSearch = useCallback(async (search) => {\n        setIsLoading(true)\n        try {\n            if (chats.length < 1) {\n                throw new Error('There is no chat to search')\n            }\n            if (!search) {\n                setSearchedChat(null)\n            }\n            const regexp = new RegExp(search, 'i')\n\n            const results = chats.filter((chat: IChatItem) => {\n                return (chat.last_message ? chat.last_message.text.search(regexp) >= 0 : false) || chat.recipient.firstName?.search(regexp) >= 0 || chat.recipient.lastName?.search(regexp) >= 0\n            })\n            console.log(results)\n            setSearchedChat(results)\n            setIsLoading(false)\n        } catch (e) {\n            console.log(e)\n            setSearchedChat([])\n            setIsLoading(false)\n        }\n    }, [chats])\n\n    const search = useDebouncedCallback(((e?: any) => {\n        if (e) {\n            e.stopPropagation()\n            e.preventDefault()\n        }\n\n        const search = searchText.trim()\n        if (!search) {\n            setSearchedChat(null)\n        }\n        if (search) {\n            triggerSearch(search)\n        }\n    }), 800)\n\n    useEffect(() => {\n        search()\n    }, [searchText])\n\n    return (\n        <div className={`${className} panel job-panel has-background-white-ter is-flex is-size-7`}>\n            <div className='panel-heading is-flex is-vcentered pb-4'>\n                <p className='has-text-left is-size-6'>Recent Messages</p>\n                <div className='field is-grouped is-grouped-right'>\n                    <p className='control'>\n                        <button className='button is-rounded is-small' onClick={onNewChat}>\n                            <span className='icon'>\n                                <BsPencilSquare />\n                            </span>\n                        </button>\n                    </p>\n                    <p className='control'>\n                        <button className='button is-rounded is-small' onClick={onOptionsClick}>\n                            <span className='icon'>\n                                <CgMoreAlt />\n                            </span>\n                        </button>\n                    </p>\n                </div>\n            </div>\n            <div className='panel-block'>\n                <div className='field has-addons' style={{ flex: 1 }}>\n                    <form onSubmit={(e) => {\n                        e.stopPropagation()\n                        e.preventDefault()\n                        search()\n                    }} className='control is-expanded has-icons-left'>\n                        <input value={searchText} onChange={e => setSearchText(e.target.value)} style={{ borderRight: 0 }} className='input is-rounded' type='search' placeholder='Search Messages...' />\n                        <span className='icon is-left'><FaSearch /></span>\n                    </form>\n                    {/* <div className='control'>\n                        <button style={{ borderLeft: 0 }} className='button is-rounded' onClick={() => window.alert(\"not ready yet\")}>\n                            <span className='icon is-right'><GoSettings /></span>\n                        </button>\n                    </div> */}\n                </div>\n            </div>\n            <div className='has-background-white-ter' style={{ overflowY: 'auto', overflowX: 'hidden' }}>\n                <Route path={`${links.messages}`} render={() => {\n                    if (isLoading) {\n                        return <div key='meassages-loader' className='px-6 my-6 is-flex'><progress style={{ height: '0.4rem' }} className=\"progress is-small my-6\" max=\"100\">loading</progress></div>\n                    } else if (searchText && searchedChat && searchedChat.length < 1) {\n                        return <Empty key='messages-search-empty' className='my-6' style={{ backgroundColor: 'transparent' }} text={'Search did not return any chat'} />\n                    } else if (chats.length < 1) {\n                        return <Empty key='messages-empty' className='my-6' style={{ backgroundColor: 'transparent' }} text={'No chat started yet!'} />\n                    } else {\n                        return (searchText && searchedChat ? searchedChat : chats).map(m => <MessageListItem key={m.id} chat={m} to={`${links.messages}/${m.id}`} />)\n                    }\n                }} />\n            </div>\n        </div>\n    )\n}\n\nexport function MessageDetail({ chat, className }: { chat?: IChatItem, className?: string }) {\n    const ctx = useContext(APPLICATION_CONTEXT)\n    const [messages, setMessages] = useState<IMessage[]>([])\n    const [text, setText] = useState('')\n    const [sending, setSending] = useState(false)\n    const { addToast } = useToasts()\n    const sectionRef = useRef<HTMLElement>(null)\n\n    const sendMessage = useCallback(async () => {\n        setSending(true)\n        try {\n            const message = text.trim()\n            if (!message) {\n                throw new Error('Cannot send empty message!')\n            }\n            if (!chat || !ctx.user) {\n                throw new Error('No chat thread available!')\n            }\n            await Message.sendMessage(ctx, chat, {\n                text: message,\n                type: 'text',\n                user: ctx.user,\n            })\n            setText('')\n        } catch (e) {\n            console.log(e)\n            addToast(e.message || 'Failed to send message', {\n                appearance: 'error'\n            })\n        } finally {\n            setSending(false)\n        }\n    }, [text])\n\n    useEffect(() => {\n        if (chat && chat.initialized) {\n            const unsubscribe = Message.listenForChatMessages(ctx, chat, (err, messages) => {\n                if (err) {\n                    console.log(err)\n                } else if (messages) {\n                    setMessages(messages)\n                }\n            })\n            return () => { unsubscribe() }\n        }\n    }, [chat?.recipient, chat?.initialized])\n\n    useEffect(() => {\n        if (sectionRef.current) {\n            const el = sectionRef.current\n            if (el.scrollHeight > el.clientHeight && el.scrollTop < (el.scrollHeight - el.clientHeight)) {\n                if (sectionRef.current.scroll) {\n                    sectionRef.current.scroll(0, el.scrollHeight - el.clientHeight)\n                } else {\n                    sectionRef.current.scrollTop = el.scrollHeight - el.clientHeight\n                }\n            }\n        }\n    }, [chat?.recipient, messages.length])\n\n    if (!chat) {\n        return (\n            <div className={`${className} card job-detail`} style={{ flexDirection: 'column' }}>\n                <div className='card-content is-paddingless is-flex-centered has-text-grey my-6'>\n                    <span className='my-4' ><FaComments fill='#811' style={{ height: \"8rem\", width: \"8rem\" }} /></span>\n                    <p className='is-uppercase is-size-6 has-text-weight-bold'>Select a contact to start a chat</p>\n                </div>\n            </div>\n        )\n    }\n\n    return (\n        <div className={`${className} card job-detail is-fullheight is-flex-direction-column`} style={{ zIndex: 1 }}>\n            <div className='card-content is-paddingless is-atleast-fullheight'>\n                <div className='level py-4 mb-0 is-mobile' style={{ zIndex: 2 }}>\n                    <div className='level-item is-size-7'></div>\n                    <div className='level-item is-size-5 has-text-weight-bold'>{`${chat.recipient.firstName} ${chat.recipient.lastName}`}</div>\n                    <div className='level-item is-size-7 pr-4' style={{ justifyContent: 'flex-end' }}>\n                        {/* \n                        TODO: decide what to do with these buttons\n                        <button className='button is-rounded is-small'><CgMoreAlt /></button> */}\n                    </div>\n                </div>\n                <div className='container is-fluid px-0 is-clipped' style={{ position: 'relative', paddingBottom: '6em' }}>\n                    <section ref={sectionRef} style={{ overflowY: 'auto' }} className='section is-flex pt-1 pb-0 is-fullheight is-flex-direction-column'>\n                        {(chat.initialized === false || messages.length < 1) && (\n                            <div className={`is-flex`} style={{ flexDirection: 'column' }}>\n                                <div className='card-content is-paddingless is-flex-centered has-text-grey my-6'>\n                                    <span className='my-4' ><FaComments fill='#811' style={{ height: \"8rem\", width: \"8rem\" }} /></span>\n                                    <p className='is-uppercase is-size-6 has-text-weight-bold'>Send your first chat to `{chat.recipient.firstName} {chat.recipient.lastName}`</p>\n                                </div>\n                            </div>\n                        )}\n                        {messages.map((message, i) => <MessageItem isCurrentUser={message.user.id === ctx.user?.id} message={message} prevMessage={messages[i - 1]} key={message._id} />)}\n                    </section>\n                    <div className='columns is-mobile is-fullheight mx-0 my-0' style={{\n                        position: 'relative', left: 0, right: 0,\n                        bottom: 0, height: '6em',\n                        borderTop: 'solid #dadada88 1px',\n                    }}>\n                        <div className='column is-9 is-mobile'>\n                            <div className={`control ${sending && 'is-loading'}`}>\n                                <textarea onChange={(e) => setText(e.target.value)} value={text} style={{ border: 0, height: '100%', minHeight: 'unset' }} className='textarea has-fixed-size' placeholder='Type a message...'></textarea>\n                            </div>\n                        </div>\n                        <div className='column columns is-centered mx-0 my-0 is-3 is-mobile is-flex'>\n                            <div className='buttons'>\n                                <button className='button is-success is-rounded' disabled={!text || sending} onClick={sendMessage}>SEND</button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}","import React, { useContext, useEffect, useState } from 'react';\nimport { useLocation, useParams } from 'react-router-dom';\nimport { ChatContext, MessageDetail, MessageList } from '../components/messages';\nimport { APPLICATION_CONTEXT } from '../lib';\nimport { IChatItem } from '../lib/message';\n\nexport function Messages() {\n    const ctx = useContext(APPLICATION_CONTEXT)\n    const { chats } = useContext(ChatContext)\n    const [chat, setChat] = useState<IChatItem | undefined>(undefined)\n    const location = useLocation()\n\n    const { id } = useParams()\n\n    useEffect(() => {\n        if (id) {\n            const chat = chats.find(chat => chat.id === id)\n            if (chat) {\n                setChat(chat)\n            } else {\n                // Check if chat object was passed in order to initialize a chat, the ID in this scenario should be `new`\n                const { chat } = location.state as { chat: IChatItem } || { chat: null }\n                if (chat) {\n                    // TODO: always check database if the chat thread has already been created\n                    setChat(chat)\n                } else {\n                    setChat(undefined)\n                }\n            }\n        } else {\n            setChat(undefined)\n        }\n    }, [location, chats])\n\n    return (\n        <div className='columns is-gapless px-4 py-4 is-fullheight is-multiline'>\n            <MessageList onNewChat={() => { }} className='column is-4 is-12-mobile is-clipped is-fullheight' />\n            <MessageDetail chat={chat} className='column is-6 is-12-mobile is-flex' />\n        </div>\n    )\n}","import React, { useContext, useEffect, useState } from 'react';\nimport { FaEnvelope, FaExclamationCircle, FaGraduationCap, FaMapMarkerAlt, FaStar } from 'react-icons/fa';\nimport { useLocation, useParams } from 'react-router-dom';\nimport { useToasts } from 'react-toast-notifications';\nimport { Empty } from \"../components/util\";\nimport { APPLICATION_CONTEXT } from '../lib';\nimport { Job } from '../lib/job';\nimport { User } from '../lib/user';\nimport moment from \"moment\";\nimport logo from '../logo.svg'\n\n\n/**\n * Profile component for viewing details of a user's profile. \n */\nexport function Profile() {\n    const ctx = useContext(APPLICATION_CONTEXT)\n    const [user, setUser] = useState<User>()\n    const [loading, setLoading] = useState<boolean>(true)\n    const [comments, setComments] = useState<{ text: string, first_name: string, last_name: string }[]>([])\n    const [loadingComments, setLoadingComments] = useState<boolean>(true)\n    const location = useLocation()\n    const { id } = useParams()\n    const { addToast } = useToasts()\n\n    useEffect(() => {\n        (async () => {\n            try {\n                setLoading(true)\n                const { user } = location.state as { user: User } || { user: null }\n                if (user) {\n                    setUser(user)\n                } else {\n                    if (!id) {\n                        throw new Error('No user found!')\n                    }\n                    const user = await User.getExternalUser(ctx, id)\n                    setUser(user)\n                }\n            } catch (e) {\n                console.log(e)\n                addToast(e.message || 'Failed to load user data!', { appearance: 'error' })\n            } finally {\n                setLoading(false)\n            }\n        })()\n    }, [location])\n\n    useEffect(() => {\n        (async () => {\n            if (!user) {\n                setLoadingComments(false)\n                return\n            }\n            try {\n                setLoadingComments(true)\n                const commentsData = await User.getComments(id)\n                setComments(commentsData)\n            } catch (e) {\n                console.log(e)\n                addToast(e.message || 'Failed to load comments!', { appearance: 'error' })\n            } finally {\n                setLoadingComments(false)\n            }\n        })()\n    }, [user])\n\n    return (\n        <div className='is-1 is-variable px-3 py-3 my-0 is-fullheight is-multiline'>\n            <div className='has-background-link' style={{\n                height: '10em',\n                width: '100%',\n                borderRadius: '1em 1em 0 0',\n                border: 'solid #dadada88 1px',\n                borderBottom: 0\n            }}></div>\n            {loading ?\n                <div className='columns is-flex-centered is-gapless is-clipped' style={{\n                    marginBottom: '0.8em',\n                    borderRadius: '0 0 1em 1em',\n                    backgroundColor: '#fafafa',\n                    border: 'solid #dadada88 1px',\n                    borderTop: 0,\n                    height: '76%',\n                }}>\n                    <div className='column is-4 is-12-mobile'>\n                        <div className='section px-6'>\n                            <progress className=\"progress is-small is-danger\" max=\"100\">loading</progress>\n                        </div>\n                    </div>\n                </div>\n                :\n                !user ?\n                    <Empty className='is-flex is-flex-direction-column is-size-5 is-flex-centered'\n                        icon={<FaExclamationCircle className='has-text-danger is-size-1 mb-4' />}\n                        style={{\n                            marginBottom: '0.8em',\n                            borderRadius: '0 0 1em 1em',\n                            backgroundColor: '#fafafa',\n                            border: 'solid #dadada88 1px',\n                            borderTop: 0,\n                            height: '76%',\n                        }}>\n                        <p className='block has-text-grey is-size-6'>No user found!</p>\n                    </Empty>\n                    :\n                    <div className='columns is-gapless' style={{\n                        marginBottom: '0.8em',\n                        borderRadius: '0 0 1em 1em',\n                        backgroundColor: '#fafafa',\n                        border: 'solid #dadada88 1px',\n                        borderTop: 0,\n                        minHeight: '68%',\n                    }}>\n                        <div className='column is-3 is-flex is-flex-direction-column has-text-left' style={{ alignItems: 'stretch' }}>\n                            <figure className='image is-flex is-128x128' style={{ top: '-5.6em', alignSelf: 'center' }}>\n                                <img className='is-rounded' onError={(img) => img.currentTarget.src = logo} src={Job.getPhotoURL(ctx, user.id)} style={{ background: 'radial-gradient(#fff ,#3273dc 300% 4%)', border: 'solid #8884 0.1px' }} />\n                            </figure>\n                            <div className='is-flex mb-4 is-flex-direction-column px-5' style={{ justifyContent: 'space-between', alignItems: 'stretch', flexGrow: 1, position: 'relative' }}>\n                                <div className='content has-text-left' style={{ position: 'relative', top: '-4em', width: '100%' }}>\n                                    <p className='mb-1 has-text-weight-bold'>{user.firstName} {user.lastName}</p>\n                                    <p className='mb-2 is-inline-flex has-text-grey-light'>\n                                        <span className='is-capitalized mr-2'>{user.occupation}</span>\n                                        <span className='is-inline-flex'>\n                                            <span className='icon has-text-info'><FaStar /></span>\n                                            <span>{user.starRate}</span>\n                                        </span>\n                                    </p>\n                                    <p className='mb-2'>{user.profileBio}</p>\n                                    <p className='mb-1 is-flex has-text-grey' style={{ alignItems: 'center' }}>\n                                        <span className='icon mr-2'><FaMapMarkerAlt /></span>{user.city || <span className='has-text-grey-light is-italic is-size-7'>Not Specified</span>}\n                                    </p>\n                                    <p className='mb-1 is-flex has-text-grey' style={{ alignItems: 'center' }}>\n                                        <span className='icon mr-2'><FaEnvelope /></span>{user.email || <span className='has-text-grey-light is-italic is-size-7'>Not Specified</span>}\n                                    </p>\n                                    <p className='mb-1 is-flex has-text-grey' style={{ alignItems: 'center' }}>\n                                        <span className='icon mr-2 is-size-5'><FaGraduationCap /></span>{user.educationalBackground[0] || <span className='has-text-grey-light is-italic is-size-7'>Not Specified</span>}\n                                    </p>\n                                </div>\n                                <div className='has-text-grey-light is-uppercase has-text-left is-size-7'>Joined {moment(user.dateCreated).calendar({ sameElse: 'DD/MMM/YYYY' })}</div>\n                            </div>\n                        </div>\n                        <div className='column is-5 is-flex is-flex-direction-column has-text-left' style={{ alignItems: 'stretch', border: 'solid #dadada88 1px', }}>\n                            <div className='is-flex is-flex-direction-column' style={{ justifyContent: 'flex-start', alignItems: 'stretch', flexGrow: 1, position: 'relative' }}>\n                                <header className='px-5 py-3 is-size-7 has-text-weight-bold is-uppercase'>Comments</header>\n                                <div className='content has-text-left px-5 py-2 is-size-7 has-background-white' style={{ flexGrow: 1 }}>\n                                    {loadingComments ?\n                                        <div className='section px-6'>\n                                            <progress className=\"progress is-small is-danger\" max=\"100\">loading</progress>\n                                        </div>\n                                        :\n                                        <>\n                                            {comments.length < 1 && <Empty className='mb-4' icon={<FaExclamationCircle className='has-text-warning-dark is-size-2 mb-3' />} style={{ backgroundColor: 'transparent' }} text={`${user.id === ctx.user!.id ? 'You have' : 'User has'} not received any comment yet!`} />}\n                                            {comments.map(comment => <p className='my-3'><span>\"{comment.text}\"</span><span>-{`${comment.first_name} ${comment.last_name}`}</span></p>)}\n                                        </>\n                                    }\n                                </div>\n                            </div>\n                        </div>\n                        <div className='column is-4 is-flex is-flex-direction-column has-text-left' style={{ alignItems: 'stretch' }}>\n                            <div className='is-flex is-flex-direction-column' style={{ justifyContent: 'flex-start', alignItems: 'stretch', flexGrow: 1, position: 'relative' }}>\n                                <header className='px-5 py-3 is-size-7 has-text-weight-bold is-uppercase'>Skills</header>\n                                <div className='has-text-left px-5 py-2 is-size-7 has-background-white'>\n                                    {user.skills.length < 1 && <Empty className='mb-4' icon={<FaExclamationCircle className='has-text-warning-dark is-size-2 mb-3' />} style={{ backgroundColor: 'transparent' }} text={`${user.id === ctx.user!.id ? 'You have' : 'User has'} not selected any skill yet!`} />}\n                                    {user.skills.map(skill => {\n                                        return <p className='my-3'>- {skill}</p>\n                                    })}\n                                </div>\n                                <header className='px-5 py-3 is-size-7 has-text-weight-bold is-uppercase'>Licenses</header>\n                                <div className='has-text-left px-5 py-2 is-size-7 has-background-white' style={{ flexGrow: 1 }}>\n                                    {user.licenses.length < 1 && <Empty icon={<FaExclamationCircle className='has-text-warning-dark is-size-2 mb-3' />} style={{ backgroundColor: 'transparent' }} text={`${user.id === ctx.user!.id ? 'You have' : 'User has'} not provided any licnese yet!`} />}\n                                    {user.licenses.map(license => {\n                                        return (\n                                            <div className='columnsmy-3 has-text-centered-mobile'>\n                                                <p className='column'>- {license.license_number}</p>\n                                                <p className='column is-3'>Expires {moment(license.expiration_date).calendar({ sameElse: 'DD/MMM/YYYY' })}</p>\n                                            </div>\n                                        )\n                                    })}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n            }\n        </div>\n    )\n}","import React, { useContext, useEffect, useState } from 'react';\nimport { RegisterView } from '../components/auth';\nimport { AuthHandler } from '../components/guard';\nimport { VIEW_CONTEXT } from '../lib';\n\n\nexport function Register() {\n    const viewCTX = useContext(VIEW_CONTEXT)\n    const [state, setState] = useState({ showModal: false })\n    const [formState, setFormState] = useState({\n        first_name: '',\n        last_name: '',\n        password: '',\n        password_verify: '',\n        email: '',\n        phone_number: '',\n        showPassword: false,\n        showPasswordVerify: false\n    })\n\n    useEffect(() => {\n        viewCTX.showToolbar(false)\n        viewCTX.showFooter(false)\n\n        return () => {\n            viewCTX.showFooter(true)\n            viewCTX.showToolbar(true)\n        }\n    })\n\n    return (\n        <AuthHandler>\n            <div className='columns is-gapless is-fullheight is-multiline'>\n                <div className='column is-flex-centered is-atleast-fullheight'>\n                    <RegisterView />\n                </div>\n                <div className='column is-6 is-hidden-touch is-flex has-background-success' />\n            </div>\n        </AuthHandler>\n    )\n}","import { unix } from 'moment';\nimport React, { useContext, useState } from 'react';\nimport { FaApple, FaChevronRight, FaCogs, FaPaypal } from 'react-icons/fa';\nimport { Link, NavLink, Route, Switch } from 'react-router-dom';\nimport { APPLICATION_CONTEXT } from '../lib';\nimport links from '../lib/links';\n\nexport function SettingsDetail({ title, children = <></> }) {\n    return (\n        <div className=\"container is-fluid settings-detail\">\n            <div className='content mb-0 py-4'>\n                <p className='has-text-weight-bold is-size-4 has-text-left has-text-centered-mobile'>{title}</p>\n            </div>\n            {children}\n        </div>\n    )\n}\n\nexport function Settings() {\n    const ctx = useContext(APPLICATION_CONTEXT)\n\n\n    return (\n        <div className='columns is-gapless px-4 py-4 is-fullheight is-multiline'>\n            <div className={`box px-0 py-0`} style={{ flexDirection: 'column', flex: 1 }}>\n                <div className='card-content is-paddingless is-atleast-fullheight is-flex' style={{ flexDirection: 'column' }}>\n                    <div className='level py-4 mb-0' style={{ boxShadow: '0 0.125em 0.25em rgba(10, 10, 10, .1)' }}>\n                        <div className='level-left-item is-size-6'>\n                            <p className=\"title is-size-6 has-text-weight-bold pl-4\">Settings</p>\n                        </div>\n                    </div>\n                    <div className='container is-flex is-fluid px-0'>\n                        <div className='columns mx-0 is-multiline' style={{ flexGrow: 1 }}>\n                            <div className='column is-2-fullhd is-3-desktop is-12 px-0'>\n                                <div className='container'>\n                                    <NavLink className='has-text-black' activeClassName='is-active' to={links.loginAndSecurity} exact>\n                                        <div className='py-4 is-size-5 settings-link' >\n                                            <p className='mx-4'>Login and Security</p>\n                                        </div>\n                                    </NavLink>\n                                    <NavLink className='has-text-black' activeClassName='is-active' to={links.paymentMethods}>\n                                        <div className='py-4 is-size-5 settings-link' >\n                                            <p className='mx-4'>Payment Methods</p>\n                                        </div>\n                                    </NavLink>\n                                    <NavLink className='has-text-black' activeClassName='is-active' to={links.additionalFeatures}>\n                                        <div className='py-4 is-size-5 settings-link' >\n                                            <p className='mx-4'>Additional Features</p>\n                                        </div>\n                                    </NavLink>\n                                    <NavLink className='has-text-black' activeClassName='is-active' to={links.legalDocuments}>\n                                        <div className='py-4 is-size-5 settings-link' >\n                                            <p className='mx-4'>Legal Documents</p>\n                                        </div>\n                                    </NavLink>\n                                </div>\n                            </div>\n                            <div className='column is-10-fullhd is-9-desktop is-12 is-flex px-0'>\n                                <Switch >\n                                    <Route path={links.loginAndSecurity} exact render={() => (\n                                        <LoginAndSecurity />\n                                    )} />\n                                    <Route path={links.paymentMethods} exact render={() => (\n                                        <PaymentMethods />\n                                    )} />\n                                    <Route path={links.legalDocuments} exact render={() => (\n                                        <LegalDocuments />\n                                    )} />\n                                    <Route render={() => (\n                                        <div className=\"container is-fluid is-flex-centered settings-detail py-6\">\n                                            <div className='content has-text-grey'>\n                                                <span className='my-4' ><FaCogs fill='#811' style={{ height: \"8rem\", width: \"8rem\" }} /></span>\n                                                <p className='is-uppercase is-size-6 has-text-weight-bold'>Manage your account</p>\n                                            </div>\n                                        </div>\n                                    )} />\n                                </Switch>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\n\nexport function LoginAndSecurity() {\n    const ctx = useContext(APPLICATION_CONTEXT)\n    const [state, setState] = useState({\n        email: ctx.user?.email, editEmail: false, isLoadingEmail: false,\n        lastPasswordChanged: ctx.user?.lastPasswordChanged ? unix(ctx.user?.lastPasswordChanged / 1000) : null\n    })\n\n    return (\n        <SettingsDetail title={\"Login and Security\"} children={(\n            <>\n                <div className='columns'>\n                    <div className='column has-text-left has-text-centered-mobile'>\n                        <p className='title input is-size-5 pb-2 is-shadowless px-0' style={{ border: 0 }}>Email Address</p>\n                        <p className='subtitle has-text-grey'>Email address connected to your account</p>\n                    </div>\n                    <div className='column has-text-right has-text-centered-mobile'>\n                        <div className={`control`}>\n                            <input className={`input ${state.editEmail ? '' : 'is-static'} has-text-black is-size-5 has-text-right has-text-centered-mobile`} value={state.email} contentEditable={false} disabled={!state.editEmail} onChange={e => setState({ ...state, email: e.target.value })} />\n                        </div>\n                        <div className='field is-grouped is-grouped-right'>\n                            <div className='control'>\n                                <button className='button' onClick={() => setState({ ...state, editEmail: !state.editEmail })}>Change</button>\n                            </div>\n                            {state.editEmail ? (\n                                <div className='control'>\n                                    <button className={`button is-info ${state.isLoadingEmail ? 'is-loading' : ''}`} onClick={() => {\n                                        setState({ ...state, isLoadingEmail: true })\n                                    }}>Change</button>\n                                </div>\n                            ) : null}\n                        </div>\n                    </div>\n                </div>\n                <div className='columns'>\n                    <div className='column has-text-left has-text-centered-mobile'>\n                        <p className='title input is-size-5 pb-2 is-shadowless px-0' style={{ border: 0 }}>Phone Number</p>\n                        <p className='subtitle has-text-grey'>Your phone number provided upon signing-up</p>\n                    </div>\n                    <div className='column has-text-right has-text-centered-mobile'>\n                        <div className={`control`}>\n                            <input className={`input is-static has-text-right has-text-black is-size-5 has-text-centered-mobile`} disabled value={ctx.user?.phoneNumber} />\n                        </div>\n                        <p className='subtitle has-text-grey'>Due to restrictions, contact support to modify your phone number</p>\n\n                    </div>\n                </div>\n                <div className='columns'>\n                    <div className='column has-text-left has-text-centered-mobile'>\n                        <p className='title input is-size-5 pb-2 is-shadowless px-0' style={{ border: 0 }}>Password</p>\n                        <p className='subtitle has-text-grey'>Maintain a strong, unique password to protect your account</p>\n                    </div>\n                    <div className='column has-text-right has-text-centered-mobile'>\n                        <div className={`control title`}>\n                            <button className='button is-link' onClick={() => setState({ ...state, editEmail: !state.editEmail })}>Change</button>\n                        </div>\n                        <p className='subtitle has-text-grey'>{state.lastPasswordChanged ? `Last modified ${state.lastPasswordChanged.calendar({sameElse:'DD/MMM/YYYY'})}` : \"Never Changed\"}</p>\n\n                    </div>\n                </div>\n            </>\n        )} />\n    )\n}\n\n\nexport function PaymentMethods() {\n    const ctx = useContext(APPLICATION_CONTEXT)\n    const [state, setState] = useState({\n        email: ctx.user?.email, editEmail: false, isLoadingEmail: false,\n        lastPasswordChanged: ctx.user?.lastPasswordChanged ? unix(ctx.user?.lastPasswordChanged / 1000) : null\n    })\n\n    return (\n        <SettingsDetail title={\"Payment Methods\"} children={(\n            <>\n                <div className='columns is-unselectable'>\n                    <div className='column has-text-left has-text-centered-mobile'>\n                        <p className='title is-size-5 pb-2 is-shadowless px-0' style={{ border: 0 }}>Preferred Method</p>\n                        <p className='subtitle has-text-grey'>Selected method of payment for jobs</p>\n                    </div>\n                    <div className='column has-text-right has-text-centered-mobile'>\n                        <p className='is-size-5 pb-2 is-shadowless px-0' style={{ border: 0 }}>{'VI 534***1234 12/22'}</p>\n                        <Link to={`${links.paymentMethods}/change`} >Change</Link>\n                    </div>\n                </div>\n                <div className='columns'>\n                    <div className='column has-text-left has-text-centered-mobile'>\n                        <p className='title is-size-5 pb-2 is-shadowless px-0' style={{ border: 0 }}>Other Methods</p>\n                    </div>\n                </div>\n                <div className='columns' style={{ borderTop: 0 }}>\n                    <div className='column has-text-right has-text-centered-mobile'>\n                        <div className='button is-white is-large'>\n                            <span className='icon'>\n                                <FaApple size={80} />\n                            </span>\n                            <span>Apple Pay</span>\n                            <span className='icon'>\n                                <FaChevronRight size={20} />\n                            </span>\n                        </div>\n                    </div>\n                </div>\n                <div className='columns'>\n                    <div className='column has-text-right has-text-centered-mobile'>\n                        <div className='button is-white is-large'>\n                            <span className='icon'>\n                                <FaPaypal size={80} />\n                            </span>\n                            <span>PayPal</span>\n                            <span className='icon'>\n                                <FaChevronRight size={20} />\n                            </span>\n                        </div>\n                    </div>\n                </div>\n                <div className='columns' style={{ borderBottom: 0 }}>\n                    <div className='column has-text-right has-text-centered-mobile'>\n                        <Link to={`${links.paymentMethods}/add`}>+ Add a Payment Method</Link>\n                    </div>\n                </div>\n            </>\n        )} />\n    )\n}\n\n\nexport function LegalDocuments() {\n    const ctx = useContext(APPLICATION_CONTEXT)\n    const [state, setState] = useState({\n        email: ctx.user?.email, editEmail: false, isLoadingEmail: false,\n        lastPasswordChanged: ctx.user?.lastPasswordChanged ? unix(ctx.user?.lastPasswordChanged / 1000) : null\n    })\n\n    return (\n        <SettingsDetail title={\"Legal Documents\"} children={(\n            <>\n                <Link to={`${links.legalDocuments}/useragreement`} className='columns is-vcentered is-unselectable'>\n                    <div className='column has-text-left has-text-centered-mobile'>\n                        <p className='title is-size-5 pb-2 px-0' >User Agreement</p>\n                    </div>\n                    <div className='column has-text-right has-text-centered-mobile'>\n                        <p className='is-size-5 pb-2 px-0' style={{ border: 0 }}>\n                            <span className='icon'><FaChevronRight /></span>\n                        </p>\n                    </div>\n                </Link>\n                <Link to={`${links.legalDocuments}/privacy`} className='columns is-vcentered is-unselectable'>\n                    <div className='column has-text-left has-text-centered-mobile'>\n                        <p className='title is-size-5 pb-2 px-0' >Privacy Policy</p>\n                    </div>\n                    <div className='column has-text-right has-text-centered-mobile'>\n                        <p className='is-size-5 pb-2 px-0' style={{ border: 0 }}>\n                            <span className='icon'><FaChevronRight /></span>\n                        </p>\n                    </div>\n                </Link>\n                <Link to={`${links.legalDocuments}/terms`} className='columns is-vcentered is-unselectable'>\n                    <div className='column has-text-left has-text-centered-mobile'>\n                        <p className='title is-size-5 pb-2 px-0' >Terms of Service</p>\n                    </div>\n                    <div className='column has-text-right has-text-centered-mobile'>\n                        <p className='is-size-5 pb-2 px-0' style={{ border: 0 }}>\n                            <span className='icon'><FaChevronRight /></span>\n                        </p>\n                    </div>\n                </Link>\n                <Link to={`${links.legalDocuments}/cookie`} className='columns is-vcentered is-unselectable'>\n                    <div className='column has-text-left has-text-centered-mobile'>\n                        <p className='title is-size-5 pb-2 px-0' >Cookie Policy</p>\n                    </div>\n                    <div className='column has-text-right has-text-centered-mobile'>\n                        <p className='is-size-5 pb-2 px-0' style={{ border: 0 }}>\n                            <span className='icon'><FaChevronRight /></span>\n                        </p>\n                    </div>\n                </Link>\n            </>\n        )} />\n    )\n}","import React, { useContext, useEffect, useState } from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport './App.css';\nimport { Footer } from './components/footer';\nimport { AuthGuard } from './components/guard';\nimport Toolbar from './components/toolbar';\nimport { Loading } from './components/util';\nimport { APPLICATION_CONTEXT, VIEW_CONTEXT } from './lib';\nimport './lib/firebase';\nimport links from './lib/links';\nimport { User } from './lib/user';\nimport { Dashboard } from './pages/dashboard';\nimport { Jobs } from './pages/jobs';\nimport { Login } from './pages/login';\nimport { Logout } from './pages/logout';\nimport { Messages } from './pages/messages';\nimport { Profile } from './pages/profile';\nimport { Register } from './pages/register';\nimport { Settings } from './pages/settings';\nimport { NotificationProvider } from './components/notification';\nimport { ChatListProvider } from './components/messages';\n\nfunction App() {\n  const ctx = useContext(APPLICATION_CONTEXT)\n  const [state, setState] = useState({ ready: false, })\n  const [showFooter, setShowFooter] = useState(true)\n  const [_showToolbar, showToolbar] = useState(true)\n  const [signedIn, setSignedIn] = useState<null | User>(null)\n\n  const viewContext = {\n    signedIn,\n    setSignedIn,\n    setAppReady: (ready) => setState({ ...state, ready }),\n    showToolbar,\n    showFooter: (showFooter) => setShowFooter(showFooter)\n  }\n\n  useEffect(() => {\n    ctx.loginListener = () => {\n      if (ctx.signedIn()) {\n        viewContext.setSignedIn(ctx.user as User)\n      }\n    }\n\n    ctx.logoutListener = () => viewContext.setSignedIn(null)\n\n    ctx.ready.then((ready) => {\n      if (!ready) {\n        return console.log('Failed to start application due to an internal error.', 'Please contact application admin')\n      }\n      setState({ ...state, ready: true })\n    })\n      .catch(e => {\n        console.log(e)\n      })\n  }, [])\n\n  return (\n    <NotificationProvider>\n      <VIEW_CONTEXT.Provider value={viewContext}>\n        {state.ready ?\n          <ChatListProvider>\n            {_showToolbar ? <Toolbar /> : null}\n            <div className='App-Body'>\n              <div className='is-fullheight'>\n                <Switch>\n                  <Route component={Login} path={links.login} exact />\n                  <Route component={Register} path={links.register} exact />\n                  <Route component={Logout} path={links.logout} exact />\n\n                  <AuthGuard component={Settings} path={links.settings} />\n                  <AuthGuard render={(props) => {\n                    return <Redirect to={{ pathname: links.activeJobs, state: props.location.state }} />\n                  }} path={links.jobs} exact />\n                  <AuthGuard component={Jobs} path={links._jobItem.active} />\n                  <AuthGuard component={Jobs} path={links._jobItem.inactive} />\n                  <AuthGuard component={Messages} path={links._messages} />\n                  <AuthGuard component={Profile} path={links._profile} />\n                  <AuthGuard component={Dashboard} path={links.dashboard} exact />\n\n                  <Route path={links.home} strict={false} exact={true}>\n                    {ctx.signedIn() && viewContext.signedIn ? <Redirect to={links.dashboard} /> : <Redirect to={links.login} />}\n                  </Route>\n                  <AuthGuard />\n                </Switch>\n              </div>\n            </div>\n            {showFooter ? <Footer /> : null}\n          </ChatListProvider>\n          :\n          <Loading />\n        }\n      </VIEW_CONTEXT.Provider>\n    </NotificationProvider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import \"react-app-polyfill/ie9\";\nimport 'react-app-polyfill/ie11'\nimport 'react-app-polyfill/stable'\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport '@yaireo/tagify/dist/tagify.css'\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { ToastProvider } from 'react-toast-notifications';\nimport { BrowserRouter } from 'react-router-dom';\nimport { APPLICATION_CONTEXT, DEFAULT_APPLICATION } from \"./lib\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <ToastProvider autoDismiss={5000} placement='top-center'>\n      <BrowserRouter basename='/contractoradmin'>\n        <APPLICATION_CONTEXT.Provider value={DEFAULT_APPLICATION}>\n          <App />\n        </APPLICATION_CONTEXT.Provider>\n      </BrowserRouter>\n    </ToastProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}